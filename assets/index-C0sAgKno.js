(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var g3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kC(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function _3(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),t}var hg={exports:{}},Zu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function VC(){if(gE)return Zu;gE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:r,type:n,key:u,ref:a!==void 0?a:null,props:l}}return Zu.Fragment=e,Zu.jsx=t,Zu.jsxs=t,Zu}var _E;function LC(){return _E||(_E=1,hg.exports=VC()),hg.exports}var j=LC(),fg={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function UC(){if(yE)return Ce;yE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,S={};function D(L,ae,ue){this.props=L,this.context=ae,this.refs=S,this.updater=ue||b}D.prototype.isReactComponent={},D.prototype.setState=function(L,ae){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ae,"setState")},D.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function P(){}P.prototype=D.prototype;function F(L,ae,ue){this.props=L,this.context=ae,this.refs=S,this.updater=ue||b}var B=F.prototype=new P;B.constructor=F,I(B,D.prototype),B.isPureReactComponent=!0;var K=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function x(L,ae,ue,le,pe,be){return ue=be.ref,{$$typeof:r,type:L,key:ae,ref:ue!==void 0?ue:null,props:be}}function R(L,ae){return x(L.type,ae,void 0,void 0,void 0,L.props)}function C(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function M(L){var ae={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return ae[ue]})}var V=/\/+/g;function U(L,ae){return typeof L=="object"&&L!==null&&L.key!=null?M(""+L.key):ae.toString(36)}function N(){}function Le(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(N,N):(L.status="pending",L.then(function(ae){L.status==="pending"&&(L.status="fulfilled",L.value=ae)},function(ae){L.status==="pending"&&(L.status="rejected",L.reason=ae)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Ie(L,ae,ue,le,pe){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var Ae=!1;if(L===null)Ae=!0;else switch(be){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(L.$$typeof){case r:case e:Ae=!0;break;case _:return Ae=L._init,Ie(Ae(L._payload),ae,ue,le,pe)}}if(Ae)return pe=pe(L),Ae=le===""?"."+U(L,0):le,K(pe)?(ue="",Ae!=null&&(ue=Ae.replace(V,"$&/")+"/"),Ie(pe,ae,ue,"",function(Oi){return Oi})):pe!=null&&(C(pe)&&(pe=R(pe,ue+(pe.key==null||L&&L.key===pe.key?"":(""+pe.key).replace(V,"$&/")+"/")+Ae)),ae.push(pe)),1;Ae=0;var Bt=le===""?".":le+":";if(K(L))for(var it=0;it<L.length;it++)le=L[it],be=Bt+U(le,it),Ae+=Ie(le,ae,ue,be,pe);else if(it=T(L),typeof it=="function")for(L=it.call(L),it=0;!(le=L.next()).done;)le=le.value,be=Bt+U(le,it++),Ae+=Ie(le,ae,ue,be,pe);else if(be==="object"){if(typeof L.then=="function")return Ie(Le(L),ae,ue,le,pe);throw ae=String(L),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Z(L,ae,ue){if(L==null)return L;var le=[],pe=0;return Ie(L,le,"","",function(be){return ae.call(ue,be,pe++)}),le}function oe(L){if(L._status===-1){var ae=L._result;ae=ae(),ae.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=ae)}if(L._status===1)return L._result.default;throw L._result}var de=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Me(){}return Ce.Children={map:Z,forEach:function(L,ae,ue){Z(L,function(){ae.apply(this,arguments)},ue)},count:function(L){var ae=0;return Z(L,function(){ae++}),ae},toArray:function(L){return Z(L,function(ae){return ae})||[]},only:function(L){if(!C(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ce.Component=D,Ce.Fragment=t,Ce.Profiler=a,Ce.PureComponent=F,Ce.StrictMode=n,Ce.Suspense=d,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(L){return H.H.useMemoCache(L)}},Ce.cache=function(L){return function(){return L.apply(null,arguments)}},Ce.cloneElement=function(L,ae,ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var le=I({},L.props),pe=L.key,be=void 0;if(ae!=null)for(Ae in ae.ref!==void 0&&(be=void 0),ae.key!==void 0&&(pe=""+ae.key),ae)!ee.call(ae,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ae.ref===void 0||(le[Ae]=ae[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=ue;else if(1<Ae){for(var Bt=Array(Ae),it=0;it<Ae;it++)Bt[it]=arguments[it+2];le.children=Bt}return x(L.type,pe,void 0,void 0,be,le)},Ce.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ce.createElement=function(L,ae,ue){var le,pe={},be=null;if(ae!=null)for(le in ae.key!==void 0&&(be=""+ae.key),ae)ee.call(ae,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(pe[le]=ae[le]);var Ae=arguments.length-2;if(Ae===1)pe.children=ue;else if(1<Ae){for(var Bt=Array(Ae),it=0;it<Ae;it++)Bt[it]=arguments[it+2];pe.children=Bt}if(L&&L.defaultProps)for(le in Ae=L.defaultProps,Ae)pe[le]===void 0&&(pe[le]=Ae[le]);return x(L,be,void 0,void 0,null,pe)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(L){return{$$typeof:h,render:L}},Ce.isValidElement=C,Ce.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:oe}},Ce.memo=function(L,ae){return{$$typeof:p,type:L,compare:ae===void 0?null:ae}},Ce.startTransition=function(L){var ae=H.T,ue={};H.T=ue;try{var le=L(),pe=H.S;pe!==null&&pe(ue,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Me,de)}catch(be){de(be)}finally{H.T=ae}},Ce.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ce.use=function(L){return H.H.use(L)},Ce.useActionState=function(L,ae,ue){return H.H.useActionState(L,ae,ue)},Ce.useCallback=function(L,ae){return H.H.useCallback(L,ae)},Ce.useContext=function(L){return H.H.useContext(L)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(L,ae){return H.H.useDeferredValue(L,ae)},Ce.useEffect=function(L,ae,ue){var le=H.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(L,ae)},Ce.useId=function(){return H.H.useId()},Ce.useImperativeHandle=function(L,ae,ue){return H.H.useImperativeHandle(L,ae,ue)},Ce.useInsertionEffect=function(L,ae){return H.H.useInsertionEffect(L,ae)},Ce.useLayoutEffect=function(L,ae){return H.H.useLayoutEffect(L,ae)},Ce.useMemo=function(L,ae){return H.H.useMemo(L,ae)},Ce.useOptimistic=function(L,ae){return H.H.useOptimistic(L,ae)},Ce.useReducer=function(L,ae,ue){return H.H.useReducer(L,ae,ue)},Ce.useRef=function(L){return H.H.useRef(L)},Ce.useState=function(L){return H.H.useState(L)},Ce.useSyncExternalStore=function(L,ae,ue){return H.H.useSyncExternalStore(L,ae,ue)},Ce.useTransition=function(){return H.H.useTransition()},Ce.version="19.1.0",Ce}var vE;function P_(){return vE||(vE=1,fg.exports=UC()),fg.exports}var $=P_();const Ps=kC($);var Ju={},TE;function zC(){if(TE)return Ju;TE=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.parse=u,Ju.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,b){const I=new l,S=T.length;if(S<2)return I;const D=b?.decode||_;let P=0;do{const F=T.indexOf("=",P);if(F===-1)break;const B=T.indexOf(";",P),K=B===-1?S:B;if(F>K){P=T.lastIndexOf(";",F-1)+1;continue}const H=h(T,P,F),ee=d(T,F,H),x=T.slice(H,ee);if(I[x]===void 0){let R=h(T,F+1,K),C=d(T,K,R);const M=D(T.slice(R,C));I[x]=M}P=K+1}while(P<S);return I}function h(T,b,I){do{const S=T.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<I);return I}function d(T,b,I){for(;b>I;){const S=T.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return I}function p(T,b,I){const S=I?.encode||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const D=S(b);if(!e.test(D))throw new TypeError(`argument val is invalid: ${b}`);let P=T+"="+D;if(!I)return P;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);P+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);P+="; Domain="+I.domain}if(I.path){if(!n.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);P+="; Path="+I.path}if(I.expires){if(!v(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);P+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(P+="; HttpOnly"),I.secure&&(P+="; Secure"),I.partitioned&&(P+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return P}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function v(T){return a.call(T)==="[object Date]"}return Ju}zC();var EE="popstate";function jC(r={}){function e(n,a){let{pathname:l,search:u,hash:h}=n.location;return qg("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:wc(a)}return FC(e,t,null,r)}function dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function nr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BC(){return Math.random().toString(36).substring(2,10)}function wE(r,e){return{usr:r.state,key:r.key,idx:e}}function qg(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Vl(e):e,state:t,key:e&&e.key||n||BC()}}function wc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Vl(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function FC(r,e,t,n={}){let{window:a=document.defaultView,v5Compat:l=!1}=n,u=a.history,h="POP",d=null,p=_();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function _(){return(u.state||{idx:null}).idx}function v(){h="POP";let D=_(),P=D==null?null:D-p;p=D,d&&d({action:h,location:S.location,delta:P})}function T(D,P){h="PUSH";let F=qg(S.location,D,P);p=_()+1;let B=wE(F,p),K=S.createHref(F);try{u.pushState(B,"",K)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(K)}l&&d&&d({action:h,location:S.location,delta:1})}function b(D,P){h="REPLACE";let F=qg(S.location,D,P);p=_();let B=wE(F,p),K=S.createHref(F);u.replaceState(B,"",K),l&&d&&d({action:h,location:S.location,delta:0})}function I(D){return qC(D)}let S={get action(){return h},get location(){return r(a,u)},listen(D){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(EE,v),d=D,()=>{a.removeEventListener(EE,v),d=null}},createHref(D){return e(a,D)},createURL:I,encodeLocation(D){let P=I(D);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:T,replace:b,go(D){return u.go(D)}};return S}function qC(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),dt(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:wc(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function Hb(r,e,t="/"){return HC(r,e,t,!1)}function HC(r,e,t,n){let a=typeof e=="string"?Vl(e):e,l=qr(a.pathname||"/",t);if(l==null)return null;let u=Gb(r);GC(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=nO(l);h=eO(u[d],p,n)}return h}function Gb(r,e=[],t=[],n=""){let a=(l,u,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(dt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let p=jr([n,d.relativePath]),_=t.concat(d);l.children&&l.children.length>0&&(dt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Gb(l.children,e,_,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:ZC(p,l.index),routesMeta:_})};return r.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let h of $b(l.path))a(l,u,h)}),e}function $b(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let u=$b(n.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>r.startsWith("/")&&d===""?"/":d)}function GC(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:JC(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var $C=/^:[\w-]+$/,YC=3,KC=2,QC=1,XC=10,WC=-2,bE=r=>r==="*";function ZC(r,e){let t=r.split("/"),n=t.length;return t.some(bE)&&(n+=WC),e&&(n+=KC),t.filter(a=>!bE(a)).reduce((a,l)=>a+($C.test(l)?YC:l===""?QC:XC),n)}function JC(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function eO(r,e,t=!1){let{routesMeta:n}=r,a={},l="/",u=[];for(let h=0;h<n.length;++h){let d=n[h],p=h===n.length-1,_=l==="/"?e:e.slice(l.length)||"/",v=Jf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},_),T=d.route;if(!v&&p&&t&&!n[n.length-1].route.index&&(v=Jf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},_)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:jr([l,v.pathname]),pathnameBase:aO(jr([l,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(l=jr([l,v.pathnameBase]))}return u}function Jf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=tO(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:n.reduce((p,{paramName:_,isOptional:v},T)=>{if(_==="*"){let I=h[T]||"";u=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const b=h[T];return v&&!b?p[_]=void 0:p[_]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:r}}function tO(r,e=!1,t=!0){nr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(n.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function nO(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function qr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function iO(r,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?Vl(r):r;return{pathname:t?t.startsWith("/")?t:rO(t,e):e,search:oO(n),hash:lO(a)}}function rO(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function dg(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sO(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Yb(r){let e=sO(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Kb(r,e,t,n=!1){let a;typeof r=="string"?a=Vl(r):(a={...r},dt(!a.pathname||!a.pathname.includes("?"),dg("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),dg("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),dg("#","search","hash",a)));let l=r===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!n&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),v-=1;a.pathname=T.join("/")}h=v>=0?e[v]:"/"}let d=iO(a,h),p=u&&u!=="/"&&u.endsWith("/"),_=(l||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||_)&&(d.pathname+="/"),d}var jr=r=>r.join("/").replace(/\/\/+/g,"/"),aO=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),oO=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,lO=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function uO(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Qb=["POST","PUT","PATCH","DELETE"];new Set(Qb);var cO=["GET",...Qb];new Set(cO);var Ll=$.createContext(null);Ll.displayName="DataRouter";var Md=$.createContext(null);Md.displayName="DataRouterState";var Xb=$.createContext({isTransitioning:!1});Xb.displayName="ViewTransition";var hO=$.createContext(new Map);hO.displayName="Fetchers";var fO=$.createContext(null);fO.displayName="Await";var ar=$.createContext(null);ar.displayName="Navigation";var Fc=$.createContext(null);Fc.displayName="Location";var or=$.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var M_=$.createContext(null);M_.displayName="RouteError";function dO(r,{relative:e}={}){dt(qc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=$.useContext(ar),{hash:a,pathname:l,search:u}=Hc(r,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:jr([t,l])),n.createHref({pathname:h,search:u,hash:a})}function qc(){return $.useContext(Fc)!=null}function Ri(){return dt(qc(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Fc).location}var Wb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zb(r){$.useContext(ar).static||$.useLayoutEffect(r)}function uo(){let{isDataRoute:r}=$.useContext(or);return r?IO():mO()}function mO(){dt(qc(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(Ll),{basename:e,navigator:t}=$.useContext(ar),{matches:n}=$.useContext(or),{pathname:a}=Ri(),l=JSON.stringify(Yb(n)),u=$.useRef(!1);return Zb(()=>{u.current=!0}),$.useCallback((d,p={})=>{if(nr(u.current,Wb),!u.current)return;if(typeof d=="number"){t.go(d);return}let _=Kb(d,JSON.parse(l),a,p.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:jr([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,l,a,r])}$.createContext(null);function pO(){let{matches:r}=$.useContext(or),e=r[r.length-1];return e?e.params:{}}function Hc(r,{relative:e}={}){let{matches:t}=$.useContext(or),{pathname:n}=Ri(),a=JSON.stringify(Yb(t));return $.useMemo(()=>Kb(r,JSON.parse(a),n,e==="path"),[r,a,n,e])}function gO(r,e){return Jb(r,e)}function Jb(r,e,t,n){dt(qc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=$.useContext(ar),{matches:l}=$.useContext(or),u=l[l.length-1],h=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",_=u&&u.route;{let P=_&&_.path||"";eA(d,!_||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=Ri(),T;if(e){let P=typeof e=="string"?Vl(e):e;dt(p==="/"||P.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),T=P}else T=v;let b=T.pathname||"/",I=b;if(p!=="/"){let P=p.replace(/^\//,"").split("/");I="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let S=Hb(r,{pathname:I});nr(_||S!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),nr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=EO(S&&S.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:jr([p,a.encodeLocation?a.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:jr([p,a.encodeLocation?a.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),l,t,n);return e&&D?$.createElement(Fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},D):D}function _O(){let r=RO(),e=uO(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:a},t):null,u)}var yO=$.createElement(_O,null),vO=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?$.createElement(or.Provider,{value:this.props.routeContext},$.createElement(M_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TO({routeContext:r,match:e,children:t}){let n=$.useContext(Ll);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(or.Provider,{value:r},t)}function EO(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,l=t?.errors;if(l!=null){let d=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);dt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(t)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:_,errors:v}=t,T=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||T){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,p,_)=>{let v,T=!1,b=null,I=null;t&&(v=l&&p.route.id?l[p.route.id]:void 0,b=p.route.errorElement||yO,u&&(h<0&&_===0?(eA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,I=null):h===_&&(T=!0,I=p.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,_+1)),D=()=>{let P;return v?P=b:T?P=I:p.route.Component?P=$.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=d,$.createElement(TO,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:P})};return t&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?$.createElement(vO,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:D(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):D()},null)}function k_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wO(r){let e=$.useContext(Ll);return dt(e,k_(r)),e}function bO(r){let e=$.useContext(Md);return dt(e,k_(r)),e}function AO(r){let e=$.useContext(or);return dt(e,k_(r)),e}function V_(r){let e=AO(r),t=e.matches[e.matches.length-1];return dt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function SO(){return V_("useRouteId")}function RO(){let r=$.useContext(M_),e=bO("useRouteError"),t=V_("useRouteError");return r!==void 0?r:e.errors?.[t]}function IO(){let{router:r}=wO("useNavigate"),e=V_("useNavigate"),t=$.useRef(!1);return Zb(()=>{t.current=!0}),$.useCallback(async(a,l={})=>{nr(t.current,Wb),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var AE={};function eA(r,e,t){!e&&!AE[r]&&(AE[r]=!0,nr(!1,t))}$.memo(CO);function CO({routes:r,future:e,state:t}){return Jb(r,void 0,t,e)}function Ba(r){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OO({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:l=!1}){dt(!qc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),h=$.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof t=="string"&&(t=Vl(t));let{pathname:d="/",search:p="",hash:_="",state:v=null,key:T="default"}=t,b=$.useMemo(()=>{let I=qr(d,u);return I==null?null:{location:{pathname:I,search:p,hash:_,state:v,key:T},navigationType:n}},[u,d,p,_,v,T,n]);return nr(b!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:$.createElement(ar.Provider,{value:h},$.createElement(Fc.Provider,{children:e,value:b}))}function DO({children:r,location:e}){return gO(Hg(r),e)}function Hg(r,e=[]){let t=[];return $.Children.forEach(r,(n,a)=>{if(!$.isValidElement(n))return;let l=[...e,a];if(n.type===$.Fragment){t.push.apply(t,Hg(n.props.children,l));return}dt(n.type===Ba,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=Hg(n.props.children,l)),t.push(u)}),t}var Lf="get",Uf="application/x-www-form-urlencoded";function kd(r){return r!=null&&typeof r.tagName=="string"}function xO(r){return kd(r)&&r.tagName.toLowerCase()==="button"}function NO(r){return kd(r)&&r.tagName.toLowerCase()==="form"}function PO(r){return kd(r)&&r.tagName.toLowerCase()==="input"}function MO(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function kO(r,e){return r.button===0&&(!e||e==="_self")&&!MO(r)}var Cf=null;function VO(){if(Cf===null)try{new FormData(document.createElement("form"),0),Cf=!1}catch{Cf=!0}return Cf}var LO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mg(r){return r!=null&&!LO.has(r)?(nr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uf}"`),null):r}function UO(r,e){let t,n,a,l,u;if(NO(r)){let h=r.getAttribute("action");n=h?qr(h,e):null,t=r.getAttribute("method")||Lf,a=mg(r.getAttribute("enctype"))||Uf,l=new FormData(r)}else if(xO(r)||PO(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||h.getAttribute("action");if(n=d?qr(d,e):null,t=r.getAttribute("formmethod")||h.getAttribute("method")||Lf,a=mg(r.getAttribute("formenctype"))||mg(h.getAttribute("enctype"))||Uf,l=new FormData(h,r),!VO()){let{name:p,type:_,value:v}=r;if(_==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,v)}}else{if(kd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Lf,n=null,a=Uf,u=r}return l&&a==="text/plain"&&(u=l,l=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:l,body:u}}function L_(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function zO(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jO(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function BO(r,e,t){let n=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await zO(l,t);return u.links?u.links():[]}return[]}));return GO(n.flat(1).filter(jO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function SE(r,e,t,n,a,l){let u=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,h=(d,p)=>t[p].pathname!==d.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{let _=n.routes[d.route.id];if(!_||!_.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function FO(r,e,{includeHydrateFallback:t}={}){return qO(r.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function qO(r){return[...new Set(r)]}function HO(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function GO(r,e){let t=new Set;return new Set(e),r.reduce((n,a)=>{let l=JSON.stringify(HO(a));return t.has(l)||(t.add(l),n.push({key:l,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $O=new Set([100,101,204,205]);function YO(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&qr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function tA(){let r=$.useContext(Ll);return L_(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function KO(){let r=$.useContext(Md);return L_(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var U_=$.createContext(void 0);U_.displayName="FrameworkContext";function nA(){let r=$.useContext(U_);return L_(r,"You must render this element inside a <HydratedRouter> element"),r}function QO(r,e){let t=$.useContext(U_),[n,a]=$.useState(!1),[l,u]=$.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:_,onTouchStart:v}=e,T=$.useRef(null);$.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let S=P=>{P.forEach(F=>{u(F.isIntersecting)})},D=new IntersectionObserver(S,{threshold:.5});return T.current&&D.observe(T.current),()=>{D.disconnect()}}},[r]),$.useEffect(()=>{if(n){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[n]);let b=()=>{a(!0)},I=()=>{a(!1),u(!1)};return t?r!=="intent"?[l,T,{}]:[l,T,{onFocus:ec(h,b),onBlur:ec(d,I),onMouseEnter:ec(p,b),onMouseLeave:ec(_,I),onTouchStart:ec(v,b)}]:[!1,T,{}]}function ec(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function XO({page:r,...e}){let{router:t}=tA(),n=$.useMemo(()=>Hb(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?$.createElement(ZO,{page:r,matches:n,...e}):null}function WO(r){let{manifest:e,routeModules:t}=nA(),[n,a]=$.useState([]);return $.useEffect(()=>{let l=!1;return BO(r,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[r,e,t]),n}function ZO({page:r,matches:e,...t}){let n=Ri(),{manifest:a,routeModules:l}=nA(),{basename:u}=tA(),{loaderData:h,matches:d}=KO(),p=$.useMemo(()=>SE(r,e,d,a,n,"data"),[r,e,d,a,n]),_=$.useMemo(()=>SE(r,e,d,a,n,"assets"),[r,e,d,a,n]),v=$.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let I=new Set,S=!1;if(e.forEach(P=>{let F=a.routes[P.route.id];!F||!F.hasLoader||(!p.some(B=>B.route.id===P.route.id)&&P.route.id in h&&l[P.route.id]?.shouldRevalidate||F.hasClientLoader?S=!0:I.add(P.route.id))}),I.size===0)return[];let D=YO(r,u);return S&&I.size>0&&D.searchParams.set("_routes",e.filter(P=>I.has(P.route.id)).map(P=>P.route.id).join(",")),[D.pathname+D.search]},[u,h,n,a,p,e,r,l]),T=$.useMemo(()=>FO(_,a),[_,a]),b=WO(_);return $.createElement($.Fragment,null,v.map(I=>$.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),T.map(I=>$.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),b.map(({key:I,link:S})=>$.createElement("link",{key:I,...S})))}function JO(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iA&&(window.__reactRouterVersion="7.6.2")}catch{}function eD({basename:r,children:e,window:t}){let n=$.useRef();n.current==null&&(n.current=jC({window:t,v5Compat:!0}));let a=n.current,[l,u]=$.useState({action:a.action,location:a.location}),h=$.useCallback(d=>{$.startTransition(()=>u(d))},[u]);return $.useLayoutEffect(()=>a.listen(h),[a,h]),$.createElement(OO,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:a})}var rA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bc=$.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:_,viewTransition:v,...T},b){let{basename:I}=$.useContext(ar),S=typeof p=="string"&&rA.test(p),D,P=!1;if(typeof p=="string"&&S&&(D=p,iA))try{let C=new URL(window.location.href),M=p.startsWith("//")?new URL(C.protocol+p):new URL(p),V=qr(M.pathname,I);M.origin===C.origin&&V!=null?p=V+M.search+M.hash:P=!0}catch{nr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=dO(p,{relative:a}),[B,K,H]=QO(n,T),ee=rD(p,{replace:u,state:h,target:d,preventScrollReset:_,relative:a,viewTransition:v});function x(C){e&&e(C),C.defaultPrevented||ee(C)}let R=$.createElement("a",{...T,...H,href:D||F,onClick:P||l?e:x,ref:JO(b,K),target:d,"data-discover":!S&&t==="render"?"true":void 0});return B&&!S?$.createElement($.Fragment,null,R,$.createElement(XO,{page:F})):R});bc.displayName="Link";var tD=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...p},_){let v=Hc(u,{relative:p.relative}),T=Ri(),b=$.useContext(Md),{navigator:I,basename:S}=$.useContext(ar),D=b!=null&&uD(v)&&h===!0,P=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,F=T.pathname,B=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(F=F.toLowerCase(),B=B?B.toLowerCase():null,P=P.toLowerCase()),B&&S&&(B=qr(B,S)||B);const K=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let H=F===P||!a&&F.startsWith(P)&&F.charAt(K)==="/",ee=B!=null&&(B===P||!a&&B.startsWith(P)&&B.charAt(P.length)==="/"),x={isActive:H,isPending:ee,isTransitioning:D},R=H?e:void 0,C;typeof n=="function"?C=n(x):C=[n,H?"active":null,ee?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(x):l;return $.createElement(bc,{...p,"aria-current":R,className:C,ref:_,style:M,to:u,viewTransition:h},typeof d=="function"?d(x):d)});tD.displayName="NavLink";var nD=$.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:l,method:u=Lf,action:h,onSubmit:d,relative:p,preventScrollReset:_,viewTransition:v,...T},b)=>{let I=oD(),S=lD(h,{relative:p}),D=u.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&rA.test(h),F=B=>{if(d&&d(B),B.defaultPrevented)return;B.preventDefault();let K=B.nativeEvent.submitter,H=K?.getAttribute("formmethod")||u;I(K||B.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:a,state:l,relative:p,preventScrollReset:_,viewTransition:v})};return $.createElement("form",{ref:b,method:D,action:S,onSubmit:n?d:F,...T,"data-discover":!P&&r==="render"?"true":void 0})});nD.displayName="Form";function iD(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sA(r){let e=$.useContext(Ll);return dt(e,iD(r)),e}function rD(r,{target:e,replace:t,state:n,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=uo(),d=Ri(),p=Hc(r,{relative:l});return $.useCallback(_=>{if(kO(_,e)){_.preventDefault();let v=t!==void 0?t:wc(d)===wc(p);h(r,{replace:v,state:n,preventScrollReset:a,relative:l,viewTransition:u})}},[d,h,p,t,n,e,r,a,l,u])}var sD=0,aD=()=>`__${String(++sD)}__`;function oD(){let{router:r}=sA("useSubmit"),{basename:e}=$.useContext(ar),t=SO();return $.useCallback(async(n,a={})=>{let{action:l,method:u,encType:h,formData:d,body:p}=UO(n,e);if(a.navigate===!1){let _=a.fetcherKey||aD();await r.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await r.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function lD(r,{relative:e}={}){let{basename:t}=$.useContext(ar),n=$.useContext(or);dt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),l={...Hc(r||".",{relative:e})},u=Ri();if(r==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(_=>_==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let _=h.toString();l.search=_?`?${_}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:jr([t,l.pathname])),wc(l)}function uD(r,e={}){let t=$.useContext(Xb);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=sA("useViewTransitionState"),a=Hc(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=qr(t.currentLocation.pathname,n)||t.currentLocation.pathname,u=qr(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Jf(a.pathname,u)!=null||Jf(a.pathname,l)!=null}[...$O];var pg={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function cD(){if(RE)return on;RE=1;var r=P_();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:_}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,on.createPortal=function(d,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,_)},on.flushSync=function(d){var p=u.T,_=n.p;try{if(u.T=null,n.p=2,d)return d()}finally{u.T=p,n.p=_,n.d.f()}},on.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(d,p))},on.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},on.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var _=p.as,v=h(_,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?n.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:b}):_==="script"&&n.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},on.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=h(p.as,p.crossOrigin);n.d.M(d,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(d)},on.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,v=h(_,p.crossOrigin);n.d.L(d,_,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},on.preloadModule=function(d,p){if(typeof d=="string")if(p){var _=h(p.as,p.crossOrigin);n.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(d)},on.requestFormReset=function(d){n.d.r(d)},on.unstable_batchedUpdates=function(d,p){return d(p)},on.useFormState=function(d,p,_){return u.H.useFormState(d,p,_)},on.useFormStatus=function(){return u.H.useHostTransitionStatus()},on.version="19.1.0",on}var IE;function hD(){if(IE)return pg.exports;IE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pg.exports=cD(),pg.exports}var gg={exports:{}},tc={},_g={exports:{}},yg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function fD(){return CE||(CE=1,function(r){function e(Z,oe){var de=Z.length;Z.push(oe);e:for(;0<de;){var Me=de-1>>>1,L=Z[Me];if(0<a(L,oe))Z[Me]=oe,Z[de]=L,de=Me;else break e}}function t(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var oe=Z[0],de=Z.pop();if(de!==oe){Z[0]=de;e:for(var Me=0,L=Z.length,ae=L>>>1;Me<ae;){var ue=2*(Me+1)-1,le=Z[ue],pe=ue+1,be=Z[pe];if(0>a(le,de))pe<L&&0>a(be,le)?(Z[Me]=be,Z[pe]=de,Me=pe):(Z[Me]=le,Z[ue]=de,Me=ue);else if(pe<L&&0>a(be,de))Z[Me]=be,Z[pe]=de,Me=pe;else break e}}return oe}function a(Z,oe){var de=Z.sortIndex-oe.sortIndex;return de!==0?de:Z.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();r.unstable_now=function(){return u.now()-h}}var d=[],p=[],_=1,v=null,T=3,b=!1,I=!1,S=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function K(Z){for(var oe=t(p);oe!==null;){if(oe.callback===null)n(p);else if(oe.startTime<=Z)n(p),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=t(p)}}function H(Z){if(S=!1,K(Z),!I)if(t(d)!==null)I=!0,ee||(ee=!0,U());else{var oe=t(p);oe!==null&&Ie(H,oe.startTime-Z)}}var ee=!1,x=-1,R=5,C=-1;function M(){return D?!0:!(r.unstable_now()-C<R)}function V(){if(D=!1,ee){var Z=r.unstable_now();C=Z;var oe=!0;try{e:{I=!1,S&&(S=!1,F(x),x=-1),b=!0;var de=T;try{t:{for(K(Z),v=t(d);v!==null&&!(v.expirationTime>Z&&M());){var Me=v.callback;if(typeof Me=="function"){v.callback=null,T=v.priorityLevel;var L=Me(v.expirationTime<=Z);if(Z=r.unstable_now(),typeof L=="function"){v.callback=L,K(Z),oe=!0;break t}v===t(d)&&n(d),K(Z)}else n(d);v=t(d)}if(v!==null)oe=!0;else{var ae=t(p);ae!==null&&Ie(H,ae.startTime-Z),oe=!1}}break e}finally{v=null,T=de,b=!1}oe=void 0}}finally{oe?U():ee=!1}}}var U;if(typeof B=="function")U=function(){B(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Le=N.port2;N.port1.onmessage=V,U=function(){Le.postMessage(null)}}else U=function(){P(V,0)};function Ie(Z,oe){x=P(function(){Z(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(Z){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var de=T;T=oe;try{return Z()}finally{T=de}},r.unstable_requestPaint=function(){D=!0},r.unstable_runWithPriority=function(Z,oe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=T;T=Z;try{return oe()}finally{T=de}},r.unstable_scheduleCallback=function(Z,oe,de){var Me=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Me+de:Me):de=Me,Z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=de+L,Z={id:_++,callback:oe,priorityLevel:Z,startTime:de,expirationTime:L,sortIndex:-1},de>Me?(Z.sortIndex=de,e(p,Z),t(d)===null&&Z===t(p)&&(S?(F(x),x=-1):S=!0,Ie(H,de-Me))):(Z.sortIndex=L,e(d,Z),I||b||(I=!0,ee||(ee=!0,U()))),Z},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Z){var oe=T;return function(){var de=T;T=oe;try{return Z.apply(this,arguments)}finally{T=de}}}}(yg)),yg}var OE;function dD(){return OE||(OE=1,_g.exports=fD()),_g.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function mD(){if(DE)return tc;DE=1;var r=dD(),e=P_(),t=hD();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(n(188))}function d(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(n(188));return s!==i?null:i}for(var o=i,c=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return h(m),i;if(g===c)return h(m),s;g=g.sibling}throw Error(n(188))}if(o.return!==c.return)o=m,c=g;else{for(var w=!1,A=m.child;A;){if(A===o){w=!0,o=m,c=g;break}if(A===c){w=!0,c=m,o=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===o){w=!0,o=g,c=m;break}if(A===c){w=!0,c=g,o=m;break}A=A.sibling}if(!w)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),B=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function Le(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case D:return"Profiler";case S:return"StrictMode";case H:return"Suspense";case ee:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case B:return(i.displayName||"Context")+".Provider";case F:return(i._context.displayName||"Context")+".Consumer";case K:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return s=i.displayName||null,s!==null?s:Le(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return Le(i(s))}catch{}}return null}var Ie=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Me=[],L=-1;function ae(i){return{current:i}}function ue(i){0>L||(i.current=Me[L],Me[L]=null,L--)}function le(i,s){L++,Me[L]=i.current,i.current=s}var pe=ae(null),be=ae(null),Ae=ae(null),Bt=ae(null);function it(i,s){switch(le(Ae,s),le(be,i),le(pe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?HT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=HT(s),i=GT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ue(pe),le(pe,i)}function Oi(){ue(pe),ue(be),ue(Ae)}function Xr(i){i.memoizedState!==null&&le(Bt,i);var s=pe.current,o=GT(s,i.type);s!==o&&(le(be,i),le(pe,o))}function ur(i){be.current===i&&(ue(pe),ue(be)),Bt.current===i&&(ue(Bt),Yu._currentValue=de)}var na=Object.prototype.hasOwnProperty,ia=r.unstable_scheduleCallback,ra=r.unstable_cancelCallback,Hl=r.unstable_shouldYield,ih=r.unstable_requestPaint,Yn=r.unstable_now,hm=r.unstable_getCurrentPriorityLevel,Gl=r.unstable_ImmediatePriority,vo=r.unstable_UserBlockingPriority,sa=r.unstable_NormalPriority,fm=r.unstable_LowPriority,To=r.unstable_IdlePriority,$l=r.log,rh=r.unstable_setDisableYieldValue,pt=null,Ye=null;function xn(i){if(typeof $l=="function"&&rh(i),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(pt,i)}catch{}}var sn=Math.clz32?Math.clz32:aa,sh=Math.log,dm=Math.LN2;function aa(i){return i>>>=0,i===0?32:31-(sh(i)/dm|0)|0}var oa=256,la=4194304;function pi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Eo(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?m=pi(c):(w&=A,w!==0?m=pi(w):o||(o=A&~i,o!==0&&(m=pi(o))))):(A=c&~g,A!==0?m=pi(A):w!==0?m=pi(w):o||(o=c&~i,o!==0&&(m=pi(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function ua(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Yl(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var i=oa;return oa<<=1,(oa&4194048)===0&&(oa=256),i}function Ql(){var i=la;return la<<=1,(la&62914560)===0&&(la=4194304),i}function cr(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function hr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Xl(i,s,o,c,m,g){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,k=i.expirationTimes,Q=i.hiddenUpdates;for(o=w&~o;0<o;){var te=31-sn(o),re=1<<te;A[te]=0,k[te]=-1;var X=Q[te];if(X!==null)for(Q[te]=null,te=0;te<X.length;te++){var W=X[te];W!==null&&(W.lane&=-536870913)}o&=~re}c!==0&&Di(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~s))}function Di(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-sn(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194090}function Wl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-sn(o),m=1<<c;m&s|i[c]&s&&(i[c]|=s),o&=~m}}function Wr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function wo(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Zr(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:cE(i.type))}function ah(i,s){var o=oe.p;try{return oe.p=i,s()}finally{oe.p=o}}var ot=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ot,St="__reactProps$"+ot,Kn="__reactContainer$"+ot,Zl="__reactEvents$"+ot,mm="__reactListeners$"+ot,Jr="__reactHandles$"+ot,oh="__reactResources$"+ot,ca="__reactMarker$"+ot;function es(i){delete i[Mt],delete i[St],delete i[Zl],delete i[mm],delete i[Jr]}function fr(i){var s=i[Mt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Kn]||o[Mt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=QT(i);i!==null;){if(o=i[Mt])return o;i=QT(i)}return s}i=o,o=i.parentNode}return null}function xi(i){if(i=i[Mt]||i[Kn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Ni(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function mn(i){var s=i[oh];return s||(s=i[oh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function vt(i){i[ca]=!0}var Jl=new Set,bo={};function gi(i,s){dr(i,s),dr(i+"Capture",s)}function dr(i,s){for(bo[i]=s,i=0;i<s.length;i++)Jl.add(s[i])}var lh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uh={},ha={};function ch(i){return na.call(ha,i)?!0:na.call(uh,i)?!1:lh.test(i)?ha[i]=!0:(uh[i]=!0,!1)}function ts(i,s,o){if(ch(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Pi(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Qt(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}var fa,hh;function mr(i){if(fa===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);fa=s&&s[1]||"",hh=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+i+hh}var Ao=!1;function So(i,s){if(!i||Ao)return"";Ao=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var X=W}Reflect.construct(i,[],re)}else{try{re.call()}catch(W){X=W}i.call(re.prototype)}}else{try{throw Error()}catch(W){X=W}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],A=g[1];if(w&&A){var k=w.split(`
`),Q=A.split(`
`);for(m=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(c===k.length||m===Q.length)for(c=k.length-1,m=Q.length-1;1<=c&&0<=m&&k[c]!==Q[m];)m--;for(;1<=c&&0<=m;c--,m--)if(k[c]!==Q[m]){if(c!==1||m!==1)do if(c--,m--,0>m||k[c]!==Q[m]){var te=`
`+k[c].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=c&&0<=m);break}}}finally{Ao=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?mr(o):""}function eu(i){switch(i.tag){case 26:case 27:case 5:return mr(i.type);case 16:return mr("Lazy");case 13:return mr("Suspense");case 19:return mr("SuspenseList");case 0:case 15:return So(i.type,!1);case 11:return So(i.type.render,!1);case 1:return So(i.type,!0);case 31:return mr("Activity");default:return""}}function Ro(i){try{var s="";do s+=eu(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function tu(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pm(i){var s=tu(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Io(i){i._valueTracker||(i._valueTracker=pm(i))}function nu(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=tu(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function da(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var gm=/[\n"\\]/g;function Rt(i){return i.replace(gm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Nn(i,s,o,c,m,g,w,A){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+pn(s)):i.value!==""+pn(s)&&(i.value=""+pn(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?ns(i,w,pn(s)):o!=null?ns(i,w,pn(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+pn(A):i.removeAttribute("name")}function ma(i,s,o,c,m,g,w,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+pn(o):"",s=s!=null?""+pn(s):o,A||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function ns(i,s,o){s==="number"&&da(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function pr(i,s,o,c){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+pn(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Xe(i,s,o){if(s!=null&&(s=""+pn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+pn(o):""}function pa(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(n(92));if(Ie(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=pn(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function Qn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var ga=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fh(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||ga.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function iu(i,s,o){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&fh(i,m,c)}else for(var g in s)s.hasOwnProperty(g)&&fh(i,g,s[g])}function ru(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _m=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ym=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Co(i){return ym.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var gr=null;function Xn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _r=null,yr=null;function su(i){var s=xi(i);if(s&&(i=s.stateNode)){var o=i[St]||null;e:switch(i=s.stateNode,s.type){case"input":if(Nn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var m=c[St]||null;if(!m)throw Error(n(90));Nn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&nu(c)}break e;case"textarea":Xe(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&pr(i,!!o.multiple,s,!1)}}}var Mi=!1;function dh(i,s,o){if(Mi)return i(s,o);Mi=!0;try{var c=i(s);return c}finally{if(Mi=!1,(_r!==null||yr!==null)&&(of(),_r&&(s=_r,i=yr,yr=_r=null,su(s),i)))for(s=0;s<i.length;s++)su(i[s])}}function _a(i,s){var o=i.stateNode;if(o===null)return null;var c=o[St]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(n(231,s,typeof o));return o}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wn=!1;if(_i)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{Wn=!1}var ki=null,is=null,vr=null;function au(){if(vr)return vr;var i,s=is,o=s.length,c,m="value"in ki?ki.value:ki.textContent,g=m.length;for(i=0;i<o&&s[i]===m[i];i++);var w=o-i;for(c=1;c<=w&&s[o-c]===m[g-c];c++);return vr=m.slice(i,1<c?1-c:void 0)}function Vi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Li(){return!0}function ou(){return!1}function Ft(i){function s(o,c,m,g,w){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Li:ou,this.isPropagationStopped=ou,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),s}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oo=Ft(Ge),va=_({},Ge,{view:0,detail:0}),mh=Ft(va),Do,xo,Ui,Ta=_({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ba,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ui&&(Ui&&i.type==="mousemove"?(Do=i.screenX-Ui.screenX,xo=i.screenY-Ui.screenY):xo=Do=0,Ui=i),Do)},movementY:function(i){return"movementY"in i?i.movementY:xo}}),Zn=Ft(Ta),ph=_({},Ta,{dataTransfer:0}),vm=Ft(ph),Ea=_({},va,{relatedTarget:0}),No=Ft(Ea),lu=_({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Po=Ft(lu),gh=_({},Ge,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Mo=Ft(gh),Tm=_({},Ge,{data:0}),uu=Ft(Tm),wa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=yh[i])?!!s[i]:!1}function ba(){return cu}var vh=_({},va,{key:function(i){if(i.key){var s=wa[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Vi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?_h[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ba,charCode:function(i){return i.type==="keypress"?Vi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ko=Ft(vh),Th=_({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hu=Ft(Th),Tr=_({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ba}),Eh=Ft(Tr),wh=_({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),bh=Ft(wh),Ah=_({},Ta,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Vo=Ft(Ah),gn=_({},Ge,{newState:0,oldState:0}),Sh=Ft(gn),Rh=[9,13,27,32],zi=_i&&"CompositionEvent"in window,f=null;_i&&"documentMode"in document&&(f=document.documentMode);var y=_i&&"TextEvent"in window&&!f,E=_i&&(!zi||f&&8<f&&11>=f),O=" ",G=!1;function J(i,s){switch(i){case"keyup":return Rh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ze=!1;function kt(i,s){switch(i){case"compositionend":return ce(s);case"keypress":return s.which!==32?null:(G=!0,O);case"textInput":return i=s.data,i===O&&G?null:i;default:return null}}function je(i,s){if(ze)return i==="compositionend"||!zi&&J(i,s)?(i=au(),vr=is=ki=null,ze=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!qt[i.type]:s==="textarea"}function Er(i,s,o,c){_r?yr?yr.push(c):yr=[c]:_r=c,s=df(s,"onChange"),0<s.length&&(o=new Oo("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var Xt=null,ji=null;function fu(i){zT(i,0)}function Ih(i){var s=Ni(i);if(nu(s))return i}function av(i,s){if(i==="change")return s}var ov=!1;if(_i){var Em;if(_i){var wm="oninput"in document;if(!wm){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),wm=typeof lv.oninput=="function"}Em=wm}else Em=!1;ov=Em&&(!document.documentMode||9<document.documentMode)}function uv(){Xt&&(Xt.detachEvent("onpropertychange",cv),ji=Xt=null)}function cv(i){if(i.propertyName==="value"&&Ih(ji)){var s=[];Er(s,ji,i,Xn(i)),dh(fu,s)}}function hI(i,s,o){i==="focusin"?(uv(),Xt=s,ji=o,Xt.attachEvent("onpropertychange",cv)):i==="focusout"&&uv()}function fI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ih(ji)}function dI(i,s){if(i==="click")return Ih(s)}function mI(i,s){if(i==="input"||i==="change")return Ih(s)}function pI(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Pn=typeof Object.is=="function"?Object.is:pI;function du(i,s){if(Pn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!na.call(s,m)||!Pn(i[m],s[m]))return!1}return!0}function hv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function fv(i,s){var o=hv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=hv(o)}}function dv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?dv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function mv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=da(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=da(i.document)}return s}function bm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var gI=_i&&"documentMode"in document&&11>=document.documentMode,Lo=null,Am=null,mu=null,Sm=!1;function pv(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Sm||Lo==null||Lo!==da(c)||(c=Lo,"selectionStart"in c&&bm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),mu&&du(mu,c)||(mu=c,c=df(Am,"onSelect"),0<c.length&&(s=new Oo("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=Lo)))}function Aa(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Uo={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},Rm={},gv={};_i&&(gv=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Sa(i){if(Rm[i])return Rm[i];if(!Uo[i])return i;var s=Uo[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in gv)return Rm[i]=s[o];return i}var _v=Sa("animationend"),yv=Sa("animationiteration"),vv=Sa("animationstart"),_I=Sa("transitionrun"),yI=Sa("transitionstart"),vI=Sa("transitioncancel"),Tv=Sa("transitionend"),Ev=new Map,Im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Im.push("scrollEnd");function yi(i,s){Ev.set(i,s),gi(s,[i])}var wv=new WeakMap;function Jn(i,s){if(typeof i=="object"&&i!==null){var o=wv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Ro(s)},wv.set(i,s),s)}return{value:i,source:s,stack:Ro(s)}}var ei=[],zo=0,Cm=0;function Ch(){for(var i=zo,s=Cm=zo=0;s<i;){var o=ei[s];ei[s++]=null;var c=ei[s];ei[s++]=null;var m=ei[s];ei[s++]=null;var g=ei[s];if(ei[s++]=null,c!==null&&m!==null){var w=c.pending;w===null?m.next=m:(m.next=w.next,w.next=m),c.pending=m}g!==0&&bv(o,m,g)}}function Oh(i,s,o,c){ei[zo++]=i,ei[zo++]=s,ei[zo++]=o,ei[zo++]=c,Cm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Om(i,s,o,c){return Oh(i,s,o,c),Dh(i)}function jo(i,s){return Oh(i,null,null,s),Dh(i)}function bv(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&s!==null&&(m=31-sn(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=o|536870912),g):null}function Dh(i){if(50<zu)throw zu=0,kp=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Bo={};function TI(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(i,s,o,c){return new TI(i,s,o,c)}function Dm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function wr(i,s){var o=i.alternate;return o===null?(o=Mn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Av(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function xh(i,s,o,c,m,g){var w=0;if(c=i,typeof i=="function")Dm(i)&&(w=1);else if(typeof i=="string")w=wC(i,o,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=Mn(31,o,s,m),i.elementType=C,i.lanes=g,i;case I:return Ra(o.children,m,g,s);case S:w=8,m|=24;break;case D:return i=Mn(12,o,s,m|2),i.elementType=D,i.lanes=g,i;case H:return i=Mn(13,o,s,m),i.elementType=H,i.lanes=g,i;case ee:return i=Mn(19,o,s,m),i.elementType=ee,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:case B:w=10;break e;case F:w=9;break e;case K:w=11;break e;case x:w=14;break e;case R:w=16,c=null;break e}w=29,o=Error(n(130,i===null?"null":typeof i,"")),c=null}return s=Mn(w,o,s,m),s.elementType=i,s.type=c,s.lanes=g,s}function Ra(i,s,o,c){return i=Mn(7,i,c,s),i.lanes=o,i}function xm(i,s,o){return i=Mn(6,i,null,s),i.lanes=o,i}function Nm(i,s,o){return s=Mn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Fo=[],qo=0,Nh=null,Ph=0,ti=[],ni=0,Ia=null,br=1,Ar="";function Ca(i,s){Fo[qo++]=Ph,Fo[qo++]=Nh,Nh=i,Ph=s}function Sv(i,s,o){ti[ni++]=br,ti[ni++]=Ar,ti[ni++]=Ia,Ia=i;var c=br;i=Ar;var m=32-sn(c)-1;c&=~(1<<m),o+=1;var g=32-sn(s)+m;if(30<g){var w=m-m%5;g=(c&(1<<w)-1).toString(32),c>>=w,m-=w,br=1<<32-sn(s)+m|o<<m|c,Ar=g+i}else br=1<<g|o<<m|c,Ar=i}function Pm(i){i.return!==null&&(Ca(i,1),Sv(i,1,0))}function Mm(i){for(;i===Nh;)Nh=Fo[--qo],Fo[qo]=null,Ph=Fo[--qo],Fo[qo]=null;for(;i===Ia;)Ia=ti[--ni],ti[ni]=null,Ar=ti[--ni],ti[ni]=null,br=ti[--ni],ti[ni]=null}var _n=null,gt=null,He=!1,Oa=null,Bi=!1,km=Error(n(519));function Da(i){var s=Error(n(418,""));throw _u(Jn(s,i)),km}function Rv(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[Mt]=i,s[St]=c,o){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(o=0;o<Bu.length;o++)Pe(Bu[o],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),ma(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Io(s);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),pa(s,c.value,c.defaultValue,c.children),Io(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||qT(s.textContent,o)?(c.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),c.onScroll!=null&&Pe("scroll",s),c.onScrollEnd!=null&&Pe("scrollend",s),c.onClick!=null&&(s.onclick=mf),s=!0):s=!1,s||Da(i)}function Iv(i){for(_n=i.return;_n;)switch(_n.tag){case 5:case 13:Bi=!1;return;case 27:case 3:Bi=!0;return;default:_n=_n.return}}function pu(i){if(i!==_n)return!1;if(!He)return Iv(i),He=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Wp(i.type,i.memoizedProps)),o=!o),o&&gt&&Da(i),Iv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){gt=Ti(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}gt=null}}else s===27?(s=gt,vs(i.type)?(i=tg,tg=null,gt=i):gt=s):gt=_n?Ti(i.stateNode.nextSibling):null;return!0}function gu(){gt=_n=null,He=!1}function Cv(){var i=Oa;return i!==null&&(En===null?En=i:En.push.apply(En,i),Oa=null),i}function _u(i){Oa===null?Oa=[i]:Oa.push(i)}var Vm=ae(null),xa=null,Sr=null;function rs(i,s,o){le(Vm,s._currentValue),s._currentValue=o}function Rr(i){i._currentValue=Vm.current,ue(Vm)}function Lm(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function Um(i,s,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var w=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var k=0;k<s.length;k++)if(A.context===s[k]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Lm(g.return,o,i),c||(w=null);break e}g=A.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(n(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),Lm(w,o,i),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function yu(i,s,o,c){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(n(387));if(w=w.memoizedProps,w!==null){var A=m.type;Pn(m.pendingProps.value,w.value)||(i!==null?i.push(A):i=[A])}}else if(m===Bt.current){if(w=m.alternate,w===null)throw Error(n(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Yu):i=[Yu])}m=m.return}i!==null&&Um(s,i,o,c),s.flags|=262144}function Mh(i){for(i=i.firstContext;i!==null;){if(!Pn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Na(i){xa=i,Sr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function an(i){return Ov(xa,i)}function kh(i,s){return xa===null&&Na(i),Ov(i,s)}function Ov(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Sr===null){if(i===null)throw Error(n(308));Sr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Sr=Sr.next=s;return o}var EI=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},wI=r.unstable_scheduleCallback,bI=r.unstable_NormalPriority,Lt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zm(){return{controller:new EI,data:new Map,refCount:0}}function vu(i){i.refCount--,i.refCount===0&&wI(bI,function(){i.controller.abort()})}var Tu=null,jm=0,Ho=0,Go=null;function AI(i,s){if(Tu===null){var o=Tu=[];jm=0,Ho=Fp(),Go={status:"pending",value:void 0,then:function(c){o.push(c)}}}return jm++,s.then(Dv,Dv),s}function Dv(){if(--jm===0&&Tu!==null){Go!==null&&(Go.status="fulfilled");var i=Tu;Tu=null,Ho=0,Go=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function SI(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var xv=Z.S;Z.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&AI(i,s),xv!==null&&xv(i,s)};var Pa=ae(null);function Bm(){var i=Pa.current;return i!==null?i:rt.pooledCache}function Vh(i,s){s===null?le(Pa,Pa.current):le(Pa,s.pool)}function Nv(){var i=Bm();return i===null?null:{parent:Lt._currentValue,pool:i}}var Eu=Error(n(460)),Pv=Error(n(474)),Lh=Error(n(542)),Fm={then:function(){}};function Mv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Uh(){}function kv(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Uh,Uh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Lv(i),i;default:if(typeof s.status=="string")s.then(Uh,Uh);else{if(i=rt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Lv(i),i}throw wu=s,Eu}}var wu=null;function Vv(){if(wu===null)throw Error(n(459));var i=wu;return wu=null,i}function Lv(i){if(i===Eu||i===Lh)throw Error(n(483))}var ss=!1;function qm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function as(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function os(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ke&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Dh(i),bv(i,null,o),s}return Oh(i,c,s,o),Dh(i)}function bu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,Wl(i,o)}}function Gm(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var $m=!1;function Au(){if($m){var i=Go;if(i!==null)throw i}}function Su(i,s,o,c){$m=!1;var m=i.updateQueue;ss=!1;var g=m.firstBaseUpdate,w=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var k=A,Q=k.next;k.next=null,w===null?g=Q:w.next=Q,w=k;var te=i.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==w&&(A===null?te.firstBaseUpdate=Q:A.next=Q,te.lastBaseUpdate=k))}if(g!==null){var re=m.baseState;w=0,te=Q=k=null,A=g;do{var X=A.lane&-536870913,W=X!==A.lane;if(W?(Be&X)===X:(c&X)===X){X!==0&&X===Ho&&($m=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var we=i,ye=A;X=s;var Je=o;switch(ye.tag){case 1:if(we=ye.payload,typeof we=="function"){re=we.call(Je,re,X);break e}re=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ye.payload,X=typeof we=="function"?we.call(Je,re,X):we,X==null)break e;re=_({},re,X);break e;case 2:ss=!0}}X=A.callback,X!==null&&(i.flags|=64,W&&(i.flags|=8192),W=m.callbacks,W===null?m.callbacks=[X]:W.push(X))}else W={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(Q=te=W,k=re):te=te.next=W,w|=X;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;W=A,A=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);te===null&&(k=re),m.baseState=k,m.firstBaseUpdate=Q,m.lastBaseUpdate=te,g===null&&(m.shared.lanes=0),ps|=w,i.lanes=w,i.memoizedState=re}}function Uv(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function zv(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Uv(o[i],s)}var $o=ae(null),zh=ae(0);function jv(i,s){i=Pr,le(zh,i),le($o,s),Pr=i|s.baseLanes}function Ym(){le(zh,Pr),le($o,$o.current)}function Km(){Pr=zh.current,ue($o),ue(zh)}var ls=0,Oe=null,We=null,It=null,jh=!1,Yo=!1,Ma=!1,Bh=0,Ru=0,Ko=null,RI=0;function Tt(){throw Error(n(321))}function Qm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Pn(i[o],s[o]))return!1;return!0}function Xm(i,s,o,c,m,g){return ls=g,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?b0:A0,Ma=!1,g=o(c,m),Ma=!1,Yo&&(g=Fv(s,o,c,m)),Bv(i),g}function Bv(i){Z.H=Yh;var s=We!==null&&We.next!==null;if(ls=0,It=We=Oe=null,jh=!1,Ru=0,Ko=null,s)throw Error(n(300));i===null||Ht||(i=i.dependencies,i!==null&&Mh(i)&&(Ht=!0))}function Fv(i,s,o,c){Oe=i;var m=0;do{if(Yo&&(Ko=null),Ru=0,Yo=!1,25<=m)throw Error(n(301));if(m+=1,It=We=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=PI,g=s(o,c)}while(Yo);return g}function II(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?Iu(s):s,i=i.useState()[0],(We!==null?We.memoizedState:null)!==i&&(Oe.flags|=1024),s}function Wm(){var i=Bh!==0;return Bh=0,i}function Zm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Jm(i){if(jh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}jh=!1}ls=0,It=We=Oe=null,Yo=!1,Ru=Bh=0,Ko=null}function vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Oe.memoizedState=It=i:It=It.next=i,It}function Ct(){if(We===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=We.next;var s=It===null?Oe.memoizedState:It.next;if(s!==null)It=s,We=i;else{if(i===null)throw Oe.alternate===null?Error(n(467)):Error(n(310));We=i,i={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},It===null?Oe.memoizedState=It=i:It=It.next=i}return It}function ep(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Iu(i){var s=Ru;return Ru+=1,Ko===null&&(Ko=[]),i=kv(Ko,i,s),s=Oe,(It===null?s.memoizedState:It.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?b0:A0),i}function Fh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Iu(i);if(i.$$typeof===B)return an(i)}throw Error(n(438,String(i)))}function tp(i){var s=null,o=Oe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=ep(),Oe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=M;return s.index++,o}function Ir(i,s){return typeof s=="function"?s(i):s}function qh(i){var s=Ct();return np(s,We,i)}function np(i,s,o){var c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var w=m.next;m.next=g.next,g.next=w}s.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var A=w=null,k=null,Q=s,te=!1;do{var re=Q.lane&-536870913;if(re!==Q.lane?(Be&re)===re:(ls&re)===re){var X=Q.revertLane;if(X===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),re===Ho&&(te=!0);else if((ls&X)===X){Q=Q.next,X===Ho&&(te=!0);continue}else re={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},k===null?(A=k=re,w=g):k=k.next=re,Oe.lanes|=X,ps|=X;re=Q.action,Ma&&o(g,re),g=Q.hasEagerState?Q.eagerState:o(g,re)}else X={lane:re,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},k===null?(A=k=X,w=g):k=k.next=X,Oe.lanes|=re,ps|=re;Q=Q.next}while(Q!==null&&Q!==s);if(k===null?w=g:k.next=A,!Pn(g,i.memoizedState)&&(Ht=!0,te&&(o=Go,o!==null)))throw o;i.memoizedState=g,i.baseState=w,i.baseQueue=k,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function ip(i){var s=Ct(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do g=i(g,w.action),w=w.next;while(w!==m);Pn(g,s.memoizedState)||(Ht=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function qv(i,s,o){var c=Oe,m=Ct(),g=He;if(g){if(o===void 0)throw Error(n(407));o=o()}else o=s();var w=!Pn((We||m).memoizedState,o);w&&(m.memoizedState=o,Ht=!0),m=m.queue;var A=$v.bind(null,c,m,i);if(Cu(2048,8,A,[i]),m.getSnapshot!==s||w||It!==null&&It.memoizedState.tag&1){if(c.flags|=2048,Qo(9,Hh(),Gv.bind(null,c,m,o,s),null),rt===null)throw Error(n(349));g||(ls&124)!==0||Hv(c,s,o)}return o}function Hv(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Oe.updateQueue,s===null?(s=ep(),Oe.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Gv(i,s,o,c){s.value=o,s.getSnapshot=c,Yv(s)&&Kv(i)}function $v(i,s,o){return o(function(){Yv(s)&&Kv(i)})}function Yv(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Pn(i,o)}catch{return!0}}function Kv(i){var s=jo(i,2);s!==null&&zn(s,i,2)}function rp(i){var s=vn();if(typeof i=="function"){var o=i;if(i=o(),Ma){xn(!0);try{o()}finally{xn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:i},s}function Qv(i,s,o,c){return i.baseState=o,np(i,We,typeof c=="function"?c:Ir)}function CI(i,s,o,c,m){if($h(i))throw Error(n(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};Z.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,Xv(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Xv(i,s){var o=s.action,c=s.payload,m=i.state;if(s.isTransition){var g=Z.T,w={};Z.T=w;try{var A=o(m,c),k=Z.S;k!==null&&k(w,A),Wv(i,s,A)}catch(Q){sp(i,s,Q)}finally{Z.T=g}}else try{g=o(m,c),Wv(i,s,g)}catch(Q){sp(i,s,Q)}}function Wv(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Zv(i,s,c)},function(c){return sp(i,s,c)}):Zv(i,s,o)}function Zv(i,s,o){s.status="fulfilled",s.value=o,Jv(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Xv(i,o)))}function sp(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,Jv(s),s=s.next;while(s!==c)}i.action=null}function Jv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function e0(i,s){return s}function t0(i,s){if(He){var o=rt.formState;if(o!==null){e:{var c=Oe;if(He){if(gt){t:{for(var m=gt,g=Bi;m.nodeType!==8;){if(!g){m=null;break t}if(m=Ti(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){gt=Ti(m.nextSibling),c=m.data==="F!";break e}}Da(c)}c=!1}c&&(s=o[0])}}return o=vn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e0,lastRenderedState:s},o.queue=c,o=T0.bind(null,Oe,c),c.dispatch=o,c=rp(!1),g=cp.bind(null,Oe,!1,c.queue),c=vn(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,o=CI.bind(null,Oe,m,g,o),m.dispatch=o,c.memoizedState=i,[s,o,!1]}function n0(i){var s=Ct();return i0(s,We,i)}function i0(i,s,o){if(s=np(i,s,e0)[0],i=qh(Ir)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Iu(s)}catch(w){throw w===Eu?Lh:w}else c=s;s=Ct();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(Oe.flags|=2048,Qo(9,Hh(),OI.bind(null,m,o),null)),[c,g,i]}function OI(i,s){i.action=s}function r0(i){var s=Ct(),o=We;if(o!==null)return i0(s,o,i);Ct(),s=s.memoizedState,o=Ct();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function Qo(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=ep(),Oe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function Hh(){return{destroy:void 0,resource:void 0}}function s0(){return Ct().memoizedState}function Gh(i,s,o,c){var m=vn();c=c===void 0?null:c,Oe.flags|=i,m.memoizedState=Qo(1|s,Hh(),o,c)}function Cu(i,s,o,c){var m=Ct();c=c===void 0?null:c;var g=m.memoizedState.inst;We!==null&&c!==null&&Qm(c,We.memoizedState.deps)?m.memoizedState=Qo(s,g,o,c):(Oe.flags|=i,m.memoizedState=Qo(1|s,g,o,c))}function a0(i,s){Gh(8390656,8,i,s)}function o0(i,s){Cu(2048,8,i,s)}function l0(i,s){return Cu(4,2,i,s)}function u0(i,s){return Cu(4,4,i,s)}function c0(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function h0(i,s,o){o=o!=null?o.concat([i]):null,Cu(4,4,c0.bind(null,s,i),o)}function ap(){}function f0(i,s){var o=Ct();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Qm(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function d0(i,s){var o=Ct();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Qm(s,c[1]))return c[0];if(c=i(),Ma){xn(!0);try{i()}finally{xn(!1)}}return o.memoizedState=[c,s],c}function op(i,s,o){return o===void 0||(ls&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=gT(),Oe.lanes|=i,ps|=i,o)}function m0(i,s,o,c){return Pn(o,s)?o:$o.current!==null?(i=op(i,o,c),Pn(i,s)||(Ht=!0),i):(ls&42)===0?(Ht=!0,i.memoizedState=o):(i=gT(),Oe.lanes|=i,ps|=i,s)}function p0(i,s,o,c,m){var g=oe.p;oe.p=g!==0&&8>g?g:8;var w=Z.T,A={};Z.T=A,cp(i,!1,s,o);try{var k=m(),Q=Z.S;if(Q!==null&&Q(A,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var te=SI(k,c);Ou(i,s,te,Un(i))}else Ou(i,s,c,Un(i))}catch(re){Ou(i,s,{then:function(){},status:"rejected",reason:re},Un())}finally{oe.p=g,Z.T=w}}function DI(){}function lp(i,s,o,c){if(i.tag!==5)throw Error(n(476));var m=g0(i).queue;p0(i,m,s,de,o===null?DI:function(){return _0(i),o(c)})}function g0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:de},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function _0(i){var s=g0(i).next.queue;Ou(i,s,{},Un())}function up(){return an(Yu)}function y0(){return Ct().memoizedState}function v0(){return Ct().memoizedState}function xI(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Un();i=as(o);var c=os(s,i,o);c!==null&&(zn(c,s,o),bu(c,s,o)),s={cache:zm()},i.payload=s;return}s=s.return}}function NI(i,s,o){var c=Un();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},$h(i)?E0(s,o):(o=Om(i,s,o,c),o!==null&&(zn(o,i,c),w0(o,s,c)))}function T0(i,s,o){var c=Un();Ou(i,s,o,c)}function Ou(i,s,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if($h(i))E0(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,A=g(w,o);if(m.hasEagerState=!0,m.eagerState=A,Pn(A,w))return Oh(i,s,m,0),rt===null&&Ch(),!1}catch{}finally{}if(o=Om(i,s,m,c),o!==null)return zn(o,i,c),w0(o,s,c),!0}return!1}function cp(i,s,o,c){if(c={lane:2,revertLane:Fp(),action:c,hasEagerState:!1,eagerState:null,next:null},$h(i)){if(s)throw Error(n(479))}else s=Om(i,o,c,2),s!==null&&zn(s,i,2)}function $h(i){var s=i.alternate;return i===Oe||s!==null&&s===Oe}function E0(i,s){Yo=jh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function w0(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,Wl(i,o)}}var Yh={readContext:an,use:Fh,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},b0={readContext:an,use:Fh,useCallback:function(i,s){return vn().memoizedState=[i,s===void 0?null:s],i},useContext:an,useEffect:a0,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Gh(4194308,4,c0.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Gh(4194308,4,i,s)},useInsertionEffect:function(i,s){Gh(4,2,i,s)},useMemo:function(i,s){var o=vn();s=s===void 0?null:s;var c=i();if(Ma){xn(!0);try{i()}finally{xn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=vn();if(o!==void 0){var m=o(s);if(Ma){xn(!0);try{o(s)}finally{xn(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=NI.bind(null,Oe,i),[c.memoizedState,i]},useRef:function(i){var s=vn();return i={current:i},s.memoizedState=i},useState:function(i){i=rp(i);var s=i.queue,o=T0.bind(null,Oe,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:ap,useDeferredValue:function(i,s){var o=vn();return op(o,i,s)},useTransition:function(){var i=rp(!1);return i=p0.bind(null,Oe,i.queue,!0,!1),vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=Oe,m=vn();if(He){if(o===void 0)throw Error(n(407));o=o()}else{if(o=s(),rt===null)throw Error(n(349));(Be&124)!==0||Hv(c,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,a0($v.bind(null,c,g,i),[i]),c.flags|=2048,Qo(9,Hh(),Gv.bind(null,c,g,o,s),null),o},useId:function(){var i=vn(),s=rt.identifierPrefix;if(He){var o=Ar,c=br;o=(c&~(1<<32-sn(c)-1)).toString(32)+o,s="«"+s+"R"+o,o=Bh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=RI++,s="«"+s+"r"+o.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:up,useFormState:t0,useActionState:t0,useOptimistic:function(i){var s=vn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=cp.bind(null,Oe,!0,o),o.dispatch=s,[i,s]},useMemoCache:tp,useCacheRefresh:function(){return vn().memoizedState=xI.bind(null,Oe)}},A0={readContext:an,use:Fh,useCallback:f0,useContext:an,useEffect:o0,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:u0,useMemo:d0,useReducer:qh,useRef:s0,useState:function(){return qh(Ir)},useDebugValue:ap,useDeferredValue:function(i,s){var o=Ct();return m0(o,We.memoizedState,i,s)},useTransition:function(){var i=qh(Ir)[0],s=Ct().memoizedState;return[typeof i=="boolean"?i:Iu(i),s]},useSyncExternalStore:qv,useId:y0,useHostTransitionStatus:up,useFormState:n0,useActionState:n0,useOptimistic:function(i,s){var o=Ct();return Qv(o,We,i,s)},useMemoCache:tp,useCacheRefresh:v0},PI={readContext:an,use:Fh,useCallback:f0,useContext:an,useEffect:o0,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:u0,useMemo:d0,useReducer:ip,useRef:s0,useState:function(){return ip(Ir)},useDebugValue:ap,useDeferredValue:function(i,s){var o=Ct();return We===null?op(o,i,s):m0(o,We.memoizedState,i,s)},useTransition:function(){var i=ip(Ir)[0],s=Ct().memoizedState;return[typeof i=="boolean"?i:Iu(i),s]},useSyncExternalStore:qv,useId:y0,useHostTransitionStatus:up,useFormState:r0,useActionState:r0,useOptimistic:function(i,s){var o=Ct();return We!==null?Qv(o,We,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:tp,useCacheRefresh:v0},Xo=null,Du=0;function Kh(i){var s=Du;return Du+=1,Xo===null&&(Xo=[]),kv(Xo,i,s)}function xu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Qh(i,s){throw s.$$typeof===v?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function S0(i){var s=i._init;return s(i._payload)}function R0(i){function s(q,z){if(i){var Y=q.deletions;Y===null?(q.deletions=[z],q.flags|=16):Y.push(z)}}function o(q,z){if(!i)return null;for(;z!==null;)s(q,z),z=z.sibling;return null}function c(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function m(q,z){return q=wr(q,z),q.index=0,q.sibling=null,q}function g(q,z,Y){return q.index=Y,i?(Y=q.alternate,Y!==null?(Y=Y.index,Y<z?(q.flags|=67108866,z):Y):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function w(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function A(q,z,Y,ne){return z===null||z.tag!==6?(z=xm(Y,q.mode,ne),z.return=q,z):(z=m(z,Y),z.return=q,z)}function k(q,z,Y,ne){var me=Y.type;return me===I?te(q,z,Y.props.children,ne,Y.key):z!==null&&(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&S0(me)===z.type)?(z=m(z,Y.props),xu(z,Y),z.return=q,z):(z=xh(Y.type,Y.key,Y.props,null,q.mode,ne),xu(z,Y),z.return=q,z)}function Q(q,z,Y,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=Nm(Y,q.mode,ne),z.return=q,z):(z=m(z,Y.children||[]),z.return=q,z)}function te(q,z,Y,ne,me){return z===null||z.tag!==7?(z=Ra(Y,q.mode,ne,me),z.return=q,z):(z=m(z,Y),z.return=q,z)}function re(q,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=xm(""+z,q.mode,Y),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return Y=xh(z.type,z.key,z.props,null,q.mode,Y),xu(Y,z),Y.return=q,Y;case b:return z=Nm(z,q.mode,Y),z.return=q,z;case R:var ne=z._init;return z=ne(z._payload),re(q,z,Y)}if(Ie(z)||U(z))return z=Ra(z,q.mode,Y,null),z.return=q,z;if(typeof z.then=="function")return re(q,Kh(z),Y);if(z.$$typeof===B)return re(q,kh(q,z),Y);Qh(q,z)}return null}function X(q,z,Y,ne){var me=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return me!==null?null:A(q,z,""+Y,ne);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return Y.key===me?k(q,z,Y,ne):null;case b:return Y.key===me?Q(q,z,Y,ne):null;case R:return me=Y._init,Y=me(Y._payload),X(q,z,Y,ne)}if(Ie(Y)||U(Y))return me!==null?null:te(q,z,Y,ne,null);if(typeof Y.then=="function")return X(q,z,Kh(Y),ne);if(Y.$$typeof===B)return X(q,z,kh(q,Y),ne);Qh(q,Y)}return null}function W(q,z,Y,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get(Y)||null,A(z,q,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return q=q.get(ne.key===null?Y:ne.key)||null,k(z,q,ne,me);case b:return q=q.get(ne.key===null?Y:ne.key)||null,Q(z,q,ne,me);case R:var xe=ne._init;return ne=xe(ne._payload),W(q,z,Y,ne,me)}if(Ie(ne)||U(ne))return q=q.get(Y)||null,te(z,q,ne,me,null);if(typeof ne.then=="function")return W(q,z,Y,Kh(ne),me);if(ne.$$typeof===B)return W(q,z,Y,kh(z,ne),me);Qh(z,ne)}return null}function we(q,z,Y,ne){for(var me=null,xe=null,ge=z,ve=z=0,$t=null;ge!==null&&ve<Y.length;ve++){ge.index>ve?($t=ge,ge=null):$t=ge.sibling;var qe=X(q,ge,Y[ve],ne);if(qe===null){ge===null&&(ge=$t);break}i&&ge&&qe.alternate===null&&s(q,ge),z=g(qe,z,ve),xe===null?me=qe:xe.sibling=qe,xe=qe,ge=$t}if(ve===Y.length)return o(q,ge),He&&Ca(q,ve),me;if(ge===null){for(;ve<Y.length;ve++)ge=re(q,Y[ve],ne),ge!==null&&(z=g(ge,z,ve),xe===null?me=ge:xe.sibling=ge,xe=ge);return He&&Ca(q,ve),me}for(ge=c(ge);ve<Y.length;ve++)$t=W(ge,q,ve,Y[ve],ne),$t!==null&&(i&&$t.alternate!==null&&ge.delete($t.key===null?ve:$t.key),z=g($t,z,ve),xe===null?me=$t:xe.sibling=$t,xe=$t);return i&&ge.forEach(function(As){return s(q,As)}),He&&Ca(q,ve),me}function ye(q,z,Y,ne){if(Y==null)throw Error(n(151));for(var me=null,xe=null,ge=z,ve=z=0,$t=null,qe=Y.next();ge!==null&&!qe.done;ve++,qe=Y.next()){ge.index>ve?($t=ge,ge=null):$t=ge.sibling;var As=X(q,ge,qe.value,ne);if(As===null){ge===null&&(ge=$t);break}i&&ge&&As.alternate===null&&s(q,ge),z=g(As,z,ve),xe===null?me=As:xe.sibling=As,xe=As,ge=$t}if(qe.done)return o(q,ge),He&&Ca(q,ve),me;if(ge===null){for(;!qe.done;ve++,qe=Y.next())qe=re(q,qe.value,ne),qe!==null&&(z=g(qe,z,ve),xe===null?me=qe:xe.sibling=qe,xe=qe);return He&&Ca(q,ve),me}for(ge=c(ge);!qe.done;ve++,qe=Y.next())qe=W(ge,q,ve,qe.value,ne),qe!==null&&(i&&qe.alternate!==null&&ge.delete(qe.key===null?ve:qe.key),z=g(qe,z,ve),xe===null?me=qe:xe.sibling=qe,xe=qe);return i&&ge.forEach(function(MC){return s(q,MC)}),He&&Ca(q,ve),me}function Je(q,z,Y,ne){if(typeof Y=="object"&&Y!==null&&Y.type===I&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:e:{for(var me=Y.key;z!==null;){if(z.key===me){if(me=Y.type,me===I){if(z.tag===7){o(q,z.sibling),ne=m(z,Y.props.children),ne.return=q,q=ne;break e}}else if(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&S0(me)===z.type){o(q,z.sibling),ne=m(z,Y.props),xu(ne,Y),ne.return=q,q=ne;break e}o(q,z);break}else s(q,z);z=z.sibling}Y.type===I?(ne=Ra(Y.props.children,q.mode,ne,Y.key),ne.return=q,q=ne):(ne=xh(Y.type,Y.key,Y.props,null,q.mode,ne),xu(ne,Y),ne.return=q,q=ne)}return w(q);case b:e:{for(me=Y.key;z!==null;){if(z.key===me)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){o(q,z.sibling),ne=m(z,Y.children||[]),ne.return=q,q=ne;break e}else{o(q,z);break}else s(q,z);z=z.sibling}ne=Nm(Y,q.mode,ne),ne.return=q,q=ne}return w(q);case R:return me=Y._init,Y=me(Y._payload),Je(q,z,Y,ne)}if(Ie(Y))return we(q,z,Y,ne);if(U(Y)){if(me=U(Y),typeof me!="function")throw Error(n(150));return Y=me.call(Y),ye(q,z,Y,ne)}if(typeof Y.then=="function")return Je(q,z,Kh(Y),ne);if(Y.$$typeof===B)return Je(q,z,kh(q,Y),ne);Qh(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(o(q,z.sibling),ne=m(z,Y),ne.return=q,q=ne):(o(q,z),ne=xm(Y,q.mode,ne),ne.return=q,q=ne),w(q)):o(q,z)}return function(q,z,Y,ne){try{Du=0;var me=Je(q,z,Y,ne);return Xo=null,me}catch(ge){if(ge===Eu||ge===Lh)throw ge;var xe=Mn(29,ge,null,q.mode);return xe.lanes=ne,xe.return=q,xe}finally{}}}var Wo=R0(!0),I0=R0(!1),ii=ae(null),Fi=null;function us(i){var s=i.alternate;le(Ut,Ut.current&1),le(ii,i),Fi===null&&(s===null||$o.current!==null||s.memoizedState!==null)&&(Fi=i)}function C0(i){if(i.tag===22){if(le(Ut,Ut.current),le(ii,i),Fi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Fi=i)}}else cs()}function cs(){le(Ut,Ut.current),le(ii,ii.current)}function Cr(i){ue(ii),Fi===i&&(Fi=null),ue(Ut)}var Ut=ae(0);function Xh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||eg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function hp(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:_({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var fp={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=Un(),m=as(c);m.payload=s,o!=null&&(m.callback=o),s=os(i,m,c),s!==null&&(zn(s,i,c),bu(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=Un(),m=as(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=os(i,m,c),s!==null&&(zn(s,i,c),bu(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Un(),c=as(o);c.tag=2,s!=null&&(c.callback=s),s=os(i,c,o),s!==null&&(zn(s,i,o),bu(s,i,o))}};function O0(i,s,o,c,m,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!du(o,c)||!du(m,g):!0}function D0(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&fp.enqueueReplaceState(s,s.state,null)}function ka(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=_({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var Wh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function x0(i){Wh(i)}function N0(i){console.error(i)}function P0(i){Wh(i)}function Zh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function M0(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function dp(i,s,o){return o=as(o),o.tag=3,o.payload={element:null},o.callback=function(){Zh(i,s)},o}function k0(i){return i=as(i),i.tag=3,i}function V0(i,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){M0(s,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){M0(s,o,c),typeof m!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function MI(i,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&yu(s,o,m,!0),o=ii.current,o!==null){switch(o.tag){case 13:return Fi===null?Lp():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Fm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),zp(i,c,m)),!1;case 22:return o.flags|=65536,c===Fm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),zp(i,c,m)),!1}throw Error(n(435,o.tag))}return zp(i,c,m),Lp(),!1}if(He)return s=ii.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==km&&(i=Error(n(422),{cause:c}),_u(Jn(i,o)))):(c!==km&&(s=Error(n(423),{cause:c}),_u(Jn(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Jn(c,o),m=dp(i.stateNode,c,m),Gm(i,m),_t!==4&&(_t=2)),!1;var g=Error(n(520),{cause:c});if(g=Jn(g,o),Uu===null?Uu=[g]:Uu.push(g),_t!==4&&(_t=2),s===null)return!0;c=Jn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=dp(o.stateNode,c,i),Gm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(gs===null||!gs.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=k0(m),V0(m,i,o,c),Gm(o,m),!1}o=o.return}while(o!==null);return!1}var L0=Error(n(461)),Ht=!1;function Wt(i,s,o,c){s.child=i===null?I0(s,null,o,c):Wo(s,i.child,o,c)}function U0(i,s,o,c,m){o=o.render;var g=s.ref;if("ref"in c){var w={};for(var A in c)A!=="ref"&&(w[A]=c[A])}else w=c;return Na(s),c=Xm(i,s,o,w,g,m),A=Wm(),i!==null&&!Ht?(Zm(i,s,m),Or(i,s,m)):(He&&A&&Pm(s),s.flags|=1,Wt(i,s,c,m),s.child)}function z0(i,s,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Dm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,j0(i,s,g,c,m)):(i=xh(o.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Ep(i,m)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:du,o(w,c)&&i.ref===s.ref)return Or(i,s,m)}return s.flags|=1,i=wr(g,c),i.ref=s.ref,i.return=s,s.child=i}function j0(i,s,o,c,m){if(i!==null){var g=i.memoizedProps;if(du(g,c)&&i.ref===s.ref)if(Ht=!1,s.pendingProps=c=g,Ep(i,m))(i.flags&131072)!==0&&(Ht=!0);else return s.lanes=i.lanes,Or(i,s,m)}return mp(i,s,o,c,m)}function B0(i,s,o){var c=s.pendingProps,m=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,i!==null){for(m=s.child=i.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return F0(i,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vh(s,g!==null?g.cachePool:null),g!==null?jv(s,g):Ym(),C0(s);else return s.lanes=s.childLanes=536870912,F0(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Vh(s,g.cachePool),jv(s,g),cs(),s.memoizedState=null):(i!==null&&Vh(s,null),Ym(),cs());return Wt(i,s,m,o),s.child}function F0(i,s,o,c){var m=Bm();return m=m===null?null:{parent:Lt._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},i!==null&&Vh(s,null),Ym(),C0(s),i!==null&&yu(i,s,c,!0),null}function Jh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(n(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function mp(i,s,o,c,m){return Na(s),o=Xm(i,s,o,c,void 0,m),c=Wm(),i!==null&&!Ht?(Zm(i,s,m),Or(i,s,m)):(He&&c&&Pm(s),s.flags|=1,Wt(i,s,o,m),s.child)}function q0(i,s,o,c,m,g){return Na(s),s.updateQueue=null,o=Fv(s,c,o,m),Bv(i),c=Wm(),i!==null&&!Ht?(Zm(i,s,g),Or(i,s,g)):(He&&c&&Pm(s),s.flags|=1,Wt(i,s,o,g),s.child)}function H0(i,s,o,c,m){if(Na(s),s.stateNode===null){var g=Bo,w=o.contextType;typeof w=="object"&&w!==null&&(g=an(w)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=fp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},qm(s),w=o.contextType,g.context=typeof w=="object"&&w!==null?an(w):Bo,g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(hp(s,o,w,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&fp.enqueueReplaceState(g,g.state,null),Su(s,c,g,m),Au(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var A=s.memoizedProps,k=ka(o,A);g.props=k;var Q=g.context,te=o.contextType;w=Bo,typeof te=="object"&&te!==null&&(w=an(te));var re=o.getDerivedStateFromProps;te=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||Q!==w)&&D0(s,g,c,w),ss=!1;var X=s.memoizedState;g.state=X,Su(s,c,g,m),Au(),Q=s.memoizedState,A||X!==Q||ss?(typeof re=="function"&&(hp(s,o,re,c),Q=s.memoizedState),(k=ss||O0(s,o,k,c,X,Q,w))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Q),g.props=c,g.state=Q,g.context=w,c=k):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Hm(i,s),w=s.memoizedProps,te=ka(o,w),g.props=te,re=s.pendingProps,X=g.context,Q=o.contextType,k=Bo,typeof Q=="object"&&Q!==null&&(k=an(Q)),A=o.getDerivedStateFromProps,(Q=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==re||X!==k)&&D0(s,g,c,k),ss=!1,X=s.memoizedState,g.state=X,Su(s,c,g,m),Au();var W=s.memoizedState;w!==re||X!==W||ss||i!==null&&i.dependencies!==null&&Mh(i.dependencies)?(typeof A=="function"&&(hp(s,o,A,c),W=s.memoizedState),(te=ss||O0(s,o,te,c,X,W,k)||i!==null&&i.dependencies!==null&&Mh(i.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,W,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,W,k)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=W),g.props=c,g.state=W,g.context=k,c=te):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,Jh(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Wo(s,i.child,null,m),s.child=Wo(s,null,o,m)):Wt(i,s,o,m),s.memoizedState=g.state,i=s.child):i=Or(i,s,m),i}function G0(i,s,o,c){return gu(),s.flags|=256,Wt(i,s,o,c),s.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gp(i){return{baseLanes:i,cachePool:Nv()}}function _p(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=ri),i}function $0(i,s,o){var c=s.pendingProps,m=!1,g=(s.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:(Ut.current&2)!==0),w&&(m=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(He){if(m?us(s):cs(),He){var A=gt,k;if(k=A){e:{for(k=A,A=Bi;k.nodeType!==8;){if(!A){A=null;break e}if(k=Ti(k.nextSibling),k===null){A=null;break e}}A=k}A!==null?(s.memoizedState={dehydrated:A,treeContext:Ia!==null?{id:br,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},k=Mn(18,null,null,0),k.stateNode=A,k.return=s,s.child=k,_n=s,gt=null,k=!0):k=!1}k||Da(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return eg(A)?s.lanes=32:s.lanes=536870912,null;Cr(s)}return A=c.children,c=c.fallback,m?(cs(),m=s.mode,A=ef({mode:"hidden",children:A},m),c=Ra(c,m,o,null),A.return=s,c.return=s,A.sibling=c,s.child=A,m=s.child,m.memoizedState=gp(o),m.childLanes=_p(i,w,o),s.memoizedState=pp,c):(us(s),yp(s,A))}if(k=i.memoizedState,k!==null&&(A=k.dehydrated,A!==null)){if(g)s.flags&256?(us(s),s.flags&=-257,s=vp(i,s,o)):s.memoizedState!==null?(cs(),s.child=i.child,s.flags|=128,s=null):(cs(),m=c.fallback,A=s.mode,c=ef({mode:"visible",children:c.children},A),m=Ra(m,A,o,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,Wo(s,i.child,null,o),c=s.child,c.memoizedState=gp(o),c.childLanes=_p(i,w,o),s.memoizedState=pp,s=m);else if(us(s),eg(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var Q=w.dgst;w=Q,c=Error(n(419)),c.stack="",c.digest=w,_u({value:c,source:null,stack:null}),s=vp(i,s,o)}else if(Ht||yu(i,s,o,!1),w=(o&i.childLanes)!==0,Ht||w){if(w=rt,w!==null&&(c=o&-o,c=(c&42)!==0?1:Wr(c),c=(c&(w.suspendedLanes|o))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,jo(i,c),zn(w,i,c),L0;A.data==="$?"||Lp(),s=vp(i,s,o)}else A.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=k.treeContext,gt=Ti(A.nextSibling),_n=s,He=!0,Oa=null,Bi=!1,i!==null&&(ti[ni++]=br,ti[ni++]=Ar,ti[ni++]=Ia,br=i.id,Ar=i.overflow,Ia=s),s=yp(s,c.children),s.flags|=4096);return s}return m?(cs(),m=c.fallback,A=s.mode,k=i.child,Q=k.sibling,c=wr(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,Q!==null?m=wr(Q,m):(m=Ra(m,A,o,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,A=i.child.memoizedState,A===null?A=gp(o):(k=A.cachePool,k!==null?(Q=Lt._currentValue,k=k.parent!==Q?{parent:Q,pool:Q}:k):k=Nv(),A={baseLanes:A.baseLanes|o,cachePool:k}),m.memoizedState=A,m.childLanes=_p(i,w,o),s.memoizedState=pp,c):(us(s),o=i.child,i=o.sibling,o=wr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=o,s.memoizedState=null,o)}function yp(i,s){return s=ef({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ef(i,s){return i=Mn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function vp(i,s,o){return Wo(s,i.child,null,o),i=yp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Y0(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Lm(i.return,s,o)}function Tp(i,s,o,c,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=m)}function K0(i,s,o){var c=s.pendingProps,m=c.revealOrder,g=c.tail;if(Wt(i,s,c.children,o),c=Ut.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Y0(i,o,s);else if(i.tag===19)Y0(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(le(Ut,c),m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&Xh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Tp(s,!1,m,o,g);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Xh(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Tp(s,!0,o,null,g);break;case"together":Tp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Or(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),ps|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(yu(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,o=wr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=wr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Ep(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Mh(i)))}function kI(i,s,o){switch(s.tag){case 3:it(s,s.stateNode.containerInfo),rs(s,Lt,i.memoizedState.cache),gu();break;case 27:case 5:Xr(s);break;case 4:it(s,s.stateNode.containerInfo);break;case 10:rs(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(us(s),s.flags|=128,null):(o&s.child.childLanes)!==0?$0(i,s,o):(us(s),i=Or(i,s,o),i!==null?i.sibling:null);us(s);break;case 19:var m=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(yu(i,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return K0(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),le(Ut,Ut.current),c)break;return null;case 22:case 23:return s.lanes=0,B0(i,s,o);case 24:rs(s,Lt,i.memoizedState.cache)}return Or(i,s,o)}function Q0(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ht=!0;else{if(!Ep(i,o)&&(s.flags&128)===0)return Ht=!1,kI(i,s,o);Ht=(i.flags&131072)!==0}else Ht=!1,He&&(s.flags&1048576)!==0&&Sv(s,Ph,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,m=c._init;if(c=m(c._payload),s.type=c,typeof c=="function")Dm(c)?(i=ka(c,i),s.tag=1,s=H0(null,s,c,i,o)):(s.tag=0,s=mp(null,s,c,i,o));else{if(c!=null){if(m=c.$$typeof,m===K){s.tag=11,s=U0(null,s,c,i,o);break e}else if(m===x){s.tag=14,s=z0(null,s,c,i,o);break e}}throw s=Le(c)||c,Error(n(306,s,""))}}return s;case 0:return mp(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=ka(c,s.pendingProps),H0(i,s,c,m,o);case 3:e:{if(it(s,s.stateNode.containerInfo),i===null)throw Error(n(387));c=s.pendingProps;var g=s.memoizedState;m=g.element,Hm(i,s),Su(s,c,null,o);var w=s.memoizedState;if(c=w.cache,rs(s,Lt,c),c!==g.cache&&Um(s,[Lt],o,!0),Au(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=G0(i,s,c,o);break e}else if(c!==m){m=Jn(Error(n(424)),s),_u(m),s=G0(i,s,c,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(gt=Ti(i.firstChild),_n=s,He=!0,Oa=null,Bi=!0,o=I0(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(gu(),c===m){s=Or(i,s,o);break e}Wt(i,s,c,o)}s=s.child}return s;case 26:return Jh(i,s),i===null?(o=JT(s.type,null,s.pendingProps,null))?s.memoizedState=o:He||(o=s.type,i=s.pendingProps,c=pf(Ae.current).createElement(o),c[Mt]=s,c[St]=i,Jt(c,o,i),vt(c),s.stateNode=c):s.memoizedState=JT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Xr(s),i===null&&He&&(c=s.stateNode=XT(s.type,s.pendingProps,Ae.current),_n=s,Bi=!0,m=gt,vs(s.type)?(tg=m,gt=Ti(c.firstChild)):gt=m),Wt(i,s,s.pendingProps.children,o),Jh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&He&&((m=c=gt)&&(c=uC(c,s.type,s.pendingProps,Bi),c!==null?(s.stateNode=c,_n=s,gt=Ti(c.firstChild),Bi=!1,m=!0):m=!1),m||Da(s)),Xr(s),m=s.type,g=s.pendingProps,w=i!==null?i.memoizedProps:null,c=g.children,Wp(m,g)?c=null:w!==null&&Wp(m,w)&&(s.flags|=32),s.memoizedState!==null&&(m=Xm(i,s,II,null,null,o),Yu._currentValue=m),Jh(i,s),Wt(i,s,c,o),s.child;case 6:return i===null&&He&&((i=o=gt)&&(o=cC(o,s.pendingProps,Bi),o!==null?(s.stateNode=o,_n=s,gt=null,i=!0):i=!1),i||Da(s)),null;case 13:return $0(i,s,o);case 4:return it(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Wo(s,null,c,o):Wt(i,s,c,o),s.child;case 11:return U0(i,s,s.type,s.pendingProps,o);case 7:return Wt(i,s,s.pendingProps,o),s.child;case 8:return Wt(i,s,s.pendingProps.children,o),s.child;case 12:return Wt(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,rs(s,s.type,c.value),Wt(i,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Na(s),m=an(m),c=c(m),s.flags|=1,Wt(i,s,c,o),s.child;case 14:return z0(i,s,s.type,s.pendingProps,o);case 15:return j0(i,s,s.type,s.pendingProps,o);case 19:return K0(i,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},i===null?(o=ef(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=wr(i.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return B0(i,s,o);case 24:return Na(s),c=an(Lt),i===null?(m=Bm(),m===null&&(m=rt,g=zm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:c,cache:m},qm(s),rs(s,Lt,m)):((i.lanes&o)!==0&&(Hm(i,s),Su(s,null,null,o),Au()),m=i.memoizedState,g=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),rs(s,Lt,c)):(c=g.cache,rs(s,Lt,c),c!==m.cache&&Um(s,[Lt],o,!0))),Wt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Dr(i){i.flags|=4}function X0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!rE(s)){if(s=ii.current,s!==null&&((Be&4194048)===Be?Fi!==null:(Be&62914560)!==Be&&(Be&536870912)===0||s!==Fi))throw wu=Fm,Pv;i.flags|=8192}}function tf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ql():536870912,i.lanes|=s,tl|=s)}function Nu(i,s){if(!He)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ct(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function VI(i,s,o){var c=s.pendingProps;switch(Mm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(s),null;case 1:return ct(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Rr(Lt),Oi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(pu(s)?Dr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cv())),ct(s),null;case 26:return o=s.memoizedState,i===null?(Dr(s),o!==null?(ct(s),X0(s,o)):(ct(s),s.flags&=-16777217)):o?o!==i.memoizedState?(Dr(s),ct(s),X0(s,o)):(ct(s),s.flags&=-16777217):(i.memoizedProps!==c&&Dr(s),ct(s),s.flags&=-16777217),null;case 27:ur(s),o=Ae.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Dr(s);else{if(!c){if(s.stateNode===null)throw Error(n(166));return ct(s),null}i=pe.current,pu(s)?Rv(s):(i=XT(m,c,o),s.stateNode=i,Dr(s))}return ct(s),null;case 5:if(ur(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Dr(s);else{if(!c){if(s.stateNode===null)throw Error(n(166));return ct(s),null}if(i=pe.current,pu(s))Rv(s);else{switch(m=pf(Ae.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}i[Mt]=s,i[St]=c;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(Jt(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Dr(s)}}return ct(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Dr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(i=Ae.current,pu(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,m=_n,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Mt]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||qT(i.nodeValue,o)),i||Da(s)}else i=pf(i).createTextNode(c),i[Mt]=s,s.stateNode=i}return ct(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=pu(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(n(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Mt]=s}else gu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),m=!1}else m=Cv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Cr(s),s):(Cr(s),null)}if(Cr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),tf(s,s.updateQueue),ct(s),null;case 4:return Oi(),i===null&&$p(s.stateNode.containerInfo),ct(s),null;case 10:return Rr(s.type),ct(s),null;case 19:if(ue(Ut),m=s.memoizedState,m===null)return ct(s),null;if(c=(s.flags&128)!==0,g=m.rendering,g===null)if(c)Nu(m,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Xh(i),g!==null){for(s.flags|=128,Nu(m,!1),i=g.updateQueue,s.updateQueue=i,tf(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Av(o,i),o=o.sibling;return le(Ut,Ut.current&1|2),s.child}i=i.sibling}m.tail!==null&&Yn()>sf&&(s.flags|=128,c=!0,Nu(m,!1),s.lanes=4194304)}else{if(!c)if(i=Xh(g),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,tf(s,i),Nu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!He)return ct(s),null}else 2*Yn()-m.renderingStartTime>sf&&o!==536870912&&(s.flags|=128,c=!0,Nu(m,!1),s.lanes=4194304);m.isBackwards?(g.sibling=s.child,s.child=g):(i=m.last,i!==null?i.sibling=g:s.child=g,m.last=g)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Yn(),s.sibling=null,i=Ut.current,le(Ut,c?i&1|2:i&1),s):(ct(s),null);case 22:case 23:return Cr(s),Km(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(ct(s),s.subtreeFlags&6&&(s.flags|=8192)):ct(s),o=s.updateQueue,o!==null&&tf(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&ue(Pa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Rr(Lt),ct(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function LI(i,s){switch(Mm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Rr(Lt),Oi(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ur(s),null;case 13:if(Cr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));gu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ue(Ut),null;case 4:return Oi(),null;case 10:return Rr(s.type),null;case 22:case 23:return Cr(s),Km(),i!==null&&ue(Pa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Rr(Lt),null;case 25:return null;default:return null}}function W0(i,s){switch(Mm(s),s.tag){case 3:Rr(Lt),Oi();break;case 26:case 27:case 5:ur(s);break;case 4:Oi();break;case 13:Cr(s);break;case 19:ue(Ut);break;case 10:Rr(s.type);break;case 22:case 23:Cr(s),Km(),i!==null&&ue(Pa);break;case 24:Rr(Lt)}}function Pu(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==m)}}catch(A){et(s,s.return,A)}}function hs(i,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var w=c.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,m=s;var k=o,Q=A;try{Q()}catch(te){et(m,k,te)}}}c=c.next}while(c!==g)}}catch(te){et(s,s.return,te)}}function Z0(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{zv(s,o)}catch(c){et(i,i.return,c)}}}function J0(i,s,o){o.props=ka(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){et(i,s,c)}}function Mu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){et(i,s,m)}}function qi(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){et(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){et(i,s,m)}else o.current=null}function eT(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){et(i,i.return,m)}}function wp(i,s,o){try{var c=i.stateNode;rC(c,i.type,o,s),c[St]=s}catch(m){et(i,i.return,m)}}function tT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&vs(i.type)||i.tag===4}function bp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||tT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&vs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ap(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=mf));else if(c!==4&&(c===27&&vs(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Ap(i,s,o),i=i.sibling;i!==null;)Ap(i,s,o),i=i.sibling}function nf(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&vs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(nf(i,s,o),i=i.sibling;i!==null;)nf(i,s,o),i=i.sibling}function nT(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Jt(s,c,o),s[Mt]=i,s[St]=o}catch(g){et(i,i.return,g)}}var xr=!1,Et=!1,Sp=!1,iT=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function UI(i,s){if(i=i.containerInfo,Qp=Ef,i=mv(i),bm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,A=-1,k=-1,Q=0,te=0,re=i,X=null;t:for(;;){for(var W;re!==o||m!==0&&re.nodeType!==3||(A=w+m),re!==g||c!==0&&re.nodeType!==3||(k=w+c),re.nodeType===3&&(w+=re.nodeValue.length),(W=re.firstChild)!==null;)X=re,re=W;for(;;){if(re===i)break t;if(X===o&&++Q===m&&(A=w),X===g&&++te===c&&(k=w),(W=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=W}o=A===-1||k===-1?null:{start:A,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xp={focusedElem:i,selectionRange:o},Ef=!1,Gt=s;Gt!==null;)if(s=Gt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Gt=i;else for(;Gt!==null;){switch(s=Gt,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var we=ka(o.type,m,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(we,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(ye){et(o,o.return,ye)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Jp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Gt=i;break}Gt=s.return}}function rT(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:fs(i,o),c&4&&Pu(5,o);break;case 1:if(fs(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(w){et(o,o.return,w)}else{var m=ka(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){et(o,o.return,w)}}c&64&&Z0(o),c&512&&Mu(o,o.return);break;case 3:if(fs(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{zv(i,s)}catch(w){et(o,o.return,w)}}break;case 27:s===null&&c&4&&nT(o);case 26:case 5:fs(i,o),s===null&&c&4&&eT(o),c&512&&Mu(o,o.return);break;case 12:fs(i,o);break;case 13:fs(i,o),c&4&&oT(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=YI.bind(null,o),hC(i,o))));break;case 22:if(c=o.memoizedState!==null||xr,!c){s=s!==null&&s.memoizedState!==null||Et,m=xr;var g=Et;xr=c,(Et=s)&&!g?ds(i,o,(o.subtreeFlags&8772)!==0):fs(i,o),xr=m,Et=g}break;case 30:break;default:fs(i,o)}}function sT(i){var s=i.alternate;s!==null&&(i.alternate=null,sT(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&es(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var lt=null,Tn=!1;function Nr(i,s,o){for(o=o.child;o!==null;)aT(i,s,o),o=o.sibling}function aT(i,s,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:Et||qi(o,s),Nr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Et||qi(o,s);var c=lt,m=Tn;vs(o.type)&&(lt=o.stateNode,Tn=!1),Nr(i,s,o),qu(o.stateNode),lt=c,Tn=m;break;case 5:Et||qi(o,s);case 6:if(c=lt,m=Tn,lt=null,Nr(i,s,o),lt=c,Tn=m,lt!==null)if(Tn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(o.stateNode)}catch(g){et(o,s,g)}else try{lt.removeChild(o.stateNode)}catch(g){et(o,s,g)}break;case 18:lt!==null&&(Tn?(i=lt,KT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Wu(i)):KT(lt,o.stateNode));break;case 4:c=lt,m=Tn,lt=o.stateNode.containerInfo,Tn=!0,Nr(i,s,o),lt=c,Tn=m;break;case 0:case 11:case 14:case 15:Et||hs(2,o,s),Et||hs(4,o,s),Nr(i,s,o);break;case 1:Et||(qi(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&J0(o,s,c)),Nr(i,s,o);break;case 21:Nr(i,s,o);break;case 22:Et=(c=Et)||o.memoizedState!==null,Nr(i,s,o),Et=c;break;default:Nr(i,s,o)}}function oT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Wu(i)}catch(o){et(s,s.return,o)}}function zI(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new iT),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new iT),s;default:throw Error(n(435,i.tag))}}function Rp(i,s){var o=zI(i);s.forEach(function(c){var m=KI.bind(null,i,c);o.has(c)||(o.add(c),c.then(m,m))})}function kn(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,w=s,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(vs(A.type)){lt=A.stateNode,Tn=!1;break e}break;case 5:lt=A.stateNode,Tn=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,Tn=!0;break e}A=A.return}if(lt===null)throw Error(n(160));aT(g,w,m),lt=null,Tn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)lT(s,i),s=s.sibling}var vi=null;function lT(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:kn(s,i),Vn(i),c&4&&(hs(3,i,i.return),Pu(3,i),hs(5,i,i.return));break;case 1:kn(s,i),Vn(i),c&512&&(Et||o===null||qi(o,o.return)),c&64&&xr&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=vi;if(kn(s,i),Vn(i),c&512&&(Et||o===null||qi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[ca]||g[Mt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Jt(g,c,o),g[Mt]=i,vt(g),c=g;break e;case"link":var w=nE("link","href",m).get(c+(o.href||""));if(w){for(var A=0;A<w.length;A++)if(g=w[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(A,1);break t}}g=m.createElement(c),Jt(g,c,o),m.head.appendChild(g);break;case"meta":if(w=nE("meta","content",m).get(c+(o.content||""))){for(A=0;A<w.length;A++)if(g=w[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(A,1);break t}}g=m.createElement(c),Jt(g,c,o),m.head.appendChild(g);break;default:throw Error(n(468,c))}g[Mt]=i,vt(g),c=g}i.stateNode=c}else iE(m,i.type,i.stateNode);else i.stateNode=tE(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?iE(m,i.type,i.stateNode):tE(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&wp(i,i.memoizedProps,o.memoizedProps)}break;case 27:kn(s,i),Vn(i),c&512&&(Et||o===null||qi(o,o.return)),o!==null&&c&4&&wp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(kn(s,i),Vn(i),c&512&&(Et||o===null||qi(o,o.return)),i.flags&32){m=i.stateNode;try{Qn(m,"")}catch(W){et(i,i.return,W)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,wp(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Sp=!0);break;case 6:if(kn(s,i),Vn(i),c&4){if(i.stateNode===null)throw Error(n(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(W){et(i,i.return,W)}}break;case 3:if(yf=null,m=vi,vi=gf(s.containerInfo),kn(s,i),vi=m,Vn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Wu(s.containerInfo)}catch(W){et(i,i.return,W)}Sp&&(Sp=!1,uT(i));break;case 4:c=vi,vi=gf(i.stateNode.containerInfo),kn(s,i),Vn(i),vi=c;break;case 12:kn(s,i),Vn(i);break;case 13:kn(s,i),Vn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Np=Yn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Rp(i,c)));break;case 22:m=i.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,Q=xr,te=Et;if(xr=Q||m,Et=te||k,kn(s,i),Et=te,xr=Q,Vn(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||k||xr||Et||Va(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){k=o=s;try{if(g=k.stateNode,m)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=k.stateNode;var re=k.memoizedProps.style,X=re!=null&&re.hasOwnProperty("display")?re.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(W){et(k,k.return,W)}}}else if(s.tag===6){if(o===null){k=s;try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(W){et(k,k.return,W)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Rp(i,o))));break;case 19:kn(s,i),Vn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Rp(i,c)));break;case 30:break;case 21:break;default:kn(s,i),Vn(i)}}function Vn(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(tT(c)){o=c;break}c=c.return}if(o==null)throw Error(n(160));switch(o.tag){case 27:var m=o.stateNode,g=bp(i);nf(i,g,m);break;case 5:var w=o.stateNode;o.flags&32&&(Qn(w,""),o.flags&=-33);var A=bp(i);nf(i,A,w);break;case 3:case 4:var k=o.stateNode.containerInfo,Q=bp(i);Ap(i,Q,k);break;default:throw Error(n(161))}}catch(te){et(i,i.return,te)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function uT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;uT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function fs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)rT(i,s.alternate,s),s=s.sibling}function Va(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:hs(4,s,s.return),Va(s);break;case 1:qi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&J0(s,s.return,o),Va(s);break;case 27:qu(s.stateNode);case 26:case 5:qi(s,s.return),Va(s);break;case 22:s.memoizedState===null&&Va(s);break;case 30:Va(s);break;default:Va(s)}i=i.sibling}}function ds(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,g=s,w=g.flags;switch(g.tag){case 0:case 11:case 15:ds(m,g,o),Pu(4,g);break;case 1:if(ds(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){et(c,c.return,Q)}if(c=g,m=c.updateQueue,m!==null){var A=c.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)Uv(k[m],A)}catch(Q){et(c,c.return,Q)}}o&&w&64&&Z0(g),Mu(g,g.return);break;case 27:nT(g);case 26:case 5:ds(m,g,o),o&&c===null&&w&4&&eT(g),Mu(g,g.return);break;case 12:ds(m,g,o);break;case 13:ds(m,g,o),o&&w&4&&oT(m,g);break;case 22:g.memoizedState===null&&ds(m,g,o),Mu(g,g.return);break;case 30:break;default:ds(m,g,o)}s=s.sibling}}function Ip(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&vu(o))}function Cp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&vu(i))}function Hi(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cT(i,s,o,c),s=s.sibling}function cT(i,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(i,s,o,c),m&2048&&Pu(9,s);break;case 1:Hi(i,s,o,c);break;case 3:Hi(i,s,o,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&vu(i)));break;case 12:if(m&2048){Hi(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,w=g.id,A=g.onPostCommit;typeof A=="function"&&A(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){et(s,s.return,k)}}else Hi(i,s,o,c);break;case 13:Hi(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,w=s.alternate,s.memoizedState!==null?g._visibility&2?Hi(i,s,o,c):ku(i,s):g._visibility&2?Hi(i,s,o,c):(g._visibility|=2,Zo(i,s,o,c,(s.subtreeFlags&10256)!==0)),m&2048&&Ip(w,s);break;case 24:Hi(i,s,o,c),m&2048&&Cp(s.alternate,s);break;default:Hi(i,s,o,c)}}function Zo(i,s,o,c,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,w=s,A=o,k=c,Q=w.flags;switch(w.tag){case 0:case 11:case 15:Zo(g,w,A,k,m),Pu(8,w);break;case 23:break;case 22:var te=w.stateNode;w.memoizedState!==null?te._visibility&2?Zo(g,w,A,k,m):ku(g,w):(te._visibility|=2,Zo(g,w,A,k,m)),m&&Q&2048&&Ip(w.alternate,w);break;case 24:Zo(g,w,A,k,m),m&&Q&2048&&Cp(w.alternate,w);break;default:Zo(g,w,A,k,m)}s=s.sibling}}function ku(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,m=c.flags;switch(c.tag){case 22:ku(o,c),m&2048&&Ip(c.alternate,c);break;case 24:ku(o,c),m&2048&&Cp(c.alternate,c);break;default:ku(o,c)}s=s.sibling}}var Vu=8192;function Jo(i){if(i.subtreeFlags&Vu)for(i=i.child;i!==null;)hT(i),i=i.sibling}function hT(i){switch(i.tag){case 26:Jo(i),i.flags&Vu&&i.memoizedState!==null&&AC(vi,i.memoizedState,i.memoizedProps);break;case 5:Jo(i);break;case 3:case 4:var s=vi;vi=gf(i.stateNode.containerInfo),Jo(i),vi=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Vu,Vu=16777216,Jo(i),Vu=s):Jo(i));break;default:Jo(i)}}function fT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Lu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Gt=c,mT(c,i)}fT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dT(i),i=i.sibling}function dT(i){switch(i.tag){case 0:case 11:case 15:Lu(i),i.flags&2048&&hs(9,i,i.return);break;case 3:Lu(i);break;case 12:Lu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,rf(i)):Lu(i);break;default:Lu(i)}}function rf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Gt=c,mT(c,i)}fT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:hs(8,s,s.return),rf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,rf(s));break;default:rf(s)}i=i.sibling}}function mT(i,s){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:hs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:vu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Gt=c;else e:for(o=i;Gt!==null;){c=Gt;var m=c.sibling,g=c.return;if(sT(c),c===o){Gt=null;break e}if(m!==null){m.return=g,Gt=m;break e}Gt=g}}}var jI={getCacheForType:function(i){var s=an(Lt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},BI=typeof WeakMap=="function"?WeakMap:Map,Ke=0,rt=null,Ne=null,Be=0,Qe=0,Ln=null,ms=!1,el=!1,Op=!1,Pr=0,_t=0,ps=0,La=0,Dp=0,ri=0,tl=0,Uu=null,En=null,xp=!1,Np=0,sf=1/0,af=null,gs=null,Zt=0,_s=null,nl=null,il=0,Pp=0,Mp=null,pT=null,zu=0,kp=null;function Un(){if((Ke&2)!==0&&Be!==0)return Be&-Be;if(Z.T!==null){var i=Ho;return i!==0?i:Fp()}return Zr()}function gT(){ri===0&&(ri=(Be&536870912)===0||He?Kl():536870912);var i=ii.current;return i!==null&&(i.flags|=32),ri}function zn(i,s,o){(i===rt&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)&&(rl(i,0),ys(i,Be,ri,!1)),hr(i,o),((Ke&2)===0||i!==rt)&&(i===rt&&((Ke&2)===0&&(La|=o),_t===4&&ys(i,Be,ri,!1)),Gi(i))}function _T(i,s,o){if((Ke&6)!==0)throw Error(n(327));var c=!o&&(s&124)===0&&(s&i.expiredLanes)===0||ua(i,s),m=c?HI(i,s):Up(i,s,!0),g=c;do{if(m===0){el&&!c&&ys(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!FI(o)){m=Up(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var A=i;m=Uu;var k=A.current.memoizedState.isDehydrated;if(k&&(rl(A,w).flags|=256),w=Up(A,w,!1),w!==2){if(Op&&!k){A.errorRecoveryDisabledLanes|=g,La|=g,m=4;break e}g=En,En=m,g!==null&&(En===null?En=g:En.push.apply(En,g))}m=w}if(g=!1,m!==2)continue}}if(m===1){rl(i,0),ys(i,s,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:ys(c,s,ri,!ms);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(m=Np+300-Yn(),10<m)){if(ys(c,s,ri,!ms),Eo(c,0,!0)!==0)break e;c.timeoutHandle=$T(yT.bind(null,c,o,En,af,xp,s,ri,La,tl,ms,g,2,-0,0),m);break e}yT(c,o,En,af,xp,s,ri,La,tl,ms,g,0,-0,0)}}break}while(!0);Gi(i)}function yT(i,s,o,c,m,g,w,A,k,Q,te,re,X,W){if(i.timeoutHandle=-1,re=s.subtreeFlags,(re&8192||(re&16785408)===16785408)&&($u={stylesheets:null,count:0,unsuspend:bC},hT(s),re=SC(),re!==null)){i.cancelPendingCommit=re(ST.bind(null,i,s,g,o,c,m,w,A,k,te,1,X,W)),ys(i,g,w,!Q);return}ST(i,s,g,o,c,m,w,A,k)}function FI(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Pn(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ys(i,s,o,c){s&=~Dp,s&=~La,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var g=31-sn(m),w=1<<g;c[g]=-1,m&=~w}o!==0&&Di(i,o,s)}function of(){return(Ke&6)===0?(ju(0),!1):!0}function Vp(){if(Ne!==null){if(Qe===0)var i=Ne.return;else i=Ne,Sr=xa=null,Jm(i),Xo=null,Du=0,i=Ne;for(;i!==null;)W0(i.alternate,i),i=i.return;Ne=null}}function rl(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,aC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Vp(),rt=i,Ne=o=wr(i.current,null),Be=s,Qe=0,Ln=null,ms=!1,el=ua(i,s),Op=!1,tl=ri=Dp=La=ps=_t=0,En=Uu=null,xp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-sn(c),g=1<<m;s|=i[m],c&=~g}return Pr=s,Ch(),o}function vT(i,s){Oe=null,Z.H=Yh,s===Eu||s===Lh?(s=Vv(),Qe=3):s===Pv?(s=Vv(),Qe=4):Qe=s===L0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,Ne===null&&(_t=1,Zh(i,Jn(s,i.current)))}function TT(){var i=Z.H;return Z.H=Yh,i===null?Yh:i}function ET(){var i=Z.A;return Z.A=jI,i}function Lp(){_t=4,ms||(Be&4194048)!==Be&&ii.current!==null||(el=!0),(ps&134217727)===0&&(La&134217727)===0||rt===null||ys(rt,Be,ri,!1)}function Up(i,s,o){var c=Ke;Ke|=2;var m=TT(),g=ET();(rt!==i||Be!==s)&&(af=null,rl(i,s)),s=!1;var w=_t;e:do try{if(Qe!==0&&Ne!==null){var A=Ne,k=Ln;switch(Qe){case 8:Vp(),w=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(s=!0);var Q=Qe;if(Qe=0,Ln=null,sl(i,A,k,Q),o&&el){w=0;break e}break;default:Q=Qe,Qe=0,Ln=null,sl(i,A,k,Q)}}qI(),w=_t;break}catch(te){vT(i,te)}while(!0);return s&&i.shellSuspendCounter++,Sr=xa=null,Ke=c,Z.H=m,Z.A=g,Ne===null&&(rt=null,Be=0,Ch()),w}function qI(){for(;Ne!==null;)wT(Ne)}function HI(i,s){var o=Ke;Ke|=2;var c=TT(),m=ET();rt!==i||Be!==s?(af=null,sf=Yn()+500,rl(i,s)):el=ua(i,s);e:do try{if(Qe!==0&&Ne!==null){s=Ne;var g=Ln;t:switch(Qe){case 1:Qe=0,Ln=null,sl(i,s,g,1);break;case 2:case 9:if(Mv(g)){Qe=0,Ln=null,bT(s);break}s=function(){Qe!==2&&Qe!==9||rt!==i||(Qe=7),Gi(i)},g.then(s,s);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Mv(g)?(Qe=0,Ln=null,bT(s)):(Qe=0,Ln=null,sl(i,s,g,7));break;case 5:var w=null;switch(Ne.tag){case 26:w=Ne.memoizedState;case 5:case 27:var A=Ne;if(!w||rE(w)){Qe=0,Ln=null;var k=A.sibling;if(k!==null)Ne=k;else{var Q=A.return;Q!==null?(Ne=Q,lf(Q)):Ne=null}break t}}Qe=0,Ln=null,sl(i,s,g,5);break;case 6:Qe=0,Ln=null,sl(i,s,g,6);break;case 8:Vp(),_t=6;break e;default:throw Error(n(462))}}GI();break}catch(te){vT(i,te)}while(!0);return Sr=xa=null,Z.H=c,Z.A=m,Ke=o,Ne!==null?0:(rt=null,Be=0,Ch(),_t)}function GI(){for(;Ne!==null&&!Hl();)wT(Ne)}function wT(i){var s=Q0(i.alternate,i,Pr);i.memoizedProps=i.pendingProps,s===null?lf(i):Ne=s}function bT(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=q0(o,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=q0(o,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:Jm(s);default:W0(o,s),s=Ne=Av(s,Pr),s=Q0(o,s,Pr)}i.memoizedProps=i.pendingProps,s===null?lf(i):Ne=s}function sl(i,s,o,c){Sr=xa=null,Jm(s),Xo=null,Du=0;var m=s.return;try{if(MI(i,m,s,o,Be)){_t=1,Zh(i,Jn(o,i.current)),Ne=null;return}}catch(g){if(m!==null)throw Ne=m,g;_t=1,Zh(i,Jn(o,i.current)),Ne=null;return}s.flags&32768?(He||c===1?i=!0:el||(Be&536870912)!==0?i=!1:(ms=i=!0,(c===2||c===9||c===3||c===6)&&(c=ii.current,c!==null&&c.tag===13&&(c.flags|=16384))),AT(s,i)):lf(s)}function lf(i){var s=i;do{if((s.flags&32768)!==0){AT(s,ms);return}i=s.return;var o=VI(s.alternate,s,Pr);if(o!==null){Ne=o;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=i}while(s!==null);_t===0&&(_t=5)}function AT(i,s){do{var o=LI(i.alternate,i);if(o!==null){o.flags&=32767,Ne=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Ne=i;return}Ne=i=o}while(i!==null);_t=6,Ne=null}function ST(i,s,o,c,m,g,w,A,k){i.cancelPendingCommit=null;do uf();while(Zt!==0);if((Ke&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(g=s.lanes|s.childLanes,g|=Cm,Xl(i,o,g,w,A,k),i===rt&&(Ne=rt=null,Be=0),nl=s,_s=i,il=o,Pp=g,Mp=m,pT=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,QI(sa,function(){return DT(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,m=oe.p,oe.p=2,w=Ke,Ke|=4;try{UI(i,s,o)}finally{Ke=w,oe.p=m,Z.T=c}}Zt=1,RT(),IT(),CT()}}function RT(){if(Zt===1){Zt=0;var i=_s,s=nl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var c=oe.p;oe.p=2;var m=Ke;Ke|=4;try{lT(s,i);var g=Xp,w=mv(i.containerInfo),A=g.focusedElem,k=g.selectionRange;if(w!==A&&A&&A.ownerDocument&&dv(A.ownerDocument.documentElement,A)){if(k!==null&&bm(A)){var Q=k.start,te=k.end;if(te===void 0&&(te=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(te,A.value.length);else{var re=A.ownerDocument||document,X=re&&re.defaultView||window;if(X.getSelection){var W=X.getSelection(),we=A.textContent.length,ye=Math.min(k.start,we),Je=k.end===void 0?ye:Math.min(k.end,we);!W.extend&&ye>Je&&(w=Je,Je=ye,ye=w);var q=fv(A,ye),z=fv(A,Je);if(q&&z&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var Y=re.createRange();Y.setStart(q.node,q.offset),W.removeAllRanges(),ye>Je?(W.addRange(Y),W.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),W.addRange(Y))}}}}for(re=[],W=A;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<re.length;A++){var ne=re[A];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Ef=!!Qp,Xp=Qp=null}finally{Ke=m,oe.p=c,Z.T=o}}i.current=s,Zt=2}}function IT(){if(Zt===2){Zt=0;var i=_s,s=nl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var c=oe.p;oe.p=2;var m=Ke;Ke|=4;try{rT(i,s.alternate,s)}finally{Ke=m,oe.p=c,Z.T=o}}Zt=3}}function CT(){if(Zt===4||Zt===3){Zt=0,ih();var i=_s,s=nl,o=il,c=pT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zt=5:(Zt=0,nl=_s=null,OT(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(gs=null),wo(o),s=s.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(pt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Z.T,m=oe.p,oe.p=2,Z.T=null;try{for(var g=i.onRecoverableError,w=0;w<c.length;w++){var A=c[w];g(A.value,{componentStack:A.stack})}}finally{Z.T=s,oe.p=m}}(il&3)!==0&&uf(),Gi(i),m=i.pendingLanes,(o&4194090)!==0&&(m&42)!==0?i===kp?zu++:(zu=0,kp=i):zu=0,ju(0)}}function OT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,vu(s)))}function uf(i){return RT(),IT(),CT(),DT()}function DT(){if(Zt!==5)return!1;var i=_s,s=Pp;Pp=0;var o=wo(il),c=Z.T,m=oe.p;try{oe.p=32>o?32:o,Z.T=null,o=Mp,Mp=null;var g=_s,w=il;if(Zt=0,nl=_s=null,il=0,(Ke&6)!==0)throw Error(n(331));var A=Ke;if(Ke|=4,dT(g.current),cT(g,g.current,w,o),Ke=A,ju(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(pt,g)}catch{}return!0}finally{oe.p=m,Z.T=c,OT(i,s)}}function xT(i,s,o){s=Jn(o,s),s=dp(i.stateNode,s,2),i=os(i,s,2),i!==null&&(hr(i,2),Gi(i))}function et(i,s,o){if(i.tag===3)xT(i,i,o);else for(;s!==null;){if(s.tag===3){xT(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gs===null||!gs.has(c))){i=Jn(o,i),o=k0(2),c=os(s,o,2),c!==null&&(V0(o,c,s,i),hr(c,2),Gi(c));break}}s=s.return}}function zp(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new BI;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(Op=!0,m.add(o),i=$I.bind(null,i,s,o),s.then(i,i))}function $I(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,rt===i&&(Be&o)===o&&(_t===4||_t===3&&(Be&62914560)===Be&&300>Yn()-Np?(Ke&2)===0&&rl(i,0):Dp|=o,tl===Be&&(tl=0)),Gi(i)}function NT(i,s){s===0&&(s=Ql()),i=jo(i,s),i!==null&&(hr(i,s),Gi(i))}function YI(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),NT(i,o)}function KI(i,s){var o=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(n(314))}c!==null&&c.delete(s),NT(i,o)}function QI(i,s){return ia(i,s)}var cf=null,al=null,jp=!1,hf=!1,Bp=!1,Ua=0;function Gi(i){i!==al&&i.next===null&&(al===null?cf=al=i:al=al.next=i),hf=!0,jp||(jp=!0,WI())}function ju(i,s){if(!Bp&&hf){Bp=!0;do for(var o=!1,c=cf;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var w=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-sn(42|i)+1)-1,g&=m&~(w&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,VT(c,g))}else g=Be,g=Eo(c,c===rt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ua(c,g)||(o=!0,VT(c,g));c=c.next}while(o);Bp=!1}}function XI(){PT()}function PT(){hf=jp=!1;var i=0;Ua!==0&&(sC()&&(i=Ua),Ua=0);for(var s=Yn(),o=null,c=cf;c!==null;){var m=c.next,g=MT(c,s);g===0?(c.next=null,o===null?cf=m:o.next=m,m===null&&(al=o)):(o=c,(i!==0||(g&3)!==0)&&(hf=!0)),c=m}ju(i)}function MT(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-sn(g),A=1<<w,k=m[w];k===-1?((A&o)===0||(A&c)!==0)&&(m[w]=Yl(A,s)):k<=s&&(i.expiredLanes|=A),g&=~A}if(s=rt,o=Be,o=Eo(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&ra(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ua(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&ra(c),wo(o)){case 2:case 8:o=vo;break;case 32:o=sa;break;case 268435456:o=To;break;default:o=sa}return c=kT.bind(null,i),o=ia(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&ra(c),i.callbackPriority=2,i.callbackNode=null,2}function kT(i,s){if(Zt!==0&&Zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(uf()&&i.callbackNode!==o)return null;var c=Be;return c=Eo(i,i===rt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(_T(i,c,s),MT(i,Yn()),i.callbackNode!=null&&i.callbackNode===o?kT.bind(null,i):null)}function VT(i,s){if(uf())return null;_T(i,s,!0)}function WI(){oC(function(){(Ke&6)!==0?ia(Gl,XI):PT()})}function Fp(){return Ua===0&&(Ua=Kl()),Ua}function LT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Co(""+i)}function UT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function ZI(i,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var g=LT((m[St]||null).action),w=c.submitter;w&&(s=(s=w[St]||null)?LT(s.formAction):w.getAttribute("formAction"),s!==null&&(g=s,w=null));var A=new Oo("action","action",null,c,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ua!==0){var k=w?UT(m,w):new FormData(m);lp(o,{pending:!0,data:k,method:m.method,action:g},null,k)}}else typeof g=="function"&&(A.preventDefault(),k=w?UT(m,w):new FormData(m),lp(o,{pending:!0,data:k,method:m.method,action:g},g,k))},currentTarget:m}]})}}for(var qp=0;qp<Im.length;qp++){var Hp=Im[qp],JI=Hp.toLowerCase(),eC=Hp[0].toUpperCase()+Hp.slice(1);yi(JI,"on"+eC)}yi(_v,"onAnimationEnd"),yi(yv,"onAnimationIteration"),yi(vv,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(_I,"onTransitionRun"),yi(yI,"onTransitionStart"),yi(vI,"onTransitionCancel"),yi(Tv,"onTransitionEnd"),dr("onMouseEnter",["mouseout","mouseover"]),dr("onMouseLeave",["mouseout","mouseover"]),dr("onPointerEnter",["pointerout","pointerover"]),dr("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function zT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var A=c[w],k=A.instance,Q=A.currentTarget;if(A=A.listener,k!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=Q;try{g(m)}catch(te){Wh(te)}m.currentTarget=null,g=k}else for(w=0;w<c.length;w++){if(A=c[w],k=A.instance,Q=A.currentTarget,A=A.listener,k!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=Q;try{g(m)}catch(te){Wh(te)}m.currentTarget=null,g=k}}}}function Pe(i,s){var o=s[Zl];o===void 0&&(o=s[Zl]=new Set);var c=i+"__bubble";o.has(c)||(jT(s,i,2,!1),o.add(c))}function Gp(i,s,o){var c=0;s&&(c|=4),jT(o,i,c,s)}var ff="_reactListening"+Math.random().toString(36).slice(2);function $p(i){if(!i[ff]){i[ff]=!0,Jl.forEach(function(o){o!=="selectionchange"&&(tC.has(o)||Gp(o,!1,i),Gp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[ff]||(s[ff]=!0,Gp("selectionchange",!1,s))}}function jT(i,s,o,c){switch(cE(s)){case 2:var m=CC;break;case 8:m=OC;break;default:m=ag}o=m.bind(null,s,o,i),m=void 0,!Wn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function Yp(i,s,o,c,m){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var A=c.stateNode.containerInfo;if(A===m)break;if(w===4)for(w=c.return;w!==null;){var k=w.tag;if((k===3||k===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;A!==null;){if(w=fr(A),w===null)return;if(k=w.tag,k===5||k===6||k===26||k===27){c=g=w;continue e}A=A.parentNode}}c=c.return}dh(function(){var Q=g,te=Xn(o),re=[];e:{var X=Ev.get(i);if(X!==void 0){var W=Oo,we=i;switch(i){case"keypress":if(Vi(o)===0)break e;case"keydown":case"keyup":W=ko;break;case"focusin":we="focus",W=No;break;case"focusout":we="blur",W=No;break;case"beforeblur":case"afterblur":W=No;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Eh;break;case _v:case yv:case vv:W=Po;break;case Tv:W=bh;break;case"scroll":case"scrollend":W=mh;break;case"wheel":W=Vo;break;case"copy":case"cut":case"paste":W=Mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=hu;break;case"toggle":case"beforetoggle":W=Sh}var ye=(s&4)!==0,Je=!ye&&(i==="scroll"||i==="scrollend"),q=ye?X!==null?X+"Capture":null:X;ye=[];for(var z=Q,Y;z!==null;){var ne=z;if(Y=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Y===null||q===null||(ne=_a(z,q),ne!=null&&ye.push(Fu(z,ne,Y))),Je)break;z=z.return}0<ye.length&&(X=new W(X,we,null,o,te),re.push({event:X,listeners:ye}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",X&&o!==gr&&(we=o.relatedTarget||o.fromElement)&&(fr(we)||we[Kn]))break e;if((W||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,W?(we=o.relatedTarget||o.toElement,W=Q,we=we?fr(we):null,we!==null&&(Je=l(we),ye=we.tag,we!==Je||ye!==5&&ye!==27&&ye!==6)&&(we=null)):(W=null,we=Q),W!==we)){if(ye=Zn,ne="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(ye=hu,ne="onPointerLeave",q="onPointerEnter",z="pointer"),Je=W==null?X:Ni(W),Y=we==null?X:Ni(we),X=new ye(ne,z+"leave",W,o,te),X.target=Je,X.relatedTarget=Y,ne=null,fr(te)===Q&&(ye=new ye(q,z+"enter",we,o,te),ye.target=Y,ye.relatedTarget=Je,ne=ye),Je=ne,W&&we)t:{for(ye=W,q=we,z=0,Y=ye;Y;Y=ol(Y))z++;for(Y=0,ne=q;ne;ne=ol(ne))Y++;for(;0<z-Y;)ye=ol(ye),z--;for(;0<Y-z;)q=ol(q),Y--;for(;z--;){if(ye===q||q!==null&&ye===q.alternate)break t;ye=ol(ye),q=ol(q)}ye=null}else ye=null;W!==null&&BT(re,X,W,ye,!1),we!==null&&Je!==null&&BT(re,Je,we,ye,!0)}}e:{if(X=Q?Ni(Q):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var me=av;else if(Vt(X))if(ov)me=mI;else{me=fI;var xe=hI}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&ru(Q.elementType)&&(me=av):me=dI;if(me&&(me=me(i,Q))){Er(re,me,o,te);break e}xe&&xe(i,X,Q),i==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&ns(X,"number",X.value)}switch(xe=Q?Ni(Q):window,i){case"focusin":(Vt(xe)||xe.contentEditable==="true")&&(Lo=xe,Am=Q,mu=null);break;case"focusout":mu=Am=Lo=null;break;case"mousedown":Sm=!0;break;case"contextmenu":case"mouseup":case"dragend":Sm=!1,pv(re,o,te);break;case"selectionchange":if(gI)break;case"keydown":case"keyup":pv(re,o,te)}var ge;if(zi)e:{switch(i){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else ze?J(i,o)&&(ve="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(E&&o.locale!=="ko"&&(ze||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&ze&&(ge=au()):(ki=te,is="value"in ki?ki.value:ki.textContent,ze=!0)),xe=df(Q,ve),0<xe.length&&(ve=new uu(ve,i,null,o,te),re.push({event:ve,listeners:xe}),ge?ve.data=ge:(ge=ce(o),ge!==null&&(ve.data=ge)))),(ge=y?kt(i,o):je(i,o))&&(ve=df(Q,"onBeforeInput"),0<ve.length&&(xe=new uu("onBeforeInput","beforeinput",null,o,te),re.push({event:xe,listeners:ve}),xe.data=ge)),ZI(re,i,Q,o,te)}zT(re,s)})}function Fu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function df(i,s){for(var o=s+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=_a(i,o),m!=null&&c.unshift(Fu(i,m,g)),m=_a(i,s),m!=null&&c.push(Fu(i,m,g))),i.tag===3)return c;i=i.return}return[]}function ol(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function BT(i,s,o,c,m){for(var g=s._reactName,w=[];o!==null&&o!==c;){var A=o,k=A.alternate,Q=A.stateNode;if(A=A.tag,k!==null&&k===c)break;A!==5&&A!==26&&A!==27||Q===null||(k=Q,m?(Q=_a(o,g),Q!=null&&w.unshift(Fu(o,Q,k))):m||(Q=_a(o,g),Q!=null&&w.push(Fu(o,Q,k)))),o=o.return}w.length!==0&&i.push({event:s,listeners:w})}var nC=/\r\n?/g,iC=/\u0000|\uFFFD/g;function FT(i){return(typeof i=="string"?i:""+i).replace(nC,`
`).replace(iC,"")}function qT(i,s){return s=FT(s),FT(i)===s}function mf(){}function Ze(i,s,o,c,m,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Qn(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Qn(i,""+c);break;case"className":Pi(i,"class",c);break;case"tabIndex":Pi(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pi(i,o,c);break;case"style":iu(i,c,g);break;case"data":if(s!=="object"){Pi(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Co(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Ze(i,s,"name",m.name,m,null),Ze(i,s,"formEncType",m.formEncType,m,null),Ze(i,s,"formMethod",m.formMethod,m,null),Ze(i,s,"formTarget",m.formTarget,m,null)):(Ze(i,s,"encType",m.encType,m,null),Ze(i,s,"method",m.method,m,null),Ze(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Co(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=mf);break;case"onScroll":c!=null&&Pe("scroll",i);break;case"onScrollEnd":c!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(n(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Co(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),ts(i,"popover",c);break;case"xlinkActuate":Qt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Qt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Qt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Qt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Qt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Qt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Qt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Qt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Qt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ts(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=_m.get(o)||o,ts(i,o,c))}}function Kp(i,s,o,c,m,g){switch(o){case"style":iu(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(n(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Qn(i,c):(typeof c=="number"||typeof c=="bigint")&&Qn(i,""+c);break;case"onScroll":c!=null&&Pe("scroll",i);break;case"onScrollEnd":c!=null&&Pe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=mf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=i[St]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):ts(i,o,c)}}}function Jt(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Ze(i,s,g,w,o,null)}}m&&Ze(i,s,"srcSet",o.srcSet,o,null),c&&Ze(i,s,"src",o.src,o,null);return;case"input":Pe("invalid",i);var A=g=w=m=null,k=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var te=o[c];if(te!=null)switch(c){case"name":m=te;break;case"type":w=te;break;case"checked":k=te;break;case"defaultChecked":Q=te;break;case"value":g=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(137,s));break;default:Ze(i,s,c,te,o,null)}}ma(i,g,A,k,Q,w,m,!1),Io(i);return;case"select":Pe("invalid",i),c=w=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":w=A;break;case"multiple":c=A;default:Ze(i,s,m,A,o,null)}s=g,o=w,i.multiple=!!c,s!=null?pr(i,!!c,s,!1):o!=null&&pr(i,!!c,o,!0);return;case"textarea":Pe("invalid",i),g=m=c=null;for(w in o)if(o.hasOwnProperty(w)&&(A=o[w],A!=null))switch(w){case"value":c=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:Ze(i,s,w,A,o,null)}pa(i,c,m,g),Io(i);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ze(i,s,k,c,o,null)}return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(c=0;c<Bu.length;c++)Pe(Bu[c],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Ze(i,s,Q,c,o,null)}return;default:if(ru(s)){for(te in o)o.hasOwnProperty(te)&&(c=o[te],c!==void 0&&Kp(i,s,te,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&Ze(i,s,A,c,o,null))}function rC(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,w=null,A=null,k=null,Q=null,te=null;for(W in o){var re=o[W];if(o.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":k=re;default:c.hasOwnProperty(W)||Ze(i,s,W,null,c,re)}}for(var X in c){var W=c[X];if(re=o[X],c.hasOwnProperty(X)&&(W!=null||re!=null))switch(X){case"type":g=W;break;case"name":m=W;break;case"checked":Q=W;break;case"defaultChecked":te=W;break;case"value":w=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(137,s));break;default:W!==re&&Ze(i,s,X,W,c,re)}}Nn(i,w,A,k,Q,te,g,m);return;case"select":W=w=A=X=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":W=k;default:c.hasOwnProperty(g)||Ze(i,s,g,null,c,k)}for(m in c)if(g=c[m],k=o[m],c.hasOwnProperty(m)&&(g!=null||k!=null))switch(m){case"value":X=g;break;case"defaultValue":A=g;break;case"multiple":w=g;default:g!==k&&Ze(i,s,m,g,c,k)}s=A,o=w,c=W,X!=null?pr(i,!!o,X,!1):!!c!=!!o&&(s!=null?pr(i,!!o,s,!0):pr(i,!!o,o?[]:"",!1));return;case"textarea":W=X=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ze(i,s,A,null,c,m)}for(w in c)if(m=c[w],g=o[w],c.hasOwnProperty(w)&&(m!=null||g!=null))switch(w){case"value":X=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(n(91));break;default:m!==g&&Ze(i,s,w,m,c,g)}Xe(i,X,W);return;case"option":for(var we in o)if(X=o[we],o.hasOwnProperty(we)&&X!=null&&!c.hasOwnProperty(we))switch(we){case"selected":i.selected=!1;break;default:Ze(i,s,we,null,c,X)}for(k in c)if(X=c[k],W=o[k],c.hasOwnProperty(k)&&X!==W&&(X!=null||W!=null))switch(k){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Ze(i,s,k,X,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in o)X=o[ye],o.hasOwnProperty(ye)&&X!=null&&!c.hasOwnProperty(ye)&&Ze(i,s,ye,null,c,X);for(Q in c)if(X=c[Q],W=o[Q],c.hasOwnProperty(Q)&&X!==W&&(X!=null||W!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,s));break;default:Ze(i,s,Q,X,c,W)}return;default:if(ru(s)){for(var Je in o)X=o[Je],o.hasOwnProperty(Je)&&X!==void 0&&!c.hasOwnProperty(Je)&&Kp(i,s,Je,void 0,c,X);for(te in c)X=c[te],W=o[te],!c.hasOwnProperty(te)||X===W||X===void 0&&W===void 0||Kp(i,s,te,X,c,W);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!c.hasOwnProperty(q)&&Ze(i,s,q,null,c,X);for(re in c)X=c[re],W=o[re],!c.hasOwnProperty(re)||X===W||X==null&&W==null||Ze(i,s,re,X,c,W)}var Qp=null,Xp=null;function pf(i){return i.nodeType===9?i:i.ownerDocument}function HT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Wp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zp=null;function sC(){var i=window.event;return i&&i.type==="popstate"?i===Zp?!1:(Zp=i,!0):(Zp=null,!1)}var $T=typeof setTimeout=="function"?setTimeout:void 0,aC=typeof clearTimeout=="function"?clearTimeout:void 0,YT=typeof Promise=="function"?Promise:void 0,oC=typeof queueMicrotask=="function"?queueMicrotask:typeof YT<"u"?function(i){return YT.resolve(null).then(i).catch(lC)}:$T;function lC(i){setTimeout(function(){throw i})}function vs(i){return i==="head"}function KT(i,s){var o=s,c=0,m=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var w=i.ownerDocument;if(o&1&&qu(w.documentElement),o&2&&qu(w.body),o&4)for(o=w.head,qu(o),w=o.firstChild;w;){var A=w.nextSibling,k=w.nodeName;w[ca]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=A}}if(m===0){i.removeChild(g),Wu(s);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);Wu(s)}function Jp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Jp(o),es(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function uC(i,s,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ca])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Ti(i.nextSibling),i===null)break}return null}function cC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ti(i.nextSibling),i===null))return null;return i}function eg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function hC(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Ti(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var tg=null;function QT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function XT(i,s,o){switch(s=pf(o),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function qu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);es(i)}var si=new Map,WT=new Set;function gf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Mr=oe.d;oe.d={f:fC,r:dC,D:mC,C:pC,L:gC,m:_C,X:vC,S:yC,M:TC};function fC(){var i=Mr.f(),s=of();return i||s}function dC(i){var s=xi(i);s!==null&&s.tag===5&&s.type==="form"?_0(s):Mr.r(i)}var ll=typeof document>"u"?null:document;function ZT(i,s,o){var c=ll;if(c&&typeof s=="string"&&s){var m=Rt(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),WT.has(m)||(WT.add(m),i={rel:i,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),Jt(s,"link",i),vt(s),c.head.appendChild(s)))}}function mC(i){Mr.D(i),ZT("dns-prefetch",i,null)}function pC(i,s){Mr.C(i,s),ZT("preconnect",i,s)}function gC(i,s,o){Mr.L(i,s,o);var c=ll;if(c&&i&&s){var m='link[rel="preload"][as="'+Rt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Rt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Rt(o.imageSizes)+'"]')):m+='[href="'+Rt(i)+'"]';var g=m;switch(s){case"style":g=ul(i);break;case"script":g=cl(i)}si.has(g)||(i=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),si.set(g,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(Hu(g))||s==="script"&&c.querySelector(Gu(g))||(s=c.createElement("link"),Jt(s,"link",i),vt(s),c.head.appendChild(s)))}}function _C(i,s){Mr.m(i,s);var o=ll;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Rt(c)+'"][href="'+Rt(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=cl(i)}if(!si.has(g)&&(i=_({rel:"modulepreload",href:i},s),si.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Gu(g)))return}c=o.createElement("link"),Jt(c,"link",i),vt(c),o.head.appendChild(c)}}}function yC(i,s,o){Mr.S(i,s,o);var c=ll;if(c&&i){var m=mn(c).hoistableStyles,g=ul(i);s=s||"default";var w=m.get(g);if(!w){var A={loading:0,preload:null};if(w=c.querySelector(Hu(g)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},o),(o=si.get(g))&&ng(i,o);var k=w=c.createElement("link");vt(k),Jt(k,"link",i),k._p=new Promise(function(Q,te){k.onload=Q,k.onerror=te}),k.addEventListener("load",function(){A.loading|=1}),k.addEventListener("error",function(){A.loading|=2}),A.loading|=4,_f(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:A},m.set(g,w)}}}function vC(i,s){Mr.X(i,s);var o=ll;if(o&&i){var c=mn(o).hoistableScripts,m=cl(i),g=c.get(m);g||(g=o.querySelector(Gu(m)),g||(i=_({src:i,async:!0},s),(s=si.get(m))&&ig(i,s),g=o.createElement("script"),vt(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function TC(i,s){Mr.M(i,s);var o=ll;if(o&&i){var c=mn(o).hoistableScripts,m=cl(i),g=c.get(m);g||(g=o.querySelector(Gu(m)),g||(i=_({src:i,async:!0,type:"module"},s),(s=si.get(m))&&ig(i,s),g=o.createElement("script"),vt(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function JT(i,s,o,c){var m=(m=Ae.current)?gf(m):null;if(!m)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ul(o.href),o=mn(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ul(o.href);var g=mn(m).hoistableStyles,w=g.get(i);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=m.querySelector(Hu(i)))&&!g._p&&(w.instance=g,w.state.loading=5),si.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},si.set(i,o),g||EC(m,i,o,w.state))),s&&c===null)throw Error(n(528,""));return w}if(s&&c!==null)throw Error(n(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=cl(o),o=mn(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function ul(i){return'href="'+Rt(i)+'"'}function Hu(i){return'link[rel="stylesheet"]['+i+"]"}function eE(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function EC(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Jt(s,"link",o),vt(s),i.head.appendChild(s))}function cl(i){return'[src="'+Rt(i)+'"]'}function Gu(i){return"script[async]"+i}function tE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Rt(o.href)+'"]');if(c)return s.instance=c,vt(c),c;var m=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),vt(c),Jt(c,"style",m),_f(c,o.precedence,i),s.instance=c;case"stylesheet":m=ul(o.href);var g=i.querySelector(Hu(m));if(g)return s.state.loading|=4,s.instance=g,vt(g),g;c=eE(o),(m=si.get(m))&&ng(c,m),g=(i.ownerDocument||i).createElement("link"),vt(g);var w=g;return w._p=new Promise(function(A,k){w.onload=A,w.onerror=k}),Jt(g,"link",c),s.state.loading|=4,_f(g,o.precedence,i),s.instance=g;case"script":return g=cl(o.src),(m=i.querySelector(Gu(g)))?(s.instance=m,vt(m),m):(c=o,(m=si.get(g))&&(c=_({},o),ig(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),vt(m),Jt(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,_f(c,o.precedence,i));return s.instance}function _f(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,w=0;w<c.length;w++){var A=c[w];if(A.dataset.precedence===s)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function ng(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function ig(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var yf=null;function nE(i,s,o){if(yf===null){var c=new Map,m=yf=new Map;m.set(o,c)}else m=yf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[ca]||g[Mt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(s)||"";w=i+w;var A=c.get(w);A?A.push(g):c.set(w,[g])}}return c}function iE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function wC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var $u=null;function bC(){}function AC(i,s,o){if($u===null)throw Error(n(475));var c=$u;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=ul(o.href),g=i.querySelector(Hu(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=vf.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=g,vt(g);return}g=i.ownerDocument||i,o=eE(o),(m=si.get(m))&&ng(o,m),g=g.createElement("link"),vt(g);var w=g;w._p=new Promise(function(A,k){w.onload=A,w.onerror=k}),Jt(g,"link",o),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=vf.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function SC(){if($u===null)throw Error(n(475));var i=$u;return i.stylesheets&&i.count===0&&rg(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&rg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function vf(){if(this.count--,this.count===0){if(this.stylesheets)rg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Tf=null;function rg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Tf=new Map,s.forEach(RC,i),Tf=null,vf.call(i))}function RC(i,s){if(!(s.state.loading&4)){var o=Tf.get(i);if(o)var c=o.get(null);else{o=new Map,Tf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var w=m[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}m=s.instance,w=m.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,m),o.set(w,m),this.count++,c=vf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Yu={$$typeof:B,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function IC(i,s,o,c,m,g,w,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cr(0),this.hiddenUpdates=cr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function sE(i,s,o,c,m,g,w,A,k,Q,te,re){return i=new IC(i,s,o,w,A,k,Q,re),s=1,g===!0&&(s|=24),g=Mn(3,null,null,s),i.current=g,g.stateNode=i,s=zm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},qm(g),i}function aE(i){return i?(i=Bo,i):Bo}function oE(i,s,o,c,m,g){m=aE(m),c.context===null?c.context=m:c.pendingContext=m,c=as(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=os(i,c,s),o!==null&&(zn(o,i,s),bu(o,i,s))}function lE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function sg(i,s){lE(i,s),(i=i.alternate)&&lE(i,s)}function uE(i){if(i.tag===13){var s=jo(i,67108864);s!==null&&zn(s,i,67108864),sg(i,67108864)}}var Ef=!0;function CC(i,s,o,c){var m=Z.T;Z.T=null;var g=oe.p;try{oe.p=2,ag(i,s,o,c)}finally{oe.p=g,Z.T=m}}function OC(i,s,o,c){var m=Z.T;Z.T=null;var g=oe.p;try{oe.p=8,ag(i,s,o,c)}finally{oe.p=g,Z.T=m}}function ag(i,s,o,c){if(Ef){var m=og(c);if(m===null)Yp(i,s,c,wf,o),hE(i,c);else if(xC(m,i,s,o,c))c.stopPropagation();else if(hE(i,c),s&4&&-1<DC.indexOf(i)){for(;m!==null;){var g=xi(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=pi(g.pendingLanes);if(w!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var k=1<<31-sn(w);A.entanglements[1]|=k,w&=~k}Gi(g),(Ke&6)===0&&(sf=Yn()+500,ju(0))}}break;case 13:A=jo(g,2),A!==null&&zn(A,g,2),of(),sg(g,2)}if(g=og(c),g===null&&Yp(i,s,c,wf,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Yp(i,s,c,null,o)}}function og(i){return i=Xn(i),lg(i)}var wf=null;function lg(i){if(wf=null,i=fr(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return wf=i,null}function cE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hm()){case Gl:return 2;case vo:return 8;case sa:case fm:return 32;case To:return 268435456;default:return 32}default:return 32}}var ug=!1,Ts=null,Es=null,ws=null,Ku=new Map,Qu=new Map,bs=[],DC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hE(i,s){switch(i){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Ku.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qu.delete(s.pointerId)}}function Xu(i,s,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},s!==null&&(s=xi(s),s!==null&&uE(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function xC(i,s,o,c,m){switch(s){case"focusin":return Ts=Xu(Ts,i,s,o,c,m),!0;case"dragenter":return Es=Xu(Es,i,s,o,c,m),!0;case"mouseover":return ws=Xu(ws,i,s,o,c,m),!0;case"pointerover":var g=m.pointerId;return Ku.set(g,Xu(Ku.get(g)||null,i,s,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Qu.set(g,Xu(Qu.get(g)||null,i,s,o,c,m)),!0}return!1}function fE(i){var s=fr(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,ah(i.priority,function(){if(o.tag===13){var c=Un();c=Wr(c);var m=jo(o,c);m!==null&&zn(m,o,c),sg(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=og(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);gr=c,o.target.dispatchEvent(c),gr=null}else return s=xi(o),s!==null&&uE(s),i.blockedOn=o,!1;s.shift()}return!0}function dE(i,s,o){bf(i)&&o.delete(s)}function NC(){ug=!1,Ts!==null&&bf(Ts)&&(Ts=null),Es!==null&&bf(Es)&&(Es=null),ws!==null&&bf(ws)&&(ws=null),Ku.forEach(dE),Qu.forEach(dE)}function Af(i,s){i.blockedOn===s&&(i.blockedOn=null,ug||(ug=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,NC)))}var Sf=null;function mE(i){Sf!==i&&(Sf=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sf===i&&(Sf=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(lg(c||o)===null)continue;break}var g=xi(o);g!==null&&(i.splice(s,3),s-=3,lp(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Wu(i){function s(k){return Af(k,i)}Ts!==null&&Af(Ts,i),Es!==null&&Af(Es,i),ws!==null&&Af(ws,i),Ku.forEach(s),Qu.forEach(s);for(var o=0;o<bs.length;o++){var c=bs[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<bs.length&&(o=bs[0],o.blockedOn===null);)fE(o),o.blockedOn===null&&bs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],w=m[St]||null;if(typeof g=="function")w||mE(o);else if(w){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,w=g[St]||null)A=w.formAction;else if(lg(m)!==null)continue}else A=w.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),mE(o)}}}function cg(i){this._internalRoot=i}Rf.prototype.render=cg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var o=s.current,c=Un();oE(o,c,i,s,null,null)},Rf.prototype.unmount=cg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;oE(i.current,2,null,i,null,null),of(),s[Kn]=null}};function Rf(i){this._internalRoot=i}Rf.prototype.unstable_scheduleHydration=function(i){if(i){var s=Zr();i={blockedOn:null,target:i,priority:s};for(var o=0;o<bs.length&&s!==0&&s<bs[o].priority;o++);bs.splice(o,0,i),o===0&&fE(i)}};var pE=e.version;if(pE!=="19.1.0")throw Error(n(527,pE,"19.1.0"));oe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=d(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var PC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var If=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!If.isDisabled&&If.supportsFiber)try{pt=If.inject(PC),Ye=If}catch{}}return tc.createRoot=function(i,s){if(!a(i))throw Error(n(299));var o=!1,c="",m=x0,g=N0,w=P0,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=sE(i,1,!1,null,null,o,c,m,g,w,A,null),i[Kn]=s.current,$p(i),new cg(s)},tc.hydrateRoot=function(i,s,o){if(!a(i))throw Error(n(299));var c=!1,m="",g=x0,w=N0,A=P0,k=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=sE(i,1,!0,s,o??null,c,m,g,w,A,k,Q),s.context=aE(null),o=s.current,c=Un(),c=Wr(c),m=as(c),m.callback=null,os(o,m,c),o=c,s.current.lanes=o,hr(s,o),Gi(s),i[Kn]=s.current,$p(i),new Rf(s)},tc.version="19.1.0",tc}var xE;function pD(){if(xE)return gg.exports;xE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gg.exports=mD(),gg.exports}var gD=pD();const _D=()=>{};var NE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},yD=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const a=r[t++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[n++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],u=r[t++],h=r[t++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const l=r[t++],u=r[t++];e[n++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},oA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<r.length;a+=3){const l=r[a],u=a+1<r.length,h=u?r[a+1]:0,d=a+2<r.length,p=d?r[a+2]:0,_=l>>2,v=(l&3)<<4|h>>4;let T=(h&15)<<2|p>>6,b=p&63;d||(b=64,u||(T=64)),n.push(t[_],t[v],t[T],t[b])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(aA(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):yD(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],h=a<r.length?t[r.charAt(a)]:0;++a;const p=a<r.length?t[r.charAt(a)]:64;++a;const v=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new vD;const T=l<<2|h>>4;if(n.push(T),p!==64){const b=h<<4&240|p>>2;if(n.push(b),v!==64){const I=p<<6&192|v;n.push(I)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class vD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TD=function(r){const e=aA(r);return oA.encodeByteArray(e,!0)},ed=function(r){return TD(r).replace(/\./g,"")},lA=function(r){try{return oA.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=()=>ED().__FIREBASE_DEFAULTS__,bD=()=>{if(typeof process>"u"||typeof NE>"u")return;const r=NE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},AD=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&lA(r[1]);return e&&JSON.parse(e)},Vd=()=>{try{return _D()||wD()||bD()||AD()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},uA=r=>{var e,t;return(t=(e=Vd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},cA=r=>{const e=uA(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},hA=()=>{var r;return(r=Vd())===null||r===void 0?void 0:r.config},fA=r=>{var e;return(e=Vd())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ed(JSON.stringify(t)),ed(JSON.stringify(u)),""].join(".")}const hc={};function RD(){const r={prod:[],emulator:[]};for(const e of Object.keys(hc))hc[e]?r.emulator.push(e):r.prod.push(e);return r}function ID(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let PE=!1;function j_(r,e){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||hc[r]===e||hc[r]||PE)return;hc[r]=e;function t(T){return`__firebase__banner__${T}`}const n="__firebase__banner",l=RD().prod.length>0;function u(){const T=document.getElementById(n);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,b){T.setAttribute("width","24"),T.setAttribute("id",b),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{PE=!0,u()},T}function _(T,b){T.setAttribute("id",b),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=ID(n),b=t("text"),I=document.getElementById(b)||document.createElement("span"),S=t("learnmore"),D=document.getElementById(S)||document.createElement("a"),P=t("preprendIcon"),F=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const B=T.element;h(B),_(D,S);const K=p();d(F,P),B.append(F,I,D,K),document.body.appendChild(B)}l?(I.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function OD(){var r;const e=(r=Vd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function xD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ND(){const r=dn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function PD(){return!OD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pA(){try{return typeof indexedDB=="object"}catch{return!1}}function gA(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function MD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="FirebaseError";class mi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=kD,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ho.prototype.create)}}class ho{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?VD(l,n):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new mi(a,h,n)}}function VD(r,e){return r.replace(LD,(t,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const LD=/\{\$([^}]+)}/g;function UD(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function js(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const a of t){if(!n.includes(a))return!1;const l=r[a],u=e[a];if(ME(l)&&ME(u)){if(!js(l,u))return!1}else if(l!==u)return!1}for(const a of n)if(!t.includes(a))return!1;return!0}function ME(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ic(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,l]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function rc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function zD(r,e){const t=new jD(r,e);return t.subscribe.bind(t)}class jD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let a;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");BD(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:n},a.next===void 0&&(a.next=vg),a.error===void 0&&(a.error=vg),a.complete===void 0&&(a.complete=vg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BD(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function vg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=1e3,qD=2,HD=4*60*60*1e3,GD=.5;function kE(r,e=FD,t=qD){const n=e*Math.pow(t,r),a=Math.round(GD*n*(Math.random()-.5)*2);return Math.min(HD,n+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(r){return r&&r._delegate?r._delegate:r}class fi{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new SD;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e?.identifier),a=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KD(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});n.resolve(l)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);n===h&&u.resolve(a)}return a}onInit(e,t){var n;const a=this.normalizeInstanceIdentifier(t),l=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:YD(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YD(r){return r===Fa?void 0:r}function KD(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $D(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const XD={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},WD=ke.INFO,ZD={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},JD=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),a=ZD[e];if(a)console[a](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ld{constructor(e){this.name=e,this._logLevel=WD,this._logHandler=JD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const e2=(r,e)=>e.some(t=>r instanceof t);let VE,LE;function t2(){return VE||(VE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n2(){return LE||(LE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _A=new WeakMap,Gg=new WeakMap,yA=new WeakMap,Tg=new WeakMap,B_=new WeakMap;function i2(r){const e=new Promise((t,n)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",u)},l=()=>{t(Ms(r.result)),a()},u=()=>{n(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&_A.set(t,r)}).catch(()=>{}),B_.set(e,r),e}function r2(r){if(Gg.has(r))return;const e=new Promise((t,n)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",u),r.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",u),r.addEventListener("abort",u)});Gg.set(r,e)}let $g={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Gg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||yA.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ms(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function s2(r){$g=r($g)}function a2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Eg(this),e,...t);return yA.set(n,e.sort?e.sort():[e]),Ms(n)}:n2().includes(r)?function(...e){return r.apply(Eg(this),e),Ms(_A.get(this))}:function(...e){return Ms(r.apply(Eg(this),e))}}function o2(r){return typeof r=="function"?a2(r):(r instanceof IDBTransaction&&r2(r),e2(r,t2())?new Proxy(r,$g):r)}function Ms(r){if(r instanceof IDBRequest)return i2(r);if(Tg.has(r))return Tg.get(r);const e=o2(r);return e!==r&&(Tg.set(r,e),B_.set(e,r)),e}const Eg=r=>B_.get(r);function vA(r,e,{blocked:t,upgrade:n,blocking:a,terminated:l}={}){const u=indexedDB.open(r,e),h=Ms(u);return n&&u.addEventListener("upgradeneeded",d=>{n(Ms(u.result),d.oldVersion,d.newVersion,Ms(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const l2=["get","getKey","getAll","getAllKeys","count"],u2=["put","add","delete","clear"],wg=new Map;function UE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wg.get(e))return wg.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,a=u2.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(a||l2.includes(t)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return n&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),a&&d.done]))[0]};return wg.set(e,l),l}s2(r=>({...r,get:(e,t,n)=>UE(e,t)||r.get(e,t,n),has:(e,t)=>!!UE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(h2(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function h2(r){const e=r.getComponent();return e?.type==="VERSION"}const Yg="@firebase/app",zE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new Ld("@firebase/app"),f2="@firebase/app-compat",d2="@firebase/analytics-compat",m2="@firebase/analytics",p2="@firebase/app-check-compat",g2="@firebase/app-check",_2="@firebase/auth",y2="@firebase/auth-compat",v2="@firebase/database",T2="@firebase/data-connect",E2="@firebase/database-compat",w2="@firebase/functions",b2="@firebase/functions-compat",A2="@firebase/installations",S2="@firebase/installations-compat",R2="@firebase/messaging",I2="@firebase/messaging-compat",C2="@firebase/performance",O2="@firebase/performance-compat",D2="@firebase/remote-config",x2="@firebase/remote-config-compat",N2="@firebase/storage",P2="@firebase/storage-compat",M2="@firebase/firestore",k2="@firebase/ai",V2="@firebase/firestore-compat",L2="firebase",U2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="[DEFAULT]",z2={[Yg]:"fire-core",[f2]:"fire-core-compat",[m2]:"fire-analytics",[d2]:"fire-analytics-compat",[g2]:"fire-app-check",[p2]:"fire-app-check-compat",[_2]:"fire-auth",[y2]:"fire-auth-compat",[v2]:"fire-rtdb",[T2]:"fire-data-connect",[E2]:"fire-rtdb-compat",[w2]:"fire-fn",[b2]:"fire-fn-compat",[A2]:"fire-iid",[S2]:"fire-iid-compat",[R2]:"fire-fcm",[I2]:"fire-fcm-compat",[C2]:"fire-perf",[O2]:"fire-perf-compat",[D2]:"fire-rc",[x2]:"fire-rc-compat",[N2]:"fire-gcs",[P2]:"fire-gcs-compat",[M2]:"fire-fst",[V2]:"fire-fst-compat",[k2]:"fire-vertex","fire-js":"fire-js",[L2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Map,j2=new Map,Qg=new Map;function jE(r,e){try{r.container.addComponent(e)}catch(t){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ii(r){const e=r.name;if(Qg.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;Qg.set(e,r);for(const t of td.values())jE(t,r);for(const t of j2.values())jE(t,r);return!0}function Xs(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new ho("app","Firebase",B2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=U2;function TA(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Kg,automaticDataCollectionEnabled:!0},e),a=n.name;if(typeof a!="string"||!a)throw ks.create("bad-app-name",{appName:String(a)});if(t||(t=hA()),!t)throw ks.create("no-options");const l=td.get(a);if(l){if(js(t,l.options)&&js(n,l.config))return l;throw ks.create("duplicate-app",{appName:a})}const u=new QD(a);for(const d of Qg.values())u.addComponent(d);const h=new F2(t,n,u);return td.set(a,h),h}function Ud(r=Kg){const e=td.get(r);if(!e&&r===Kg&&hA())return TA();if(!e)throw ks.create("no-app",{appName:r});return e}function An(r,e,t){var n;let a=(n=z2[r])!==null&&n!==void 0?n:r;t&&(a+=`-${t}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(h.join(" "));return}Ii(new fi(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="firebase-heartbeat-database",H2=1,Ac="firebase-heartbeat-store";let bg=null;function EA(){return bg||(bg=vA(q2,H2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ac)}catch(t){console.warn(t)}}}}).catch(r=>{throw ks.create("idb-open",{originalErrorMessage:r.message})})),bg}async function G2(r){try{const t=(await EA()).transaction(Ac),n=await t.objectStore(Ac).get(wA(r));return await t.done,n}catch(e){if(e instanceof mi)Hr.warn(e.message);else{const t=ks.create("idb-get",{originalErrorMessage:e?.message});Hr.warn(t.message)}}}async function BE(r,e){try{const n=(await EA()).transaction(Ac,"readwrite");await n.objectStore(Ac).put(e,wA(r)),await n.done}catch(t){if(t instanceof mi)Hr.warn(t.message);else{const n=ks.create("idb-set",{originalErrorMessage:t?.message});Hr.warn(n.message)}}}function wA(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=1024,Y2=30;class K2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new X2(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=FE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>Y2){const u=W2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Hr.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=FE(),{heartbeatsToSend:n,unsentEntries:a}=Q2(this._heartbeatsCache.heartbeats),l=ed(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Hr.warn(t),""}}}function FE(){return new Date().toISOString().substring(0,10)}function Q2(r,e=$2){const t=[];let n=r.slice();for(const a of r){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),qE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),qE(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class X2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pA()?gA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await G2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return BE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return BE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function qE(r){return ed(JSON.stringify({version:2,heartbeats:r})).length}function W2(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(r){Ii(new fi("platform-logger",e=>new c2(e),"PRIVATE")),Ii(new fi("heartbeat",e=>new K2(e),"PRIVATE")),An(Yg,zE,r),An(Yg,zE,"esm2017"),An("fire-js","")}Z2("");function F_(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t}function bA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J2=bA,AA=new ho("auth","Firebase",bA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Ld("@firebase/auth");function ex(r,...e){nd.logLevel<=ke.WARN&&nd.warn(`Auth (${fo}): ${r}`,...e)}function zf(r,...e){nd.logLevel<=ke.ERROR&&nd.error(`Auth (${fo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(r,...e){throw H_(r,...e)}function Ai(r,...e){return H_(r,...e)}function q_(r,e,t){const n=Object.assign(Object.assign({},J2()),{[e]:t});return new ho("auth","Firebase",n).create(e,{appName:r.name})}function Br(r){return q_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tx(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&di(r,"argument-error"),q_(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function H_(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return AA.create(r,...e)}function Te(r,e,...t){if(!r)throw H_(e,...t)}function Ur(r){const e="INTERNAL ASSERTION FAILED: "+r;throw zf(e),new Error(e)}function Gr(r,e){r||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function nx(){return HE()==="http:"||HE()==="https:"}function HE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nx()||mA()||"connection"in navigator)?navigator.onLine:!0}function rx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gr(t>e,"Short delay should be less than long delay!"),this.isMobile=CD()||xD()}get(){return ix()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(r,e){Gr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ox=new $c(3e4,6e4);function Ws(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Zs(r,e,t,n,a={}){return RA(r,a,async()=>{let l={},u={};n&&(e==="GET"?u=n:l={body:JSON.stringify(n)});const h=Gc(Object.assign({key:r.config.apiKey},u)).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const p=Object.assign({method:e,headers:d},l);return DD()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&co(r.emulatorConfig.host)&&(p.credentials="include"),SA.fetch()(await IA(r,r.config.apiHost,t,h),p)})}async function RA(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},sx),e);try{const a=new ux(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Of(r,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Of(r,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Of(r,"email-already-in-use",u);if(d==="USER_DISABLED")throw Of(r,"user-disabled",u);const _=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw q_(r,_,p);di(r,_)}}catch(a){if(a instanceof mi)throw a;di(r,"network-request-failed",{message:String(a)})}}async function Yc(r,e,t,n,a={}){const l=await Zs(r,e,t,n,a);return"mfaPendingCredential"in l&&di(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function IA(r,e,t,n){const a=`${e}${t}?${n}`,l=r,u=l.config.emulator?G_(r.config,a):`${r.config.apiScheme}://${a}`;return ax.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function lx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ux{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Ai(this.auth,"network-request-failed")),ox.get())})}}function Of(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const a=Ai(r,e,n);return a.customData._tokenResponse=t,a}function GE(r){return r!==void 0&&r.enterprise!==void 0}class cx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hx(r,e){return Zs(r,"GET","/v2/recaptchaConfig",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(r,e){return Zs(r,"POST","/v1/accounts:delete",e)}async function id(r,e){return Zs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dx(r,e=!1){const t=jt(r),n=await t.getIdToken(e),a=$_(n);Te(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:n,authTime:fc(Ag(a.auth_time)),issuedAtTime:fc(Ag(a.iat)),expirationTime:fc(Ag(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ag(r){return Number(r)*1e3}function $_(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return zf("JWT malformed, contained fewer than 3 sections"),null;try{const a=lA(t);return a?JSON.parse(a):(zf("Failed to decode base64 JWT payload"),null)}catch(a){return zf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function $E(r){const e=$_(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof mi&&mx(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function mx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(r){var e;const t=r.auth,n=await r.getIdToken(),a=await Sc(r,id(t,{idToken:n}));Te(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?CA(l.providerUserInfo):[],h=_x(r.providerData,u),d=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!h?.length,_=d?p:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Wg(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,v)}async function gx(r){const e=jt(r);await rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _x(r,e){return[...r.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function CA(r){return r.map(e=>{var{providerId:t}=e,n=F_(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(r,e){const t=await RA(r,{},async()=>{const n=Gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,u=await IA(r,a,"/v1/token",`key=${l}`),h=await r._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:n};return r.emulatorConfig&&co(r.emulatorConfig.host)&&(d.credentials="include"),SA.fetch()(u,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vx(r,e){return Zs(r,"POST","/v2/accounts:revokeToken",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=$E(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:a,expiresIn:l}=await yx(e,t);this.updateTokensAndExpiration(n,a,Number(l))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:a,expirationTime:l}=t,u=new yl;return n&&(Te(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),a&&(Te(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ei{constructor(e){var{uid:t,auth:n,stsTokenManager:a}=e,l=F_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new px(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Wg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Sc(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dx(this,e)}reload(){return gx(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await rd(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Br(this.auth));const e=await this.getIdToken();return await Sc(this,fx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,a,l,u,h,d,p,_;const v=(n=t.displayName)!==null&&n!==void 0?n:void 0,T=(a=t.email)!==null&&a!==void 0?a:void 0,b=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,I=(u=t.photoURL)!==null&&u!==void 0?u:void 0,S=(h=t.tenantId)!==null&&h!==void 0?h:void 0,D=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,P=(p=t.createdAt)!==null&&p!==void 0?p:void 0,F=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:B,emailVerified:K,isAnonymous:H,providerData:ee,stsTokenManager:x}=t;Te(B&&x,e,"internal-error");const R=yl.fromJSON(this.name,x);Te(typeof B=="string",e,"internal-error"),Ss(v,e.name),Ss(T,e.name),Te(typeof K=="boolean",e,"internal-error"),Te(typeof H=="boolean",e,"internal-error"),Ss(b,e.name),Ss(I,e.name),Ss(S,e.name),Ss(D,e.name),Ss(P,e.name),Ss(F,e.name);const C=new Ei({uid:B,auth:e,email:T,emailVerified:K,displayName:v,isAnonymous:H,photoURL:I,phoneNumber:b,tenantId:S,stsTokenManager:R,createdAt:P,lastLoginAt:F});return ee&&Array.isArray(ee)&&(C.providerData=ee.map(M=>Object.assign({},M))),D&&(C._redirectEventId=D),C}static async _fromIdTokenResponse(e,t,n=!1){const a=new yl;a.updateFromServerResponse(t);const l=new Ei({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await rd(l),l}static async _fromGetAccountInfoResponse(e,t,n){const a=t.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?CA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new yl;h.updateFromIdToken(n);const d=new Ei({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Wg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;function zr(r){Gr(r instanceof Function,"Expected a class definition");let e=YE.get(r);return e?(Gr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,YE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}OA.type="NONE";const KE=OA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(r,e,t){return`firebase:${r}:${e}:${t}`}class vl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:a,name:l}=this.auth;this.fullUserKey=jf(this.userKey,a.apiKey,l),this.fullPersistenceKey=jf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await id(this.auth,{idToken:e}).catch(()=>{});return t?Ei._fromGetAccountInfoResponse(this.auth,t,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new vl(zr(KE),e,n);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||zr(KE);const u=jf(n,e.config.apiKey,e.name);let h=null;for(const p of t)try{const _=await p._get(u);if(_){let v;if(typeof _=="string"){const T=await id(e,{idToken:_}).catch(()=>{});if(!T)break;v=await Ei._fromGetAccountInfoResponse(e,T,_)}else v=Ei._fromJSON(e,_);p!==l&&(h=v),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new vl(l,e,n):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new vl(l,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kA(e))return"Blackberry";if(VA(e))return"Webos";if(xA(e))return"Safari";if((e.includes("chrome/")||NA(e))&&!e.includes("edge/"))return"Chrome";if(MA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function DA(r=dn()){return/firefox\//i.test(r)}function xA(r=dn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NA(r=dn()){return/crios\//i.test(r)}function PA(r=dn()){return/iemobile/i.test(r)}function MA(r=dn()){return/android/i.test(r)}function kA(r=dn()){return/blackberry/i.test(r)}function VA(r=dn()){return/webos/i.test(r)}function Y_(r=dn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Tx(r=dn()){var e;return Y_(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ex(){return ND()&&document.documentMode===10}function LA(r=dn()){return Y_(r)||MA(r)||VA(r)||kA(r)||/windows phone/i.test(r)||PA(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(r,e=[]){let t;switch(r){case"Browser":t=QE(dn());break;case"Worker":t=`${QE(dn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fo}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});n.onAbort=t,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(r,e={}){return Zs(r,"GET","/v2/passwordPolicy",Ws(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=6;class Sx{constructor(e){var t,n,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Ax,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,a,l,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t,n,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XE(this),this.idTokenSubscription=new XE(this),this.beforeStateQueue=new wx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zr(t)),this._initializationPromise=this.queue(async()=>{var n,a,l;if(!this._deleted&&(this.persistenceManager=await vl.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await id(this,{idToken:e}),n=await Ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&d?.user&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Br(this));const t=e?jt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bx(this),t=new Sx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ho("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await vx(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,a);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&ex(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Js(r){return jt(r)}class XE{constructor(e){this.auth=e,this.observer=null,this.addObserver=zD(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ix(r){zd=r}function zA(r){return zd.loadJS(r)}function Cx(){return zd.recaptchaEnterpriseScript}function Ox(){return zd.gapiScript}function Dx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class xx{constructor(){this.enterprise=new Nx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Nx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Px="recaptcha-enterprise",jA="NO_RECAPTCHA";class Mx{constructor(e){this.type=Px,this.auth=Js(e)}async verify(e="verify",t=!1){async function n(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{hx(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new cx(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;GE(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(jA)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xx().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{n(this.auth).then(h=>{if(!t&&GE(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Cx();d.length!==0&&(d+=h),zA(d).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function WE(r,e,t,n=!1,a=!1){const l=new Mx(r);let u;if(a)u=jA;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return n?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Zg(r,e,t,n,a){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await WE(r,e,t,t==="getOobCode");return n(r,u)}else return n(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await WE(r,e,t,t==="getOobCode");return n(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(r,e){const t=Xs(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(js(l,e??{}))return a;di(a,"already-initialized")}return t.initialize({options:e})}function Vx(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(zr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function Lx(r,e,t){const n=Js(r);Te(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,l=BA(e),{host:u,port:h}=Ux(e),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},_=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){Te(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Te(js(p,n.config.emulator)&&js(_,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=p,n.emulatorConfig=_,n.settings.appVerificationDisabledForTesting=!0,co(u)?(z_(`${l}//${u}${d}`),j_("Auth",!0)):zx()}function BA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Ux(r){const e=BA(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const l=a[1];return{host:l,port:ZE(n.substr(l.length+1))}}else{const[l,u]=n.split(":");return{host:l,port:ZE(u)}}}function ZE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function zx(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,t){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function jx(r,e){return Zs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(r,e){return Yc(r,"POST","/v1/accounts:signInWithPassword",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(r,e){return Yc(r,"POST","/v1/accounts:signInWithEmailLink",Ws(r,e))}async function qx(r,e){return Yc(r,"POST","/v1/accounts:signInWithEmailLink",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends K_{constructor(e,t,n,a=null){super("password",n),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Rc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Rc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zg(e,t,"signInWithPassword",Bx);case"emailLink":return Fx(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zg(e,n,"signUpPassword",jx);case"emailLink":return qx(e,{idToken:t,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(r,e){return Yc(r,"POST","/v1/accounts:signInWithIdp",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="http://localhost";class eo extends K_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=t,l=F_(t,["providerId","signInMethod"]);if(!n||!a)return null;const u=new eo(n,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Tl(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Tl(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tl(e,t)}buildRequest(){const e={requestUri:Hx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $x(r){const e=ic(rc(r)).link,t=e?ic(rc(e)).deep_link_id:null,n=ic(rc(r)).deep_link_id;return(n?ic(rc(n)).link:null)||n||t||e||r}class Q_{constructor(e){var t,n,a,l,u,h;const d=ic(rc(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,_=(n=d.oobCode)!==null&&n!==void 0?n:null,v=Gx((a=d.mode)!==null&&a!==void 0?a:null);Te(p&&_&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=_,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=$x(e);try{return new Q_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.providerId=Ul.PROVIDER_ID}static credential(e,t){return Rc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Q_.parseLink(t);return Te(n,"argument-error"),Rc._fromEmailAndCode(e,n.code,n.tenantId)}}Ul.PROVIDER_ID="password";Ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends X_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Kc{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eo._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Lr.credential(t,n)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Kc{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Kc{constructor(){super("twitter.com")}static credential(e,t){return eo._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Cs.credential(t,n)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(r,e){return Yc(r,"POST","/v1/accounts:signUp",Ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,a=!1){const l=await Ei._fromIdTokenResponse(e,n,a),u=JE(n);return new to({user:l,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const a=JE(n);return new to({user:e,providerId:a,_tokenResponse:n,operationType:t})}}function JE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends mi{constructor(e,t,n,a){var l;super(t.code,t.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,a){return new sd(e,t,n,a)}}function FA(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(r,l,e,n):l})}async function Kx(r,e,t=!1){const n=await Sc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return to._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(r,e,t=!1){const{auth:n}=r;if(bn(n.app))return Promise.reject(Br(n));const a="reauthenticate";try{const l=await Sc(r,FA(n,a,e,r),t);Te(l.idToken,n,"internal-error");const u=$_(l.idToken);Te(u,n,"internal-error");const{sub:h}=u;return Te(r.uid===h,n,"user-mismatch"),to._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&di(n,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(r,e,t=!1){if(bn(r.app))return Promise.reject(Br(r));const n="signIn",a=await FA(r,n,e),l=await to._fromIdTokenResponse(r,n,a);return t||await r._updateCurrentUser(l.user),l}async function Xx(r,e){return qA(Js(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(r){const e=Js(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Wx(r,e,t){if(bn(r.app))return Promise.reject(Br(r));const n=Js(r),u=await Zg(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yx).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&HA(r),d}),h=await to._fromIdTokenResponse(n,"signIn",u);return await n._updateCurrentUser(h.user),h}function Zx(r,e,t){return bn(r.app)?Promise.reject(Br(r)):Xx(jt(r),Ul.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&HA(r),n})}function Jx(r,e,t,n){return jt(r).onIdTokenChanged(e,t,n)}function eN(r,e,t){return jt(r).beforeAuthStateChanged(e,t)}function tN(r,e,t,n){return jt(r).onAuthStateChanged(e,t,n)}function nN(r){return jt(r).signOut()}const ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=1e3,rN=10;class $A extends GA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),a=this.localCache[t];n!==a&&e(t,a,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},l=this.storage.getItem(n);Ex()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,rN):a()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},iN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$A.type="LOCAL";const sN=$A;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA extends GA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}YA.type="SESSION";const KA=YA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const n=new jd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const h=Array.from(u).map(async p=>p(t.origin,l)),d=await aN(h);t.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=W_("",20);a.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},n);u={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(_),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(){return window}function lN(r){Xi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function uN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cN(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function hN(){return QA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firebaseLocalStorageDb",fN=1,od="firebaseLocalStorage",WA="fbase_key";class Qc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bd(r,e){return r.transaction([od],e?"readwrite":"readonly").objectStore(od)}function dN(){const r=indexedDB.deleteDatabase(XA);return new Qc(r).toPromise()}function Jg(){const r=indexedDB.open(XA,fN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(od,{keyPath:WA})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(od)?e(n):(n.close(),await dN(),e(await Jg()))})})}async function ew(r,e,t){const n=Bd(r,!0).put({[WA]:e,value:t});return new Qc(n).toPromise()}async function mN(r,e){const t=Bd(r,!1).get(e),n=await new Qc(t).toPromise();return n===void 0?null:n.value}function tw(r,e){const t=Bd(r,!0).delete(e);return new Qc(t).toPromise()}const pN=800,gN=3;class ZA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>gN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jd._getInstance(hN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await uN(),!this.activeServiceWorker)return;this.sender=new oN(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jg();return await ew(e,ad,"1"),await tw(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ew(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>mN(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Bd(a,!1).getAll();return new Qc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZA.type="LOCAL";const _N=ZA;new $c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(r,e){return e?zr(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_ extends K_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yN(r){return qA(r.auth,new Z_(r),r.bypassAuthState)}function vN(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),Qx(t,new Z_(r),r.bypassAuthState)}async function TN(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),Kx(t,new Z_(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,t,n,a,l=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yN;case"linkViaPopup":case"linkViaRedirect":return TN;case"reauthViaPopup":case"reauthViaRedirect":return vN;default:di(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new $c(2e3,1e4);async function wN(r,e,t){if(bn(r.app))return Promise.reject(Ai(r,"operation-not-supported-in-this-environment"));const n=Js(r);tx(r,e,X_);const a=JA(n,t);return new Ha(n,"signInViaPopup",e,a).executeNotNull()}class Ha extends eS{constructor(e,t,n,a,l){super(e,t,a,l),this.provider=n,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=W_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EN.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="pendingRedirect",Bf=new Map;class AN extends eS{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Bf.get(this.auth._key());if(!e){try{const n=await SN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SN(r,e){const t=CN(e),n=IN(r);if(!await n._isAvailable())return!1;const a=await n._get(t)==="true";return await n._remove(t),a}function RN(r,e){Bf.set(r._key(),e)}function IN(r){return zr(r._redirectPersistence)}function CN(r){return jf(bN,r.config.apiKey,r.name)}async function ON(r,e,t=!1){if(bn(r.app))return Promise.reject(Br(r));const n=Js(r),a=JA(n,e),u=await new AN(n,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=10*60*1e3;class xN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tS(e)){const a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ai(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DN&&this.cachedEventUids.clear(),this.cachedEventUids.has(nw(e))}saveEventToCache(e){this.cachedEventUids.add(nw(e)),this.lastProcessedEventTime=Date.now()}}function nw(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function tS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function NN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(r,e={}){return Zs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kN=/^https?/;async function VN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await PN(r);for(const t of e)try{if(LN(t))return}catch{}di(r,"unauthorized-domain")}function LN(r){const e=Xg(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!kN.test(t))return!1;if(MN.test(r))return n===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=new $c(3e4,6e4);function iw(){const r=Xi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function zN(r){return new Promise((e,t)=>{var n,a,l;function u(){iw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iw(),t(Ai(r,"network-request-failed"))},timeout:UN.get()})}if(!((a=(n=Xi().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Xi().gapi)===null||l===void 0)&&l.load)u();else{const h=Dx("iframefcb");return Xi()[h]=()=>{gapi.load?u():t(Ai(r,"network-request-failed"))},zA(`${Ox()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw Ff=null,e})}let Ff=null;function jN(r){return Ff=Ff||zN(r),Ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new $c(5e3,15e3),FN="__/auth/iframe",qN="emulator/auth/iframe",HN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $N(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?G_(e,qN):`https://${r.config.authDomain}/${FN}`,n={apiKey:e.apiKey,appName:r.name,v:fo},a=GN.get(r.config.apiHost);a&&(n.eid=a);const l=r._getFrameworks();return l.length&&(n.fw=l.join(",")),`${t}?${Gc(n).slice(1)}`}async function YN(r){const e=await jN(r),t=Xi().gapi;return Te(t,r,"internal-error"),e.open({where:document.body,url:$N(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HN,dontclear:!0},n=>new Promise(async(a,l)=>{await n.restyle({setHideOnLeave:!1});const u=Ai(r,"network-request-failed"),h=Xi().setTimeout(()=>{l(u)},BN.get());function d(){Xi().clearTimeout(h),a(n)}n.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QN=500,XN=600,WN="_blank",ZN="http://localhost";class rw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JN(r,e,t,n=QN,a=XN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let h="";const d=Object.assign(Object.assign({},KN),{width:n.toString(),height:a.toString(),top:l,left:u}),p=dn().toLowerCase();t&&(h=NA(p)?WN:t),DA(p)&&(e=e||ZN,d.scrollbars="yes");const _=Object.entries(d).reduce((T,[b,I])=>`${T}${b}=${I},`,"");if(Tx(p)&&h!=="_self")return eP(e||"",h),new rw(null);const v=window.open(e||"",h,_);Te(v,r,"popup-blocked");try{v.focus()}catch{}return new rw(v)}function eP(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="__/auth/handler",nP="emulator/auth/handler",iP=encodeURIComponent("fac");async function sw(r,e,t,n,a,l){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:fo,eventId:a};if(e instanceof X_){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",UD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))u[_]=v}if(e instanceof Kc){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(u.scopes=_.join(","))}r.tenantId&&(u.tid=r.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const d=await r._getAppCheckToken(),p=d?`#${iP}=${encodeURIComponent(d)}`:"";return`${rP(r)}?${Gc(h).slice(1)}${p}`}function rP({config:r}){return r.emulator?G_(r,nP):`https://${r.authDomain}/${tP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="webStorageSupport";class sP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KA,this._completeRedirectFn=ON,this._overrideRedirectResult=RN}async _openPopup(e,t,n,a){var l;Gr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await sw(e,t,n,Xg(),a);return JN(e,u,W_())}async _openRedirect(e,t,n,a){await this._originValidation(e);const l=await sw(e,t,n,Xg(),a);return lN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Gr(l,"If manager is not set, promise should be"),l)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await YN(e),n=new xN(e);return t.register("authEvent",a=>(Te(a?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sg,{type:Sg},a=>{var l;const u=(l=a?.[0])===null||l===void 0?void 0:l[Sg];u!==void 0&&t(!!u),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return LA()||xA()||Y_()}}const aP=sP;var aw="@firebase/auth",ow="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uP(r){Ii(new fi("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=n.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:u,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UA(r)},p=new Rx(n,a,l,d);return Vx(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ii(new fi("auth-internal",e=>{const t=Js(e.getProvider("auth").getImmediate());return(n=>new oP(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),An(aw,ow,lP(r)),An(aw,ow,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=5*60,hP=fA("authIdTokenMaxAge")||cP;let lw=null;const fP=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>hP)return;const a=t?.token;lw!==a&&(lw=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function dP(r=Ud()){const e=Xs(r,"auth");if(e.isInitialized())return e.getImmediate();const t=kx(r,{popupRedirectResolver:aP,persistence:[_N,sN,KA]}),n=fA("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(n,location.origin);if(location.origin===l.origin){const u=fP(l.toString());eN(t,u,()=>u(t.currentUser)),Jx(t,h=>u(h))}}const a=uA("auth");return a&&Lx(t,`http://${a}`),t}function mP(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}Ix({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=a=>{const l=Ai("internal-error");l.customData=a,t(l)},n.type="text/javascript",n.charset="UTF-8",mP().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uP("Browser");var pP="firebase",gP="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An(pP,gP,"app");const nS="@firebase/installations",J_="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=1e4,rS=`w:${J_}`,sS="FIS_v2",_P="https://firebaseinstallations.googleapis.com/v1",yP=60*60*1e3,vP="installations",TP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},no=new ho(vP,TP,EP);function aS(r){return r instanceof mi&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS({projectId:r}){return`${_P}/projects/${r}/installations`}function lS(r){return{token:r.token,requestStatus:2,expiresIn:bP(r.expiresIn),creationTime:Date.now()}}async function uS(r,e){const n=(await e.json()).error;return no.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function cS({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function wP(r,{refreshToken:e}){const t=cS(r);return t.append("Authorization",AP(e)),t}async function hS(r){const e=await r();return e.status>=500&&e.status<600?r():e}function bP(r){return Number(r.replace("s","000"))}function AP(r){return`${sS} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const n=oS(r),a=cS(r),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:t,authVersion:sS,appId:r.appId,sdkVersion:rS},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await hS(()=>fetch(n,h));if(d.ok){const p=await d.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:lS(p.authToken)}}else throw await uS("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=/^[cdef][\w-]{21}$/,e_="";function CP(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=OP(r);return IP.test(t)?t:e_}catch{return e_}}function OP(r){return RP(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new Map;function mS(r,e){const t=Fd(r);pS(t,e),DP(t,e)}function pS(r,e){const t=dS.get(r);if(t)for(const n of t)n(e)}function DP(r,e){const t=xP();t&&t.postMessage({key:r,fid:e}),NP()}let Ga=null;function xP(){return!Ga&&"BroadcastChannel"in self&&(Ga=new BroadcastChannel("[Firebase] FID Change"),Ga.onmessage=r=>{pS(r.data.key,r.data.fid)}),Ga}function NP(){dS.size===0&&Ga&&(Ga.close(),Ga=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="firebase-installations-database",MP=1,io="firebase-installations-store";let Rg=null;function ey(){return Rg||(Rg=vA(PP,MP,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(io)}}})),Rg}async function ld(r,e){const t=Fd(r),a=(await ey()).transaction(io,"readwrite"),l=a.objectStore(io),u=await l.get(t);return await l.put(e,t),await a.done,(!u||u.fid!==e.fid)&&mS(r,e.fid),e}async function gS(r){const e=Fd(r),n=(await ey()).transaction(io,"readwrite");await n.objectStore(io).delete(e),await n.done}async function qd(r,e){const t=Fd(r),a=(await ey()).transaction(io,"readwrite"),l=a.objectStore(io),u=await l.get(t),h=e(u);return h===void 0?await l.delete(t):await l.put(h,t),await a.done,h&&(!u||u.fid!==h.fid)&&mS(r,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ty(r){let e;const t=await qd(r.appConfig,n=>{const a=kP(n),l=VP(r,a);return e=l.registrationPromise,l.installationEntry});return t.fid===e_?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function kP(r){const e=r||{fid:CP(),registrationStatus:0};return _S(e)}function VP(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(no.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=LP(r,t);return{installationEntry:t,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:UP(r)}:{installationEntry:e}}async function LP(r,e){try{const t=await SP(r,e);return ld(r.appConfig,t)}catch(t){throw aS(t)&&t.customData.serverCode===409?await gS(r.appConfig):await ld(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function UP(r){let e=await uw(r.appConfig);for(;e.registrationStatus===1;)await fS(100),e=await uw(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:n}=await ty(r);return n||t}return e}function uw(r){return qd(r,e=>{if(!e)throw no.create("installation-not-found");return _S(e)})}function _S(r){return zP(r)?{fid:r.fid,registrationStatus:0}:r}function zP(r){return r.registrationStatus===1&&r.registrationTime+iS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP({appConfig:r,heartbeatServiceProvider:e},t){const n=BP(r,t),a=wP(r,t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:rS,appId:r.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await hS(()=>fetch(n,h));if(d.ok){const p=await d.json();return lS(p)}else throw await uS("Generate Auth Token",d)}function BP(r,{fid:e}){return`${oS(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ny(r,e=!1){let t;const n=await qd(r.appConfig,l=>{if(!yS(l))throw no.create("not-registered");const u=l.authToken;if(!e&&HP(u))return l;if(u.requestStatus===1)return t=FP(r,e),l;{if(!navigator.onLine)throw no.create("app-offline");const h=$P(l);return t=qP(r,h),h}});return t?await t:n.authToken}async function FP(r,e){let t=await cw(r.appConfig);for(;t.authToken.requestStatus===1;)await fS(100),t=await cw(r.appConfig);const n=t.authToken;return n.requestStatus===0?ny(r,e):n}function cw(r){return qd(r,e=>{if(!yS(e))throw no.create("not-registered");const t=e.authToken;return YP(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function qP(r,e){try{const t=await jP(r,e),n=Object.assign(Object.assign({},e),{authToken:t});return await ld(r.appConfig,n),t}catch(t){if(aS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await gS(r.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ld(r.appConfig,n)}throw t}}function yS(r){return r!==void 0&&r.registrationStatus===2}function HP(r){return r.requestStatus===2&&!GP(r)}function GP(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+yP}function $P(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function YP(r){return r.requestStatus===1&&r.requestTime+iS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(r){const e=r,{installationEntry:t,registrationPromise:n}=await ty(e);return n?n.catch(console.error):ny(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(r,e=!1){const t=r;return await XP(t),(await ny(t,e)).token}async function XP(r){const{registrationPromise:e}=await ty(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(r){if(!r||!r.options)throw Ig("App Configuration");if(!r.name)throw Ig("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Ig(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Ig(r){return no.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="installations",ZP="installations-internal",JP=r=>{const e=r.getProvider("app").getImmediate(),t=WP(e),n=Xs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},eM=r=>{const e=r.getProvider("app").getImmediate(),t=Xs(e,vS).getImmediate();return{getId:()=>KP(t),getToken:a=>QP(t,a)}};function tM(){Ii(new fi(vS,JP,"PUBLIC")),Ii(new fi(ZP,eM,"PRIVATE"))}tM();An(nS,J_);An(nS,J_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="analytics",nM="firebase_id",iM="origin",rM=60*1e3,sM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",iy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new Ld("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qn=new ho("analytics","Analytics",aM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(r){if(!r.startsWith(iy)){const e=qn.create("invalid-gtag-resource",{gtagURL:r});return Sn.warn(e.message),""}return r}function TS(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function lM(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function uM(r,e){const t=lM("firebase-js-sdk-policy",{createScriptURL:oM}),n=document.createElement("script"),a=`${iy}?l=${r}&id=${e}`;n.src=t?t?.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function cM(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function hM(r,e,t,n,a,l){const u=n[a];try{if(u)await e[u];else{const d=(await TS(t)).find(p=>p.measurementId===a);d&&await e[d.appId]}}catch(h){Sn.error(h)}r("config",a,l)}async function fM(r,e,t,n,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await TS(t);for(const d of u){const p=h.find(v=>v.measurementId===d),_=p&&e[p.appId];if(_)l.push(_);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",n,a||{})}catch(l){Sn.error(l)}}function dM(r,e,t,n){async function a(l,...u){try{if(l==="event"){const[h,d]=u;await fM(r,e,t,h,d)}else if(l==="config"){const[h,d]=u;await hM(r,e,t,n,h,d)}else if(l==="consent"){const[h,d]=u;r("consent",h,d)}else if(l==="get"){const[h,d,p]=u;r("get",h,d,p)}else if(l==="set"){const[h]=u;r("set",h)}else r(l,...u)}catch(h){Sn.error(h)}}return a}function mM(r,e,t,n,a){let l=function(...u){window[n].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=dM(l,r,e,t),{gtagCore:l,wrappedGtag:window[a]}}function pM(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(iy)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=30,_M=1e3;class yM{constructor(e={},t=_M){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ES=new yM;function vM(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function TM(r){var e;const{appId:t,apiKey:n}=r,a={method:"GET",headers:vM(n)},l=sM.replace("{app-id}",t),u=await fetch(l,a);if(u.status!==200&&u.status!==304){let h="";try{const d=await u.json();!((e=d.error)===null||e===void 0)&&e.message&&(h=d.error.message)}catch{}throw qn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function EM(r,e=ES,t){const{appId:n,apiKey:a,measurementId:l}=r.options;if(!n)throw qn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:n};throw qn.create("no-api-key")}const u=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new AM;return setTimeout(async()=>{h.abort()},rM),wS({appId:n,apiKey:a,measurementId:l},u,h,e)}async function wS(r,{throttleEndTimeMillis:e,backoffCount:t},n,a=ES){var l;const{appId:u,measurementId:h}=r;try{await wM(n,e)}catch(d){if(h)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:u,measurementId:h};throw d}try{const d=await TM(r);return a.deleteThrottleMetadata(u),d}catch(d){const p=d;if(!bM(p)){if(a.deleteThrottleMetadata(u),h)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:h};throw d}const _=Number((l=p?.customData)===null||l===void 0?void 0:l.httpStatus)===503?kE(t,a.intervalMillis,gM):kE(t,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return a.setThrottleMetadata(u,v),Sn.debug(`Calling attemptFetch again in ${_} millis`),wS(r,v,n,a)}}function wM(r,e){return new Promise((t,n)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);r.addEventListener(()=>{clearTimeout(l),n(qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bM(r){if(!(r instanceof mi)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class AM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function SM(r,e,t,n,a){if(a&&a.global){r("event",t,n);return}else{const l=await e,u=Object.assign(Object.assign({},n),{send_to:l});r("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(){if(pA())try{await gA()}catch(r){return Sn.warn(qn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return Sn.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function IM(r,e,t,n,a,l,u){var h;const d=EM(r);d.then(b=>{t[b.measurementId]=b.appId,r.options.measurementId&&b.measurementId!==r.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Sn.error(b)),e.push(d);const p=RM().then(b=>{if(b)return n.getId()}),[_,v]=await Promise.all([d,p]);pM(l)||uM(l,_.measurementId),a("js",new Date);const T=(h=u?.config)!==null&&h!==void 0?h:{};return T[iM]="firebase",T.update=!0,v!=null&&(T[nM]=v),a("config",_.measurementId,T),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.app=e}_delete(){return delete dc[this.app.options.appId],Promise.resolve()}}let dc={},hw=[];const fw={};let Cg="dataLayer",OM="gtag",dw,bS,mw=!1;function DM(){const r=[];if(mA()&&r.push("This is a browser extension environment."),MD()||r.push("Cookies are not available."),r.length>0){const e=r.map((n,a)=>`(${a+1}) ${n}`).join(" "),t=qn.create("invalid-analytics-context",{errorInfo:e});Sn.warn(t.message)}}function xM(r,e,t){DM();const n=r.options.appId;if(!n)throw qn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qn.create("no-api-key");if(dc[n]!=null)throw qn.create("already-exists",{id:n});if(!mw){cM(Cg);const{wrappedGtag:l,gtagCore:u}=mM(dc,hw,fw,Cg,OM);bS=l,dw=u,mw=!0}return dc[n]=IM(r,hw,fw,e,dw,Cg,t),new CM(r)}function NM(r=Ud()){r=jt(r);const e=Xs(r,ud);return e.isInitialized()?e.getImmediate():PM(r)}function PM(r,e={}){const t=Xs(r,ud);if(t.isInitialized()){const a=t.getImmediate();if(js(e,t.getOptions()))return a;throw qn.create("already-initialized")}return t.initialize({options:e})}function MM(r,e,t,n){r=jt(r),SM(bS,dc[r.app.options.appId],e,t,n).catch(a=>Sn.error(a))}const pw="@firebase/analytics",gw="0.10.17";function kM(){Ii(new fi(ud,(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return xM(n,a,t)},"PUBLIC")),Ii(new fi("analytics-internal",r,"PRIVATE")),An(pw,gw),An(pw,gw,"esm2017");function r(e){try{const t=e.getProvider(ud).getImmediate();return{logEvent:(n,a,l)=>MM(t,n,a,l)}}catch(t){throw qn.create("interop-component-reg-failed",{reason:t})}}}kM();var _w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,AS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function C(){}C.prototype=R.prototype,x.D=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(M,V,U){for(var N=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)N[Le-2]=arguments[Le];return R.prototype[V].apply(M,N)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,R,C){C||(C=0);var M=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)M[V]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(V=0;16>V;++V)M[V]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],V=x.g[2];var U=x.g[3],N=R+(U^C&(V^U))+M[0]+3614090360&4294967295;R=C+(N<<7&4294967295|N>>>25),N=U+(V^R&(C^V))+M[1]+3905402710&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(C^U&(R^C))+M[2]+606105819&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(R^V&(U^R))+M[3]+3250441966&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(U^C&(V^U))+M[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(V^R&(C^V))+M[5]+1200080426&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(C^U&(R^C))+M[6]+2821735955&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(R^V&(U^R))+M[7]+4249261313&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(U^C&(V^U))+M[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(V^R&(C^V))+M[9]+2336552879&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(C^U&(R^C))+M[10]+4294925233&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(R^V&(U^R))+M[11]+2304563134&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(U^C&(V^U))+M[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(V^R&(C^V))+M[13]+4254626195&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(C^U&(R^C))+M[14]+2792965006&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(R^V&(U^R))+M[15]+1236535329&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(V^U&(C^V))+M[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(R^C))+M[6]+3225465664&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(U^R))+M[11]+643717713&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(V^U))+M[0]+3921069994&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^U&(C^V))+M[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(R^C))+M[10]+38016083&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(U^R))+M[15]+3634488961&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(V^U))+M[4]+3889429448&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^U&(C^V))+M[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(R^C))+M[14]+3275163606&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(U^R))+M[3]+4107603335&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(V^U))+M[8]+1163531501&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^U&(C^V))+M[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(R^C))+M[2]+4243563512&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(U^R))+M[7]+1735328473&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(V^U))+M[12]+2368359562&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(C^V^U)+M[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^V)+M[8]+2272392833&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^C)+M[11]+1839030562&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^R)+M[14]+4259657740&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^U)+M[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^V)+M[4]+1272893353&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^C)+M[7]+4139469664&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^R)+M[10]+3200236656&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^U)+M[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^V)+M[0]+3936430074&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^C)+M[3]+3572445317&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^R)+M[6]+76029189&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^U)+M[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^V)+M[12]+3873151461&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^C)+M[15]+530742520&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^R)+M[2]+3299628645&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(V^(C|~U))+M[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~V))+M[7]+1126891415&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~C))+M[14]+2878612391&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~R))+M[5]+4237533241&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~U))+M[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~V))+M[3]+2399980690&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~C))+M[10]+4293915773&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~R))+M[1]+2240044497&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~U))+M[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~V))+M[15]+4264355552&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~C))+M[6]+2734768916&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~R))+M[13]+1309151649&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~U))+M[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~V))+M[11]+3174756917&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~C))+M[2]+718787259&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~R))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+U&4294967295}n.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var C=R-this.blockSize,M=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=C;)a(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<R;)if(M[V++]=x.charCodeAt(U++),V==this.blockSize){a(this,M),V=0;break}}else for(;U<R;)if(M[V++]=x[U++],V==this.blockSize){a(this,M),V=0;break}}this.h=V,this.o+=R},n.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var C=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=C&255,C/=256;for(this.u(x),x=Array(16),R=C=0;4>R;++R)for(var M=0;32>M;M+=8)x[C++]=this.g[R]>>>M&255;return x};function l(x,R){var C=h;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function u(x,R){this.h=R;for(var C=[],M=!0,V=x.length-1;0<=V;V--){var U=x[V]|0;M&&U==R||(C[V]=U,M=!1)}this.g=C}var h={};function d(x){return-128<=x&&128>x?l(x,function(R){return new u([R|0],0>R?-1:0)}):new u([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return v;if(0>x)return D(p(-x));for(var R=[],C=1,M=0;x>=C;M++)R[M]=x/C|0,C*=4294967296;return new u(R,0)}function _(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return D(_(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(R,8)),M=v,V=0;V<x.length;V+=8){var U=Math.min(8,x.length-V),N=parseInt(x.substring(V,V+U),R);8>U?(U=p(Math.pow(R,U)),M=M.j(U).add(p(N))):(M=M.j(C),M=M.add(p(N)))}return M}var v=d(0),T=d(1),b=d(16777216);r=u.prototype,r.m=function(){if(S(this))return-D(this).m();for(var x=0,R=1,C=0;C<this.g.length;C++){var M=this.i(C);x+=(0<=M?M:4294967296+M)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I(this))return"0";if(S(this))return"-"+D(this).toString(x);for(var R=p(Math.pow(x,6)),C=this,M="";;){var V=K(C,R).g;C=P(C,V.j(R));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=V,I(C))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function I(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function S(x){return x.h==-1}r.l=function(x){return x=P(this,x),S(x)?-1:I(x)?0:1};function D(x){for(var R=x.g.length,C=[],M=0;M<R;M++)C[M]=~x.g[M];return new u(C,~x.h).add(T)}r.abs=function(){return S(this)?D(this):this},r.add=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],M=0,V=0;V<=R;V++){var U=M+(this.i(V)&65535)+(x.i(V)&65535),N=(U>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);M=N>>>16,U&=65535,N&=65535,C[V]=N<<16|U}return new u(C,C[C.length-1]&-2147483648?-1:0)};function P(x,R){return x.add(D(R))}r.j=function(x){if(I(this)||I(x))return v;if(S(this))return S(x)?D(this).j(D(x)):D(D(this).j(x));if(S(x))return D(this.j(D(x)));if(0>this.l(b)&&0>x.l(b))return p(this.m()*x.m());for(var R=this.g.length+x.g.length,C=[],M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<x.g.length;V++){var U=this.i(M)>>>16,N=this.i(M)&65535,Le=x.i(V)>>>16,Ie=x.i(V)&65535;C[2*M+2*V]+=N*Ie,F(C,2*M+2*V),C[2*M+2*V+1]+=U*Ie,F(C,2*M+2*V+1),C[2*M+2*V+1]+=N*Le,F(C,2*M+2*V+1),C[2*M+2*V+2]+=U*Le,F(C,2*M+2*V+2)}for(M=0;M<R;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=R;M<2*R;M++)C[M]=0;return new u(C,0)};function F(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function B(x,R){this.g=x,this.h=R}function K(x,R){if(I(R))throw Error("division by zero");if(I(x))return new B(v,v);if(S(x))return R=K(D(x),R),new B(D(R.g),D(R.h));if(S(R))return R=K(x,D(R)),new B(D(R.g),R.h);if(30<x.g.length){if(S(x)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var C=T,M=R;0>=M.l(x);)C=H(C),M=H(M);var V=ee(C,1),U=ee(M,1);for(M=ee(M,2),C=ee(C,2);!I(M);){var N=U.add(M);0>=N.l(x)&&(V=V.add(C),U=N),M=ee(M,1),C=ee(C,1)}return R=P(x,V.j(R)),new B(V,R)}for(V=v;0<=x.l(R);){for(C=Math.max(1,Math.floor(x.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=p(C),N=U.j(R);S(N)||0<N.l(x);)C-=M,U=p(C),N=U.j(R);I(U)&&(U=T),V=V.add(U),x=P(x,N)}return new B(V,x)}r.A=function(x){return K(this,x).h},r.and=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)&x.i(M);return new u(C,this.h&x.h)},r.or=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)|x.i(M);return new u(C,this.h|x.h)},r.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],M=0;M<R;M++)C[M]=this.i(M)^x.i(M);return new u(C,this.h^x.h)};function H(x){for(var R=x.g.length+1,C=[],M=0;M<R;M++)C[M]=x.i(M)<<1|x.i(M-1)>>>31;return new u(C,x.h)}function ee(x,R){var C=R>>5;R%=32;for(var M=x.g.length-C,V=[],U=0;U<M;U++)V[U]=0<R?x.i(U+C)>>>R|x.i(U+C+1)<<32-R:x.i(U+C);return new u(V,x.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,AS=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=_,Vs=u}).apply(typeof _w<"u"?_w:typeof self<"u"?self:typeof window<"u"?window:{});var Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SS,sc,RS,qf,t_,IS,CS,OS;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Df=="object"&&Df];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=t(this);function a(f,y){if(y)e:{var E=n;f=f.split(".");for(var O=0;O<f.length-1;O++){var G=f[O];if(!(G in E))break e;E=E[G]}f=f[f.length-1],O=E[f],y=y(O),y!=O&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var E=0,O=!1,G={next:function(){if(!O&&E<f.length){var J=E++;return{value:y(J,f[J]),done:!1}}return O=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(f){return f||function(){return l(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,E){return f.call.apply(f.bind,arguments)}function v(f,y,E){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,O),f.apply(y,G)}}return function(){return f.apply(y,arguments)}}function T(f,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,T.apply(null,arguments)}function b(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var O=E.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function I(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(O,G,J){for(var ce=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ce[ze-2]=arguments[ze];return y.prototype[G].apply(O,ce)}}function S(f){const y=f.length;if(0<y){const E=Array(y);for(let O=0;O<y;O++)E[O]=f[O];return E}return[]}function D(f,y){for(let E=1;E<arguments.length;E++){const O=arguments[E];if(d(O)){const G=f.length||0,J=O.length||0;f.length=G+J;for(let ce=0;ce<J;ce++)f[G+ce]=O[ce]}else f.push(O)}}class P{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(f){return/^[\s\xa0]*$/.test(f)}function B(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function K(f){return K[" "](f),f}K[" "]=function(){};var H=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ee(f,y,E){for(const O in f)y.call(E,f[O],O,f)}function x(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function R(f){const y={};for(const E in f)y[E]=f[E];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,y){let E,O;for(let G=1;G<arguments.length;G++){O=arguments[G];for(E in O)f[E]=O[E];for(let J=0;J<C.length;J++)E=C[J],Object.prototype.hasOwnProperty.call(O,E)&&(f[E]=O[E])}}function V(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function U(f){h.setTimeout(()=>{throw f},0)}function N(){var f=Me;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Le{constructor(){this.h=this.g=null}add(y,E){const O=Ie.get();O.set(y,E),this.h?this.h.next=O:this.g=O,this.h=O}}var Ie=new P(()=>new Z,f=>f.reset());class Z{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,de=!1,Me=new Le,L=()=>{const f=h.Promise.resolve(void 0);oe=()=>{f.then(ae)}};var ae=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(E){U(E)}var y=Ie;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}de=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return f}();function be(f,y){if(le.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(H){e:{try{K(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ae[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&be.aa.h.call(this)}}I(be,le);var Ae={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),it=0;function Oi(f,y,E,O,G){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!O,this.ha=G,this.key=++it,this.da=this.fa=!1}function Xr(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ur(f){this.src=f,this.g={},this.h=0}ur.prototype.add=function(f,y,E,O,G){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var ce=ia(f,y,O,G);return-1<ce?(y=f[ce],E||(y.fa=!1)):(y=new Oi(y,this.src,J,!!O,G),y.fa=E,f.push(y)),y};function na(f,y){var E=y.type;if(E in f.g){var O=f.g[E],G=Array.prototype.indexOf.call(O,y,void 0),J;(J=0<=G)&&Array.prototype.splice.call(O,G,1),J&&(Xr(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function ia(f,y,E,O){for(var G=0;G<f.length;++G){var J=f[G];if(!J.da&&J.listener==y&&J.capture==!!E&&J.ha==O)return G}return-1}var ra="closure_lm_"+(1e6*Math.random()|0),Hl={};function ih(f,y,E,O,G){if(Array.isArray(y)){for(var J=0;J<y.length;J++)ih(f,y[J],E,O,G);return null}return E=rh(E),f&&f[Bt]?f.K(y,E,p(O)?!!O.capture:!1,G):Yn(f,y,E,!1,O,G)}function Yn(f,y,E,O,G,J){if(!y)throw Error("Invalid event type");var ce=p(G)?!!G.capture:!!G,ze=To(f);if(ze||(f[ra]=ze=new ur(f)),E=ze.add(y,E,O,ce,J),E.proxy)return E;if(O=hm(),E.proxy=O,O.src=f,O.listener=E,f.addEventListener)pe||(G=ce),G===void 0&&(G=!1),f.addEventListener(y.toString(),O,G);else if(f.attachEvent)f.attachEvent(sa(y.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return E}function hm(){function f(E){return y.call(f.src,f.listener,E)}const y=fm;return f}function Gl(f,y,E,O,G){if(Array.isArray(y))for(var J=0;J<y.length;J++)Gl(f,y[J],E,O,G);else O=p(O)?!!O.capture:!!O,E=rh(E),f&&f[Bt]?(f=f.i,y=String(y).toString(),y in f.g&&(J=f.g[y],E=ia(J,E,O,G),-1<E&&(Xr(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete f.g[y],f.h--)))):f&&(f=To(f))&&(y=f.g[y.toString()],f=-1,y&&(f=ia(y,E,O,G)),(E=-1<f?y[f]:null)&&vo(E))}function vo(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Bt])na(y.i,f);else{var E=f.type,O=f.proxy;y.removeEventListener?y.removeEventListener(E,O,f.capture):y.detachEvent?y.detachEvent(sa(E),O):y.addListener&&y.removeListener&&y.removeListener(O),(E=To(y))?(na(E,f),E.h==0&&(E.src=null,y[ra]=null)):Xr(f)}}}function sa(f){return f in Hl?Hl[f]:Hl[f]="on"+f}function fm(f,y){if(f.da)f=!0;else{y=new be(y,this);var E=f.listener,O=f.ha||f.src;f.fa&&vo(f),f=E.call(O,y)}return f}function To(f){return f=f[ra],f instanceof ur?f:null}var $l="__closure_events_fn_"+(1e9*Math.random()>>>0);function rh(f){return typeof f=="function"?f:(f[$l]||(f[$l]=function(y){return f.handleEvent(y)}),f[$l])}function pt(){ue.call(this),this.i=new ur(this),this.M=this,this.F=null}I(pt,ue),pt.prototype[Bt]=!0,pt.prototype.removeEventListener=function(f,y,E,O){Gl(this,f,y,E,O)};function Ye(f,y){var E,O=f.F;if(O)for(E=[];O;O=O.F)E.push(O);if(f=f.M,O=y.type||y,typeof y=="string")y=new le(y,f);else if(y instanceof le)y.target=y.target||f;else{var G=y;y=new le(O,f),M(y,G)}if(G=!0,E)for(var J=E.length-1;0<=J;J--){var ce=y.g=E[J];G=xn(ce,O,!0,y)&&G}if(ce=y.g=f,G=xn(ce,O,!0,y)&&G,G=xn(ce,O,!1,y)&&G,E)for(J=0;J<E.length;J++)ce=y.g=E[J],G=xn(ce,O,!1,y)&&G}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],O=0;O<E.length;O++)Xr(E[O]);delete f.g[y],f.h--}}this.F=null},pt.prototype.K=function(f,y,E,O){return this.i.add(String(f),y,!1,E,O)},pt.prototype.L=function(f,y,E,O){return this.i.add(String(f),y,!0,E,O)};function xn(f,y,E,O){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,J=0;J<y.length;++J){var ce=y[J];if(ce&&!ce.da&&ce.capture==E){var ze=ce.listener,kt=ce.ha||ce.src;ce.fa&&na(f.i,ce),G=ze.call(kt,O)!==!1&&G}}return G&&!O.defaultPrevented}function sn(f,y,E){if(typeof f=="function")E&&(f=T(f,E));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(f,y||0)}function sh(f){f.g=sn(()=>{f.g=null,f.i&&(f.i=!1,sh(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class dm extends ue{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:sh(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(f){ue.call(this),this.h=f,this.g={}}I(aa,ue);var oa=[];function la(f){ee(f.g,function(y,E){this.g.hasOwnProperty(E)&&vo(y)},f),f.g={}}aa.prototype.N=function(){aa.aa.N.call(this),la(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=h.JSON.stringify,Eo=h.JSON.parse,ua=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Yl(){}Yl.prototype.h=null;function Kl(f){return f.h||(f.h=f.i())}function Ql(){}var cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){le.call(this,"d")}I(hr,le);function Xl(){le.call(this,"c")}I(Xl,le);var Di={},Wl=null;function Wr(){return Wl=Wl||new pt}Di.La="serverreachability";function wo(f){le.call(this,Di.La,f)}I(wo,le);function Zr(f){const y=Wr();Ye(y,new wo(y))}Di.STAT_EVENT="statevent";function ah(f,y){le.call(this,Di.STAT_EVENT,f),this.stat=y}I(ah,le);function ot(f){const y=Wr();Ye(y,new ah(y,f))}Di.Ma="timingevent";function Mt(f,y){le.call(this,Di.Ma,f),this.size=y}I(Mt,le);function St(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},y)}function Kn(){this.g=!0}Kn.prototype.xa=function(){this.g=!1};function Zl(f,y,E,O,G,J){f.info(function(){if(f.g)if(J)for(var ce="",ze=J.split("&"),kt=0;kt<ze.length;kt++){var je=ze[kt].split("=");if(1<je.length){var qt=je[0];je=je[1];var Vt=qt.split("_");ce=2<=Vt.length&&Vt[1]=="type"?ce+(qt+"="+je+"&"):ce+(qt+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+O+") [attempt "+G+"]: "+y+`
`+E+`
`+ce})}function mm(f,y,E,O,G,J,ce){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+G+"]: "+y+`
`+E+`
`+J+" "+ce})}function Jr(f,y,E,O){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+ca(f,E)+(O?" "+O:"")})}function oh(f,y){f.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function ca(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var O=E[f];if(!(2>O.length)){var G=O[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<G.length;ce++)G[ce]=""}}}}return pi(E)}catch{return y}}var es={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xi;function Ni(){}I(Ni,Yl),Ni.prototype.g=function(){return new XMLHttpRequest},Ni.prototype.i=function(){return{}},xi=new Ni;function mn(f,y,E,O){this.j=f,this.i=y,this.l=E,this.R=O||1,this.U=new aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}var Jl={},bo={};function gi(f,y,E){f.L=1,f.v=pa(Nn(y)),f.m=E,f.P=!0,dr(f,null)}function dr(f,y){f.F=Date.now(),ha(f),f.A=Nn(f.v);var E=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),su(E.i,"t",O),f.C=0,E=f.j.J,f.h=new vt,f.g=bh(f.j,E?y:null,!f.m),0<f.O&&(f.M=new dm(T(f.Y,f,f.g),f.O)),y=f.U,E=f.g,O=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(oa[0]=G.toString()),G=oa);for(var J=0;J<G.length;J++){var ce=ih(E,G[J],O||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Zr(),Zl(f.i,f.u,f.A,f.l,f.R,f.m)}mn.prototype.ca=function(f){f=f.target;const y=this.M;y&&Zn(f)==3?y.j():this.Y(f)},mn.prototype.Y=function(f){try{if(f==this.g)e:{const Vt=Zn(this.g);var y=this.g.Ba();const Er=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||ph(this.g)))){this.J||Vt!=4||y==7||(y==8||0>=Er?Zr(3):Zr(2)),ts(this);var E=this.g.Z();this.X=E;t:if(lh(this)){var O=ph(this.g);f="";var G=O.length,J=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),Pi(this);var ce="";break t}this.h.i=new h.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,f+=this.h.i.decode(O[y],{stream:!(J&&y==G-1)});O.length=0,this.h.g+=f,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=E==200,mm(this.i,this.u,this.A,this.l,this.R,Vt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,kt=this.g;if((ze=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(ze)){var je=ze;break t}}je=null}if(E=je)Jr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fa(this,E);else{this.o=!1,this.s=3,ot(12),Qt(this),Pi(this);break e}}if(this.P){E=!0;let Xt;for(;!this.J&&this.C<ce.length;)if(Xt=uh(this,ce),Xt==bo){Vt==4&&(this.s=4,ot(14),E=!1),Jr(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Jl){this.s=4,ot(15),Jr(this.i,this.l,ce,"[Invalid Chunk]"),E=!1;break}else Jr(this.i,this.l,Xt,null),fa(this,Xt);if(lh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||ce.length!=0||this.h.h||(this.s=1,ot(16),E=!1),this.o=this.o&&E,!E)Jr(this.i,this.l,ce,"[Invalid Chunked Response]"),Qt(this),Pi(this);else if(0<ce.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),ba(qt),qt.M=!0,ot(11))}}else Jr(this.i,this.l,ce,null),fa(this,ce);Vt==4&&Qt(this),this.o&&!this.J&&(Vt==4?Th(this.j,this):(this.o=!1,ha(this)))}else vm(this.g),E==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Qt(this),Pi(this)}}}catch{}finally{}};function lh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function uh(f,y){var E=f.C,O=y.indexOf(`
`,E);return O==-1?bo:(E=Number(y.substring(E,O)),isNaN(E)?Jl:(O+=1,O+E>y.length?bo:(y=y.slice(O,O+E),f.C=O+E,y)))}mn.prototype.cancel=function(){this.J=!0,Qt(this)};function ha(f){f.S=Date.now()+f.I,ch(f,f.I)}function ch(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=St(T(f.ba,f),y)}function ts(f){f.B&&(h.clearTimeout(f.B),f.B=null)}mn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(oh(this.i,this.A),this.L!=2&&(Zr(),ot(17)),Qt(this),this.s=2,Pi(this)):ch(this,this.S-f)};function Pi(f){f.j.G==0||f.J||Th(f.j,f)}function Qt(f){ts(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,la(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function fa(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||eu(E.h,f))){if(!f.K&&eu(E.h,f)&&E.G==3){try{var O=E.Da.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var G=O;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)ko(E),Po(E);else break e;cu(E),ot(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=St(T(E.Za,E),6e3));if(1>=So(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Tr(E,11)}else if((f.K||E.g==f)&&ko(E),!F(y))for(G=E.Da.g.parse(y),y=0;y<G.length;y++){let je=G[y];if(E.T=je[0],je=je[1],E.G==2)if(je[0]=="c"){E.K=je[1],E.ia=je[2];const qt=je[3];qt!=null&&(E.la=qt,E.j.info("VER="+E.la));const Vt=je[4];Vt!=null&&(E.Aa=Vt,E.j.info("SVER="+E.Aa));const Er=je[5];Er!=null&&typeof Er=="number"&&0<Er&&(O=1.5*Er,E.L=O,E.j.info("backChannelRequestTimeoutMs_="+O)),O=E;const Xt=f.g;if(Xt){const ji=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ji){var J=O.h;J.g||ji.indexOf("spdy")==-1&&ji.indexOf("quic")==-1&&ji.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ro(J,J.h),J.h=null))}if(O.D){const fu=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;fu&&(O.ya=fu,Xe(O.I,O.D,fu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),O=E;var ce=f;if(O.qa=wh(O,O.J?O.ia:null,O.W),ce.K){pn(O.h,ce);var ze=ce,kt=O.L;kt&&(ze.I=kt),ze.B&&(ts(ze),ha(ze)),O.g=ce}else yh(O);0<E.i.length&&Mo(E)}else je[0]!="stop"&&je[0]!="close"||Tr(E,7);else E.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Tr(E,7):lu(E):je[0]!="noop"&&E.l&&E.l.ta(je),E.v=0)}}Zr(4)}catch{}}var hh=class{constructor(f,y){this.g=f,this.map=y}};function mr(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ao(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function So(f){return f.h?1:f.g?f.g.size:0}function eu(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Ro(f,y){f.g?f.g.add(y):f.h=y}function pn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}mr.prototype.cancel=function(){if(this.i=tu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function tu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return S(f.i)}function pm(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var y=[],E=f.length,O=0;O<E;O++)y.push(f[O]);return y}y=[],E=0;for(O in f)y[E++]=f[O];return y}function Io(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const O in f)y[E++]=O;return y}}}function nu(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=Io(f),O=pm(f),G=O.length,J=0;J<G;J++)y.call(void 0,O[J],E&&E[J],f)}var da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gm(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var O=f[E].indexOf("="),G=null;if(0<=O){var J=f[E].substring(0,O);G=f[E].substring(O+1)}else J=f[E];y(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Rt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Rt){this.h=f.h,ma(this,f.j),this.o=f.o,this.g=f.g,ns(this,f.s),this.l=f.l;var y=f.i,E=new gr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),pr(this,E),this.m=f.m}else f&&(y=String(f).match(da))?(this.h=!1,ma(this,y[1]||"",!0),this.o=Qn(y[2]||""),this.g=Qn(y[3]||"",!0),ns(this,y[4]),this.l=Qn(y[5]||"",!0),pr(this,y[6]||"",!0),this.m=Qn(y[7]||"")):(this.h=!1,this.i=new gr(null,this.h))}Rt.prototype.toString=function(){var f=[],y=this.j;y&&f.push(ga(y,iu,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(ga(y,iu,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(ga(E,E.charAt(0)=="/"?_m:ru,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",ga(E,Co)),f.join("")};function Nn(f){return new Rt(f)}function ma(f,y,E){f.j=E?Qn(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function ns(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function pr(f,y,E){y instanceof gr?(f.i=y,dh(f.i,f.h)):(E||(y=ga(y,ym)),f.i=new gr(y,f.h))}function Xe(f,y,E){f.i.set(y,E)}function pa(f){return Xe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Qn(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ga(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,fh),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function fh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var iu=/[#\/\?@]/g,ru=/[#\?:]/g,_m=/[#\?]/g,ym=/[#\?@]/g,Co=/#/g;function gr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Xn(f){f.g||(f.g=new Map,f.h=0,f.i&&gm(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=gr.prototype,r.add=function(f,y){Xn(this),this.i=null,f=Mi(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function _r(f,y){Xn(f),y=Mi(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function yr(f,y){return Xn(f),y=Mi(f,y),f.g.has(y)}r.forEach=function(f,y){Xn(this),this.g.forEach(function(E,O){E.forEach(function(G){f.call(y,G,O,this)},this)},this)},r.na=function(){Xn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let O=0;O<y.length;O++){const G=f[O];for(let J=0;J<G.length;J++)E.push(y[O])}return E},r.V=function(f){Xn(this);let y=[];if(typeof f=="string")yr(this,f)&&(y=y.concat(this.g.get(Mi(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},r.set=function(f,y){return Xn(this),this.i=null,f=Mi(this,f),yr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},r.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function su(f,y,E){_r(f,y),0<E.length&&(f.i=null,f.g.set(Mi(f,y),S(E)),f.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var O=y[E];const J=encodeURIComponent(String(O)),ce=this.V(O);for(O=0;O<ce.length;O++){var G=J;ce[O]!==""&&(G+="="+encodeURIComponent(String(ce[O]))),f.push(G)}}return this.i=f.join("&")};function Mi(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function dh(f,y){y&&!f.j&&(Xn(f),f.i=null,f.g.forEach(function(E,O){var G=O.toLowerCase();O!=G&&(_r(this,O),su(this,G,E))},f)),f.j=y}function _a(f,y){const E=new Kn;if(h.Image){const O=new Image;O.onload=b(Wn,E,"TestLoadImage: loaded",!0,y,O),O.onerror=b(Wn,E,"TestLoadImage: error",!1,y,O),O.onabort=b(Wn,E,"TestLoadImage: abort",!1,y,O),O.ontimeout=b(Wn,E,"TestLoadImage: timeout",!1,y,O),h.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else y(!1)}function _i(f,y){const E=new Kn,O=new AbortController,G=setTimeout(()=>{O.abort(),Wn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:O.signal}).then(J=>{clearTimeout(G),J.ok?Wn(E,"TestPingServer: ok",!0,y):Wn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),Wn(E,"TestPingServer: error",!1,y)})}function Wn(f,y,E,O,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),O(E)}catch{}}function ya(){this.g=new ua}function ki(f,y,E){const O=E||"";try{nu(f,function(G,J){let ce=G;p(G)&&(ce=pi(G)),y.push(O+J+"="+encodeURIComponent(ce))})}catch(G){throw y.push(O+"type="+encodeURIComponent("_badmap")),G}}function is(f){this.l=f.Ub||null,this.j=f.eb||!1}I(is,Yl),is.prototype.g=function(){return new vr(this.l,this.j)},is.prototype.i=function(f){return function(){return f}}({});function vr(f,y){pt.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(vr,pt),r=vr.prototype,r.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Li(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vi(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Li(this)),this.g&&(this.readyState=3,Li(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;au(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function au(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Vi(this):Li(this),this.readyState==3&&au(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,Vi(this))},r.Qa=function(f){this.g&&(this.response=f,Vi(this))},r.ga=function(){this.g&&Vi(this)};function Vi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Li(f)}r.setRequestHeader=function(f,y){this.u.append(f,y)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function Li(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ou(f){let y="";return ee(f,function(E,O){y+=O,y+=":",y+=E,y+=`\r
`}),y}function Ft(f,y,E){e:{for(O in E){var O=!1;break e}O=!0}O||(E=ou(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Xe(f,y,E))}function Ge(f){pt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ge,pt);var Oo=/^https?$/i,va=["POST","PUT"];r=Ge.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,y,E,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xi.g(),this.v=this.o?Kl(this.o):Kl(xi),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(J){mh(this,J);return}if(f=E||"",E=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var G in O)E.set(G,O[G]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const J of O.keys())E.set(J,O.get(J));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),G=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(va,y,void 0))||O||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of E)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ta(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){mh(this,J)}};function mh(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Do(f),Ui(f)}function Do(f){f.A||(f.A=!0,Ye(f,"complete"),Ye(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ye(this,"complete"),Ye(this,"abort"),Ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?xo(this):this.bb())},r.bb=function(){xo(this)};function xo(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Zn(f)!=4||f.Z()!=2)){if(f.u&&Zn(f)==4)sn(f.Ea,0,f);else if(Ye(f,"readystatechange"),Zn(f)==4){f.h=!1;try{const ce=f.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var O;if(O=ce===0){var G=String(f.D).match(da)[1]||null;!G&&h.self&&h.self.location&&(G=h.self.location.protocol.slice(0,-1)),O=!Oo.test(G?G.toLowerCase():"")}E=O}if(E)Ye(f,"complete"),Ye(f,"success");else{f.m=6;try{var J=2<Zn(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",Do(f)}}finally{Ui(f)}}}}function Ui(f,y){if(f.g){Ta(f);const E=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ye(f,"ready");try{E.onreadystatechange=O}catch{}}}function Ta(f){f.I&&(h.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function Zn(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Eo(y)}};function ph(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function vm(f){const y={};f=(f.g&&2<=Zn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(F(f[O]))continue;var E=V(f[O]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=y[G]||[];y[G]=J,J.push(E)}x(y,function(O){return O.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function No(f){this.Aa=0,this.i=[],this.j=new Kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ea("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ea("baseRetryDelayMs",5e3,f),this.cb=Ea("retryDelaySeedMs",1e4,f),this.Wa=Ea("forwardChannelMaxRetries",2,f),this.wa=Ea("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new mr(f&&f.concurrentRequestLimit),this.Da=new ya,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=No.prototype,r.la=8,r.G=1,r.connect=function(f,y,E,O){ot(0),this.W=f,this.H=y||{},E&&O!==void 0&&(this.H.OSID=E,this.H.OAID=O),this.F=this.X,this.I=wh(this,null,this.W),Mo(this)};function lu(f){if(gh(f),f.G==3){var y=f.U++,E=Nn(f.I);if(Xe(E,"SID",f.K),Xe(E,"RID",y),Xe(E,"TYPE","terminate"),wa(f,E),y=new mn(f,f.j,y),y.L=2,y.v=pa(Nn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.v,E=!0),E||(y.g=bh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ha(y)}Eh(f)}function Po(f){f.g&&(ba(f),f.g.cancel(),f.g=null)}function gh(f){Po(f),f.u&&(h.clearTimeout(f.u),f.u=null),ko(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Mo(f){if(!Ao(f.h)&&!f.s){f.s=!0;var y=f.Ga;oe||L(),de||(oe(),de=!0),Me.add(y,f),f.B=0}}function Tm(f,y){return So(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=St(T(f.Ga,f,y),hu(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new mn(this,this.j,f);let J=this.o;if(this.S&&(J?(J=R(J),M(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var O=this.i[E];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=_h(this,G,y),E=Nn(this.I),Xe(E,"RID",f),Xe(E,"CVER",22),this.D&&Xe(E,"X-HTTP-Session-Id",this.D),wa(this,E),J&&(this.O?y="headers="+encodeURIComponent(String(ou(J)))+"&"+y:this.m&&Ft(E,this.m,J)),Ro(this.h,G),this.Ua&&Xe(E,"TYPE","init"),this.P?(Xe(E,"$req",y),Xe(E,"SID","null"),G.T=!0,gi(G,E,null)):gi(G,E,y),this.G=2}}else this.G==3&&(f?uu(this,f):this.i.length==0||Ao(this.h)||uu(this))};function uu(f,y){var E;y?E=y.l:E=f.U++;const O=Nn(f.I);Xe(O,"SID",f.K),Xe(O,"RID",E),Xe(O,"AID",f.T),wa(f,O),f.m&&f.o&&Ft(O,f.m,f.o),E=new mn(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=_h(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ro(f.h,E),gi(E,O,y)}function wa(f,y){f.H&&ee(f.H,function(E,O){Xe(y,O,E)}),f.l&&nu({},function(E,O){Xe(y,O,E)})}function _h(f,y,E){E=Math.min(f.i.length,E);var O=f.l?T(f.l.Na,f.l,f):null;e:{var G=f.i;let J=-1;for(;;){const ce=["count="+E];J==-1?0<E?(J=G[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let ze=!0;for(let kt=0;kt<E;kt++){let je=G[kt].g;const qt=G[kt].map;if(je-=J,0>je)J=Math.max(0,G[kt].g-100),ze=!1;else try{ki(qt,ce,"req"+je+"_")}catch{O&&O(qt)}}if(ze){O=ce.join("&");break e}}}return f=f.i.splice(0,E),y.D=f,O}function yh(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;oe||L(),de||(oe(),de=!0),Me.add(y,f),f.v=0}}function cu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=St(T(f.Fa,f),hu(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,vh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=St(T(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Po(this),vh(this))};function ba(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function vh(f){f.g=new mn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Nn(f.qa);Xe(y,"RID","rpc"),Xe(y,"SID",f.K),Xe(y,"AID",f.T),Xe(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&Xe(y,"TO",f.ja),Xe(y,"TYPE","xmlhttp"),wa(f,y),f.m&&f.o&&Ft(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=pa(Nn(y)),E.m=null,E.P=!0,dr(E,f)}r.Za=function(){this.C!=null&&(this.C=null,Po(this),cu(this),ot(19))};function ko(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Th(f,y){var E=null;if(f.g==y){ko(f),ba(f),f.g=null;var O=2}else if(eu(f.h,y))E=y.D,pn(f.h,y),O=1;else return;if(f.G!=0){if(y.o)if(O==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var G=f.B;O=Wr(),Ye(O,new Mt(O,E)),Mo(f)}else yh(f);else if(G=y.s,G==3||G==0&&0<y.X||!(O==1&&Tm(f,y)||O==2&&cu(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),G){case 1:Tr(f,5);break;case 4:Tr(f,10);break;case 3:Tr(f,6);break;default:Tr(f,2)}}}function hu(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function Tr(f,y){if(f.j.info("Error code "+y),y==2){var E=T(f.fb,f),O=f.Xa;const G=!O;O=new Rt(O||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ma(O,"https"),pa(O),G?_a(O.toString(),E):_i(O.toString(),E)}else ot(2);f.G=0,f.l&&f.l.sa(y),Eh(f),gh(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Eh(f){if(f.G=0,f.ka=[],f.l){const y=tu(f.h);(y.length!=0||f.i.length!=0)&&(D(f.ka,y),D(f.ka,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.ra()}}function wh(f,y,E){var O=E instanceof Rt?Nn(E):new Rt(E);if(O.g!="")y&&(O.g=y+"."+O.g),ns(O,O.s);else{var G=h.location;O=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var J=new Rt(null);O&&ma(J,O),y&&(J.g=y),G&&ns(J,G),E&&(J.l=E),O=J}return E=f.D,y=f.ya,E&&y&&Xe(O,E,y),Xe(O,"VER",f.la),wa(f,O),O}function bh(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Ge(new is({eb:E})):new Ge(f.pa),y.Ha(f.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ah(){}r=Ah.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Vo(){}Vo.prototype.g=function(f,y){return new gn(f,y)};function gn(f,y){pt.call(this),this.g=new No(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!F(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!F(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new zi(this)}I(gn,pt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){lu(this.g)},gn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=pi(f),f=E);y.i.push(new hh(y.Ya++,f)),y.G==3&&Mo(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,lu(this.g),delete this.g,gn.aa.N.call(this)};function Sh(f){hr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}I(Sh,hr);function Rh(){Xl.call(this),this.status=1}I(Rh,Xl);function zi(f){this.g=f}I(zi,Ah),zi.prototype.ua=function(){Ye(this.g,"a")},zi.prototype.ta=function(f){Ye(this.g,new Sh(f))},zi.prototype.sa=function(f){Ye(this.g,new Rh)},zi.prototype.ra=function(){Ye(this.g,"b")},Vo.prototype.createWebChannel=Vo.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,OS=function(){return new Vo},CS=function(){return Wr()},IS=Di,t_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,qf=es,fr.COMPLETE="complete",RS=fr,Ql.EventType=cr,cr.OPEN="a",cr.CLOSE="b",cr.ERROR="c",cr.MESSAGE="d",pt.prototype.listen=pt.prototype.K,sc=Ql,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,SS=Ge}).apply(typeof Df<"u"?Df:typeof self<"u"?self:typeof window<"u"?window:{});const yw="@firebase/firestore",vw="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new Ld("@firebase/firestore");function fl(){return ro.logLevel}function fe(r,...e){if(ro.logLevel<=ke.DEBUG){const t=e.map(ry);ro.debug(`Firestore (${zl}): ${r}`,...t)}}function $r(r,...e){if(ro.logLevel<=ke.ERROR){const t=e.map(ry);ro.error(`Firestore (${zl}): ${r}`,...t)}}function Bs(r,...e){if(ro.logLevel<=ke.WARN){const t=e.map(ry);ro.warn(`Firestore (${zl}): ${r}`,...t)}}function ry(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,DS(r,n,t)}function DS(r,e,t){let n=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw $r(n),new Error(n)}function $e(r,e,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,r||DS(e,a,n)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class LM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class UM{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let n=this.i;const a=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve();let l=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fr,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},h=d=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?($e(typeof n.accessToken=="string",31837,{l:n}),new xS(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class zM{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jM{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new zM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);const n=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>n(l))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Tw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Tw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=FM(40);for(let l=0;l<a.length;++l)n.length<20&&a[l]<t&&(n+=e.charAt(a[l]%62))}return n}}function De(r,e){return r<e?-1:r>e?1:0}function n_(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),a=e.codePointAt(t);if(n!==a){if(n<128&&a<128)return De(n,a);{const l=NS(),u=qM(l.encode(Ew(r,t)),l.encode(Ew(e,t)));return u!==0?u:De(n,a)}}t+=n>65535?2:1}return De(r.length,e.length)}function Ew(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function qM(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return De(r[t],e[t]);return De(r.length,e.length)}function Sl(r,e,t){return r.length===e.length&&r.every((n,a)=>t(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="__name__";class $i{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ee(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return $i.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $i?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let a=0;a<n;a++){const l=$i.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return De(e.length,t.length)}static compareSegments(e,t){const n=$i.isNumericId(e),a=$i.isNumericId(t);return n&&!a?-1:!n&&a?1:n&&a?$i.extractNumericId(e).compare($i.extractNumericId(t)):n_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vs.fromString(e.substring(4,e.length-2))}}class st extends $i{construct(e,t,n){return new st(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new he(ie.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(a=>a.length>0))}return new st(t)}static emptyPath(){return new st([])}}const HM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends $i{construct(e,t,n){return new tn(e,t,n)}static isValidIdentifier(e){return HM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ww}static keyField(){return new tn([ww])}static fromServerFormat(e){const t=[];let n="",a=0;const l=()=>{if(n.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new he(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new he(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(n+=h,a++):(l(),a++)}if(l(),u)throw new he(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(st.fromString(e))}static fromName(e){return new _e(st.fromString(e).popFirst(5))}static empty(){return new _e(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(r,e,t){if(!t)throw new he(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function GM(r,e,t,n){if(e===!0&&n===!0)throw new he(ie.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function bw(r){if(!_e.isDocumentKey(r))throw new he(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Aw(r){if(_e.isDocumentKey(r))throw new he(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function MS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Hd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Si(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hd(r);throw new he(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Xc(r,e){if(!MS(r))throw new he(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const a=e[n].typeString,l="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const u=r[n];if(a&&typeof u!==a){t=`JSON field '${n}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${n}' field to equal '${l.value}'`;break}}if(t)throw new he(ie.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=-62135596800,Rw=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Rw);return new at(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Sw)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rw}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xc(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Pt("string",at._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new at(0,0))}static max(){return new Se(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=-1;function $M(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,a=Se.fromTimestamp(n===1e9?new at(t+1,0):new at(t,n));return new Fs(a,_e.empty(),e)}function YM(r){return new Fs(r.readTime,r.key,Ic)}class Fs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Fs(Se.min(),_e.empty(),Ic)}static max(){return new Fs(Se.max(),_e.empty(),Ic)}}function KM(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:De(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==QM)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((n,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(n,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(n,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,n)=>{t(e)})}static reject(e){return new se((t,n)=>{n(e)})}static waitFor(e){return new se((t,n)=>{let a=0,l=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++l,u&&l===a&&t()},d=>n(d))}),u=!0,l===a&&t()})}static or(e){let t=se.resolve(!1);for(const n of e)t=t.next(a=>a?se.resolve(a):n());return t}static forEach(e,t){const n=[];return e.forEach((a,l)=>{n.push(t.call(this,a,l))}),this.waitFor(n)}static mapArray(e,t){return new se((n,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;t(e[p]).next(_=>{u[p]=_,++h,h===l&&n(u)},_=>a(_))}})}static doWhile(e,t){return new se((n,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):n()};l()})}}function WM(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this._e(n),this.ae=n=>t.writeSequenceNumber(n))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Gd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=-1;function $d(r){return r==null}function cd(r){return r===0&&1/r==-1/0}function ZM(r){return typeof r=="number"&&Number.isInteger(r)&&!cd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="";function JM(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Iw(e)),e=ek(r.get(t),e);return Iw(e)}function ek(r,e){let t=e;const n=r.length;for(let a=0;a<n;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case kS:t+="";break;default:t+=l}}return t}function Iw(r){return r+kS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function mo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function VS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return t+n.left.size;a<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xf(this.root,e,this.comparator,!0)}}class xf{constructor(e,t,n,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?n(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,n,a,l){this.key=e,this.value=t,this.color=n??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,a,l){return new en(e??this.key,t??this.value,n??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let a=this;const l=n(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,n),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,n,a,l){return this}insert(e,t,n){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ow(this.data.getIterator())}getIteratorFrom(e){return new Ow(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=n.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class Ow{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new wi([])}unionWith(e){let t=new zt(tn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new wi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sl(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new LS("Invalid base64 string: "+l):l}}(e);return new rn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const tk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(r){if($e(!!r,39018),typeof r=="string"){let e=0;const t=tk.exec(r);if($e(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:wt(r.seconds),nanos:wt(r.nanos)}}function wt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hs(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="server_timestamp",zS="__type__",jS="__previous_value__",BS="__local_write_time__";function oy(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[zS])===null||t===void 0?void 0:t.stringValue)===US}function Yd(r){const e=r.mapValue.fields[jS];return oy(e)?Yd(e):e}function Cc(r){const e=qs(r.mapValue.fields[BS].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t,n,a,l,u,h,d,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=_}}const hd="(default)";class Oc{constructor(e,t){this.projectId=e,this.database=t||hd}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database===hd}isEqual(e){return e instanceof Oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="__type__",ik="__max__",Nf={mapValue:{}},qS="__vector__",fd="value";function Gs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?oy(r)?4:sk(r)?9007199254740991:rk(r)?10:11:Ee(28295,{value:r})}function ir(r,e){if(r===e)return!0;const t=Gs(r);if(t!==Gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Cc(r).isEqual(Cc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=qs(a.timestampValue),h=qs(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,l){return Hs(a.bytesValue).isEqual(Hs(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,l){return wt(a.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(a.geoPointValue.longitude)===wt(l.geoPointValue.longitude)}(r,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return wt(a.integerValue)===wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=wt(a.doubleValue),h=wt(l.doubleValue);return u===h?cd(u)===cd(h):isNaN(u)&&isNaN(h)}return!1}(r,e);case 9:return Sl(r.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(Cw(u)!==Cw(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!ir(u[d],h[d])))return!1;return!0}(r,e);default:return Ee(52216,{left:r})}}function Dc(r,e){return(r.values||[]).find(t=>ir(t,e))!==void 0}function Rl(r,e){if(r===e)return 0;const t=Gs(r),n=Gs(e);if(t!==n)return De(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(r.booleanValue,e.booleanValue);case 2:return function(l,u){const h=wt(l.integerValue||l.doubleValue),d=wt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(r,e);case 3:return Dw(r.timestampValue,e.timestampValue);case 4:return Dw(Cc(r),Cc(e));case 5:return n_(r.stringValue,e.stringValue);case 6:return function(l,u){const h=Hs(l),d=Hs(u);return h.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const _=De(h[p],d[p]);if(_!==0)return _}return De(h.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,u){const h=De(wt(l.latitude),wt(u.latitude));return h!==0?h:De(wt(l.longitude),wt(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return xw(r.arrayValue,e.arrayValue);case 10:return function(l,u){var h,d,p,_;const v=l.fields||{},T=u.fields||{},b=(h=v[fd])===null||h===void 0?void 0:h.arrayValue,I=(d=T[fd])===null||d===void 0?void 0:d.arrayValue,S=De(((p=b?.values)===null||p===void 0?void 0:p.length)||0,((_=I?.values)===null||_===void 0?void 0:_.length)||0);return S!==0?S:xw(b,I)}(r.mapValue,e.mapValue);case 11:return function(l,u){if(l===Nf.mapValue&&u===Nf.mapValue)return 0;if(l===Nf.mapValue)return 1;if(u===Nf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let v=0;v<d.length&&v<_.length;++v){const T=n_(d[v],_[v]);if(T!==0)return T;const b=Rl(h[d[v]],p[_[v]]);if(b!==0)return b}return De(d.length,_.length)}(r.mapValue,e.mapValue);default:throw Ee(23264,{le:t})}}function Dw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return De(r,e);const t=qs(r),n=qs(e),a=De(t.seconds,n.seconds);return a!==0?a:De(t.nanos,n.nanos)}function xw(r,e){const t=r.values||[],n=e.values||[];for(let a=0;a<t.length&&a<n.length;++a){const l=Rl(t[a],n[a]);if(l)return l}return De(t.length,n.length)}function Il(r){return i_(r)}function i_(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=qs(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Hs(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return _e.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",a=!0;for(const l of t.values||[])a?a=!1:n+=",",n+=i_(l);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of n)l?l=!1:a+=",",a+=`${u}:${i_(t.fields[u])}`;return a+"}"}(r.mapValue):Ee(61005,{value:r})}function Hf(r){switch(Gs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yd(r);return e?16+Hf(e):16;case 5:return 2*r.stringValue.length;case 6:return Hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,l)=>a+Hf(l),0)}(r.arrayValue);case 10:case 11:return function(n){let a=0;return mo(n.fields,(l,u)=>{a+=l.length+Hf(u)}),a}(r.mapValue);default:throw Ee(13486,{value:r})}}function Nw(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function r_(r){return!!r&&"integerValue"in r}function ly(r){return!!r&&"arrayValue"in r}function Pw(r){return!!r&&"nullValue"in r}function Mw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gf(r){return!!r&&"mapValue"in r}function rk(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[FS])===null||t===void 0?void 0:t.stringValue)===qS}function mc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return mo(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=mc(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mc(r.arrayValue.values[t]);return e}return Object.assign({},r)}function sk(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ik}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Gf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(t)}setAll(e){let t=tn.emptyPath(),n={},a=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,n,a),n={},a=[],t=h.popLast()}u?n[h.lastSegment()]=mc(u):a.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,n,a)}delete(e){const t=this.field(e.popLast());Gf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=t.mapValue.fields[e.get(n)];Gf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,n){mo(t,(a,l)=>e[a]=l);for(const a of n)delete e[a]}clone(){return new oi(mc(this.value))}}function HS(r){const e=[];return mo(r.fields,(t,n)=>{const a=new tn([t]);if(Gf(n)){const l=HS(n.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new wi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,n,a,l,u,h){this.key=e,this.documentType=t,this.version=n,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new cn(e,0,Se.min(),Se.min(),Se.min(),oi.empty(),0)}static newFoundDocument(e,t,n,a){return new cn(e,1,t,Se.min(),n,a,0)}static newNoDocument(e,t){return new cn(e,2,t,Se.min(),Se.min(),oi.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Se.min(),Se.min(),oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,t){this.position=e,this.inclusive=t}}function kw(r,e,t){let n=0;for(let a=0;a<r.position.length;a++){const l=e[a],u=r.position[a];if(l.field.isKeyField()?n=_e.comparator(_e.fromName(u.referenceValue),t.key):n=Rl(u,t.data.field(l.field)),l.dir==="desc"&&(n*=-1),n!==0)break}return n}function Vw(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ir(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t="asc"){this.field=e,this.dir=t}}function ak(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{}class Nt extends GS{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new lk(e,t,n):t==="array-contains"?new hk(e,n):t==="in"?new fk(e,n):t==="not-in"?new dk(e,n):t==="array-contains-any"?new mk(e,n):new Nt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new uk(e,n):new ck(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Rl(t,this.value)):t!==null&&Gs(this.value)===Gs(t)&&this.matchesComparison(Rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends GS{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Ci(e,t)}matches(e){return $S(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function $S(r){return r.op==="and"}function YS(r){return ok(r)&&$S(r)}function ok(r){for(const e of r.filters)if(e instanceof Ci)return!1;return!0}function s_(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+Il(r.value);if(YS(r))return r.filters.map(e=>s_(e)).join(",");{const e=r.filters.map(t=>s_(t)).join(",");return`${r.op}(${e})`}}function KS(r,e){return r instanceof Nt?function(n,a){return a instanceof Nt&&n.op===a.op&&n.field.isEqual(a.field)&&ir(n.value,a.value)}(r,e):r instanceof Ci?function(n,a){return a instanceof Ci&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((l,u,h)=>l&&KS(u,a.filters[h]),!0):!1}(r,e):void Ee(19439)}function QS(r){return r instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${Il(t.value)}`}(r):r instanceof Ci?function(t){return t.op.toString()+" {"+t.getFilters().map(QS).join(" ,")+"}"}(r):"Filter"}class lk extends Nt{constructor(e,t,n){super(e,t,n),this.key=_e.fromName(n.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class uk extends Nt{constructor(e,t){super(e,"in",t),this.keys=XS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ck extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=XS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function XS(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>_e.fromName(n.referenceValue))}class hk extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ly(t)&&Dc(t.arrayValue,this.value)}}class fk extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Dc(this.value.arrayValue,t)}}class dk extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Dc(this.value.arrayValue,t)}}class mk extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ly(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Dc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,t=null,n=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Pe=null}}function Lw(r,e=null,t=[],n=[],a=null,l=null,u=null){return new pk(r,e,t,n,a,l,u)}function uy(r){const e=Re(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>s_(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(l){return l.field.canonicalString()+l.dir}(n)).join(","),$d(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Il(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Il(n)).join(",")),e.Pe=t}return e.Pe}function cy(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!ak(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!KS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Vw(r.startAt,e.startAt)&&Vw(r.endAt,e.endAt)}function a_(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t=null,n=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function gk(r,e,t,n,a,l,u,h){return new Fl(r,e,t,n,a,l,u,h)}function Kd(r){return new Fl(r)}function Uw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function WS(r){return r.collectionGroup!==null}function pc(r){const e=Re(r);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new zt(tn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new xc(l,n))}),t.has(tn.keyField().canonicalString())||e.Te.push(new xc(tn.keyField(),n))}return e.Te}function Wi(r){const e=Re(r);return e.Ie||(e.Ie=_k(e,pc(r))),e.Ie}function _k(r,e){if(r.limitType==="F")return Lw(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new xc(a.field,l)});const t=r.endAt?new dd(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new dd(r.startAt.position,r.startAt.inclusive):null;return Lw(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function o_(r,e){const t=r.filters.concat([e]);return new Fl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function l_(r,e,t){return new Fl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Qd(r,e){return cy(Wi(r),Wi(e))&&r.limitType===e.limitType}function ZS(r){return`${uy(Wi(r))}|lt:${r.limitType}`}function dl(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(a=>QS(a)).join(", ")}]`),$d(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>Il(a)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>Il(a)).join(",")),`Target(${n})`}(Wi(r))}; limitType=${r.limitType})`}function Xd(r,e){return e.isFoundDocument()&&function(n,a){const l=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):_e.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(r,e)&&function(n,a){for(const l of pc(n))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(r,e)&&function(n,a){for(const l of n.filters)if(!l.matches(a))return!1;return!0}(r,e)&&function(n,a){return!(n.startAt&&!function(u,h,d){const p=kw(u,h,d);return u.inclusive?p<=0:p<0}(n.startAt,pc(n),a)||n.endAt&&!function(u,h,d){const p=kw(u,h,d);return u.inclusive?p>=0:p>0}(n.endAt,pc(n),a))}(r,e)}function yk(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function JS(r){return(e,t)=>{let n=!1;for(const a of pc(r)){const l=vk(a,e,t);if(l!==0)return l;n=n||a.field.isKeyField()}return 0}}function vk(r,e,t){const n=r.field.isKeyField()?_e.comparator(e.key,t.key):function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?Rl(d,p):Ee(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[a,l]of n)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[t]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,(t,n)=>{for(const[a,l]of n)e(a,l)})}isEmpty(){return VS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new mt(_e.comparator);function Yr(){return Tk}const e1=new mt(_e.comparator);function ac(...r){let e=e1;for(const t of r)e=e.insert(t.key,t);return e}function t1(r){let e=e1;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function $a(){return gc()}function n1(){return gc()}function gc(){return new po(r=>r.toString(),(r,e)=>r.isEqual(e))}const Ek=new mt(_e.comparator),wk=new zt(_e.comparator);function Ve(...r){let e=wk;for(const t of r)e=e.add(t);return e}const bk=new zt(De);function Ak(){return bk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(e)?"-0":e}}function i1(r){return{integerValue:""+r}}function Sk(r,e){return ZM(e)?i1(e):hy(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(){this._=void 0}}function Rk(r,e,t){return r instanceof md?function(a,l){const u={fields:{[zS]:{stringValue:US},[BS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&oy(l)&&(l=Yd(l)),l&&(u.fields[jS]=l),{mapValue:u}}(t,e):r instanceof Nc?s1(r,e):r instanceof Pc?a1(r,e):function(a,l){const u=r1(a,l),h=zw(u)+zw(a.Ee);return r_(u)&&r_(a.Ee)?i1(h):hy(a.serializer,h)}(r,e)}function Ik(r,e,t){return r instanceof Nc?s1(r,e):r instanceof Pc?a1(r,e):t}function r1(r,e){return r instanceof pd?function(n){return r_(n)||function(l){return!!l&&"doubleValue"in l}(n)}(e)?e:{integerValue:0}:null}class md extends Wd{}class Nc extends Wd{constructor(e){super(),this.elements=e}}function s1(r,e){const t=o1(e);for(const n of r.elements)t.some(a=>ir(a,n))||t.push(n);return{arrayValue:{values:t}}}class Pc extends Wd{constructor(e){super(),this.elements=e}}function a1(r,e){let t=o1(e);for(const n of r.elements)t=t.filter(a=>!ir(a,n));return{arrayValue:{values:t}}}class pd extends Wd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function zw(r){return wt(r.integerValue||r.doubleValue)}function o1(r){return ly(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Ck(r,e){return r.field.isEqual(e.field)&&function(n,a){return n instanceof Nc&&a instanceof Nc||n instanceof Pc&&a instanceof Pc?Sl(n.elements,a.elements,ir):n instanceof pd&&a instanceof pd?ir(n.Ee,a.Ee):n instanceof md&&a instanceof md}(r.transform,e.transform)}class Ok{constructor(e,t){this.version=e,this.transformResults=t}}class Zi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zi}static exists(e){return new Zi(void 0,e)}static updateTime(e){return new Zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $f(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Zd{}function l1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new c1(r.key,Zi.none()):new Wc(r.key,r.data,Zi.none());{const t=r.data,n=oi.empty();let a=new zt(tn.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?n.delete(l):n.set(l,u),a=a.add(l)}return new go(r.key,n,new wi(a.toArray()),Zi.none())}}function Dk(r,e,t){r instanceof Wc?function(a,l,u){const h=a.value.clone(),d=Bw(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(r,e,t):r instanceof go?function(a,l,u){if(!$f(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=Bw(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(u1(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(r,e,t):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function _c(r,e,t,n){return r instanceof Wc?function(l,u,h,d){if(!$f(l.precondition,u))return h;const p=l.value.clone(),_=Fw(l.fieldTransforms,d,u);return p.setAll(_),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(r,e,t,n):r instanceof go?function(l,u,h,d){if(!$f(l.precondition,u))return h;const p=Fw(l.fieldTransforms,d,u),_=u.data;return _.setAll(u1(l)),_.setAll(p),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(r,e,t,n):function(l,u,h){return $f(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(r,e,t)}function xk(r,e){let t=null;for(const n of r.fieldTransforms){const a=e.data.field(n.field),l=r1(n.transform,a||null);l!=null&&(t===null&&(t=oi.empty()),t.set(n.field,l))}return t||null}function jw(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Sl(n,a,(l,u)=>Ck(l,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Wc extends Zd{constructor(e,t,n,a=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class go extends Zd{constructor(e,t,n,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function u1(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function Bw(r,e,t){const n=new Map;$e(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let a=0;a<t.length;a++){const l=r[a],u=l.transform,h=e.data.field(l.field);n.set(l.field,Ik(u,h,t[a]))}return n}function Fw(r,e,t){const n=new Map;for(const a of r){const l=a.transform,u=t.data.field(a.field);n.set(a.field,Rk(l,u,e))}return n}class c1 extends Zd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nk extends Zd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t,n,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Dk(l,e,n[a])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=_c(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=_c(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=n1();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(a.key)?null:h;const d=l1(u,h);d!==null&&n.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Se.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Sl(this.mutations,e.mutations,(t,n)=>jw(t,n))&&Sl(this.baseMutations,e.baseMutations,(t,n)=>jw(t,n))}}class fy{constructor(e,t,n,a){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=a}static from(e,t,n){$e(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let a=function(){return Ek}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,n[u].version);return new fy(e,t,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Fe;function Vk(r){switch(r){case ie.OK:return Ee(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function h1(r){if(r===void 0)return $r("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Ot.OK:return ie.OK;case Ot.CANCELLED:return ie.CANCELLED;case Ot.UNKNOWN:return ie.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ie.INTERNAL;case Ot.UNAVAILABLE:return ie.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ie.NOT_FOUND;case Ot.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Ot.ABORTED:return ie.ABORTED;case Ot.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Ot.DATA_LOSS:return ie.DATA_LOSS;default:return Ee(39323,{code:r})}}(Fe=Ot||(Ot={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new Vs([4294967295,4294967295],0);function qw(r){const e=NS().encode(r),t=new AS;return t.update(e),new Uint8Array(t.digest())}function Hw(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Vs([t,n],0),new Vs([a,l],0)]}class dy{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new oc(`Invalid padding: ${t}`);if(n<0)throw new oc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new oc(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Vs.fromNumber(this.fe)}pe(e,t,n){let a=e.add(t.multiply(Vs.fromNumber(n)));return a.compare(Lk)===1&&(a=new Vs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=qw(e),[n,a]=Hw(t);for(let l=0;l<this.hashCount;l++){const u=this.pe(n,a,l);if(!this.ye(u))return!1}return!0}static create(e,t,n){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new dy(l,a,t);return n.forEach(h=>u.insert(h)),u}insert(e){if(this.fe===0)return;const t=qw(e),[n,a]=Hw(t);for(let l=0;l<this.hashCount;l++){const u=this.pe(n,a,l);this.we(u)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t,n,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const a=new Map;return a.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Jd(Se.min(),a,new mt(De),Yr(),Ve())}}class Zc{constructor(e,t,n,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Zc(n,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t,n,a){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=a}}class f1{constructor(e,t){this.targetId=e,this.De=t}}class d1{constructor(e,t,n=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=a}}class Gw{constructor(){this.ve=0,this.Ce=$w(),this.Fe=rn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ve(),t=Ve(),n=Ve();return this.Ce.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:n=n.add(a);break;default:Ee(38017,{changeType:l})}}),new Zc(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=$w()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Uk{constructor(e){this.We=e,this.Ge=new Map,this.ze=Yr(),this.je=Pf(),this.Je=Pf(),this.He=new mt(De)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((n,a)=>{this.nt(a)&&t(a)})}it(e){const t=e.targetId,n=e.De.count,a=this.st(t);if(a){const l=a.target;if(a_(l))if(n===0){const u=new _e(l.path);this.Xe(t,u,cn.newNoDocument(u,Se.min()))}else $e(n===1,20013,{expectedCount:n});else{const u=this.ot(t);if(u!==n){const h=this._t(e),d=h?this.ut(h,e,u):1;if(d!==0){this.rt(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,p)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:l=0}=t;let u,h;try{u=Hs(n).toUint8Array()}catch(d){if(d instanceof LS)return Bs("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new dy(u,a,l)}catch(d){return Bs(d instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.fe===0?null:h}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let a=0;return n.forEach(l=>{const u=this.We.lt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.Xe(t,l,null),a++)}),a}Pt(e){const t=new Map;this.Ge.forEach((l,u)=>{const h=this.st(u);if(h){if(l.current&&a_(h.target)){const d=new _e(h.target.path);this.Tt(d).has(u)||this.It(u,d)||this.Xe(u,d,cn.newNoDocument(d,e))}l.Ne&&(t.set(u,l.Le()),l.ke())}});let n=Ve();this.Je.forEach((l,u)=>{let h=!0;u.forEachWhile(d=>{const p=this.st(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(n=n.add(l))}),this.ze.forEach((l,u)=>u.setReadTime(e));const a=new Jd(e,t,this.He,this.ze,n);return this.ze=Yr(),this.je=Pf(),this.Je=Pf(),this.He=new mt(De),a}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const a=this.tt(e);this.It(e,t)?a.qe(t,1):a.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Gw,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new zt(De),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new zt(De),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Gw),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Pf(){return new mt(_e.comparator)}function $w(){return new mt(_e.comparator)}const zk={asc:"ASCENDING",desc:"DESCENDING"},jk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bk={and:"AND",or:"OR"};class Fk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function u_(r,e){return r.useProto3Json||$d(e)?e:{value:e}}function gd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function qk(r,e){return gd(r,e.toTimestamp())}function Ji(r){return $e(!!r,49232),Se.fromTimestamp(function(t){const n=qs(t);return new at(n.seconds,n.nanos)}(r))}function my(r,e){return c_(r,e).canonicalString()}function c_(r,e){const t=function(a){return new st(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?t:t.child(e)}function p1(r){const e=st.fromString(r);return $e(T1(e),10190,{key:e.toString()}),e}function h_(r,e){return my(r.databaseId,e.path)}function Og(r,e){const t=p1(e);if(t.get(1)!==r.databaseId.projectId)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e(_1(t))}function g1(r,e){return my(r.databaseId,e)}function Hk(r){const e=p1(r);return e.length===4?st.emptyPath():_1(e)}function f_(r){return new st(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _1(r){return $e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Yw(r,e,t){return{name:h_(r,e),fields:t.value.mapValue.fields}}function Gk(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,_){return p.useProto3Json?($e(_===void 0||typeof _=="string",58123),rn.fromBase64String(_||"")):($e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),rn.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const _=p.code===void 0?ie.UNKNOWN:h1(p.code);return new he(_,p.message||"")}(u);t=new d1(n,a,l,h||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=Og(r,n.document.name),l=Ji(n.document.updateTime),u=n.document.createTime?Ji(n.document.createTime):Se.min(),h=new oi({mapValue:{fields:n.document.fields}}),d=cn.newFoundDocument(a,l,u,h),p=n.targetIds||[],_=n.removedTargetIds||[];t=new Yf(p,_,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=Og(r,n.document),l=n.readTime?Ji(n.readTime):Se.min(),u=cn.newNoDocument(a,l),h=n.removedTargetIds||[];t=new Yf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=Og(r,n.document),l=n.removedTargetIds||[];t=new Yf([],l,a,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:l}=n,u=new kk(a,l),h=n.targetId;t=new f1(h,u)}}return t}function $k(r,e){let t;if(e instanceof Wc)t={update:Yw(r,e.key,e.value)};else if(e instanceof c1)t={delete:h_(r,e.key)};else if(e instanceof go)t={update:Yw(r,e.key,e.data),updateMask:tV(e.fieldMask)};else{if(!(e instanceof Nk))return Ee(16599,{Rt:e.type});t={verify:h_(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(l,u){const h=u.transform;if(h instanceof md)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Nc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Pc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof pd)return{fieldPath:u.field.canonicalString(),increment:h.Ee};throw Ee(20930,{transform:u.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:qk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)}(r,e.precondition)),t}function Yk(r,e){return r&&r.length>0?($e(e!==void 0,14353),r.map(t=>function(a,l){let u=a.updateTime?Ji(a.updateTime):Ji(l);return u.isEqual(Se.min())&&(u=Ji(l)),new Ok(u,a.transformResults||[])}(t,e))):[]}function Kk(r,e){return{documents:[g1(r,e.path)]}}function Qk(r,e){const t={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=g1(r,a);const l=function(p){if(p.length!==0)return v1(Ci.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(p){if(p.length!==0)return p.map(_=>function(T){return{field:ml(T.field),direction:Zk(T.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=u_(r,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:t,parent:a}}function Xk(r){let e=Hk(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let a=null;if(n>0){$e(n===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(v){const T=y1(v);return T instanceof Ci&&YS(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(T=>function(I){return new xc(pl(I.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(v){let T;return T=typeof v=="object"?v.value:v,$d(T)?null:T}(t.limit));let d=null;t.startAt&&(d=function(v){const T=!!v.before,b=v.values||[];return new dd(b,T)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const T=!v.before,b=v.values||[];return new dd(b,T)}(t.endAt)),gk(e,a,u,l,h,"F",d,p)}function Wk(r,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function y1(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=pl(t.unaryFilter.field);return Nt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=pl(t.unaryFilter.field);return Nt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=pl(t.unaryFilter.field);return Nt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=pl(t.unaryFilter.field);return Nt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(r):r.fieldFilter!==void 0?function(t){return Nt.create(pl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Ci.create(t.compositeFilter.filters.map(n=>y1(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(r):Ee(30097,{filter:r})}function Zk(r){return zk[r]}function Jk(r){return jk[r]}function eV(r){return Bk[r]}function ml(r){return{fieldPath:r.canonicalString()}}function pl(r){return tn.fromServerFormat(r.fieldPath)}function v1(r){return r instanceof Nt?function(t){if(t.op==="=="){if(Mw(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NAN"}};if(Pw(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Mw(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NOT_NAN"}};if(Pw(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(t.field),op:Jk(t.op),value:t.value}}}(r):r instanceof Ci?function(t){const n=t.getFilters().map(a=>v1(a));return n.length===1?n[0]:{compositeFilter:{op:eV(t.op),filters:n}}}(r):Ee(54877,{filter:r})}function tV(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function T1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,n,a,l=Se.min(),u=Se.min(),h=rn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.gt=e}}function iV(r){const e=Xk({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?l_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.Dn=new sV}addToCollectionParentIndex(e,t){return this.Dn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Fs.min())}updateCollectionGroup(e,t,n){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class sV{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t]||new zt(st.comparator),l=!a.has(n);return this.index[t]=a.add(n),l}has(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t];return a&&a.has(n)}getEntries(e){return(this.index[e]||new zt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},E1=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(E1,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Cl(0)}static ur(){return new Cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="LruGarbageCollector",aV=1048576;function Xw([r,e],[t,n]){const a=De(r,t);return a===0?De(e,n):a}class oV{constructor(e){this.Tr=e,this.buffer=new zt(Xw),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();Xw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lV{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){fe(Qw,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bl(t)?fe(Qw,"Ignoring IndexedDB error during garbage collection: ",t):await jl(t)}await this.Rr(3e5)})}}class uV{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Gd.ue);const n=new oV(t);return this.Vr.forEachTarget(e,a=>n.Er(a.sequenceNumber)).next(()=>this.Vr.gr(e,a=>n.Er(a))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(Kw)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kw):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,a,l,u,h,d,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(n=v,h=Date.now(),this.removeTargets(e,n,t))).next(v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,n))).next(v=>(p=Date.now(),fl()<=ke.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-_}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v})))}}function cV(r,e){return new uV(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.changes=new po(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?se.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,t,n,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(n!==null&&_c(n.mutation,a,wi.empty(),at.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Ve()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Ve()){const a=$a();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,n).next(l=>{let u=ac();return l.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const n=$a();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Ve()))}populateOverlays(e,t,n){const a=[];return n.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,n,a){let l=Yr();const u=gc(),h=function(){return gc()}();return t.forEach((d,p)=>{const _=n.get(p.key);a.has(p.key)&&(_===void 0||_.mutation instanceof go)?l=l.insert(p.key,p):_!==void 0?(u.set(p.key,_.mutation.getFieldMask()),_c(_.mutation,p,_.mutation.getFieldMask(),at.now())):u.set(p.key,wi.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((p,_)=>u.set(p,_)),t.forEach((p,_)=>{var v;return h.set(p,new fV(_,(v=u.get(p))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,t){const n=gc();let a=new mt((u,h)=>u-h),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let _=n.get(d)||wi.empty();_=h.applyToLocalView(p,_),n.set(d,_);const v=(a.get(h.batchId)||Ve()).add(d);a=a.insert(h.batchId,v)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,_=d.value,v=n1();_.forEach(T=>{if(!l.has(T)){const b=l1(t.get(T),n.get(T));b!==null&&v.set(T,b),l=l.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return se.waitFor(u)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,a){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,a):this.getDocumentsMatchingCollectionQuery(e,t,n,a)}getNextDocuments(e,t,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,a-l.size):se.resolve($a());let h=Ic,d=l;return u.next(p=>se.forEach(p,(_,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(_)?se.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{d=d.insert(_,T)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,d,p,Ve())).next(_=>({batchId:h,changes:t1(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(n=>{let a=ac();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,n,a){const l=t.collectionGroup;let u=ac();return this.indexManager.getCollectionParents(e,l).next(h=>se.forEach(h,d=>{const p=function(v,T){return new Fl(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,n,a).next(_=>{_.forEach((v,T)=>{u=u.insert(v,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,n,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,l,a))).next(u=>{l.forEach((d,p)=>{const _=p.getKey();u.get(_)===null&&(u=u.insert(_,cn.newInvalidDocument(_)))});let h=ac();return u.forEach((d,p)=>{const _=l.get(d);_!==void 0&&_c(_.mutation,p,wi.empty(),at.now()),Xd(t,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return se.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ji(a.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(a){return{name:a.name,query:iV(a.bundledQuery),readTime:Ji(a.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.overlays=new mt(_e.comparator),this.kr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const n=$a();return se.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&n.set(a,l)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((a,l)=>{this.wt(e,t,l)}),se.resolve()}removeOverlaysForBatchId(e,t,n){const a=this.kr.get(n);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(n)),se.resolve()}getOverlaysForCollection(e,t,n){const a=$a(),l=t.length+1,u=new _e(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>n&&a.set(d.getKey(),d)}return se.resolve(a)}getOverlaysForCollectionGroup(e,t,n,a){let l=new mt((p,_)=>p-_);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>n){let _=l.get(p.largestBatchId);_===null&&(_=$a(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const h=$a(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,_)=>h.set(p,_)),!(h.size()>=a)););return se.resolve(h)}wt(e,t,n){const a=this.overlays.get(n.key);if(a!==null){const u=this.kr.get(a.largestBatchId).delete(n.key);this.kr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new Mk(t,n));let l=this.kr.get(t);l===void 0&&(l=Ve(),this.kr.set(t,l)),this.kr.set(t,l.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this.qr=new zt(Yt.Qr),this.$r=new zt(Yt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new Yt(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Wr(new Yt(e,t))}Gr(e,t){e.forEach(n=>this.removeReference(n,t))}zr(e){const t=new _e(new st([])),n=new Yt(t,e),a=new Yt(t,e+1),l=[];return this.$r.forEachInRange([n,a],u=>{this.Wr(u),l.push(u.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new _e(new st([])),n=new Yt(t,e),a=new Yt(t,e+1);let l=Ve();return this.$r.forEachInRange([n,a],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Yt(e,0),n=this.qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Yt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return _e.comparator(e.key,t.key)||De(e.Hr,t.Hr)}static Ur(e,t){return De(e.Hr,t.Hr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new zt(Yt.Qr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,a){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Pk(l,t,n,a);this.mutationQueue.push(u);for(const h of a)this.Yr=this.Yr.add(new Yt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,a=this.Xr(n),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?ay:this.er-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Yt(t,0),a=new Yt(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([n,a],u=>{const h=this.Zr(u.Hr);l.push(h)}),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new zt(De);return t.forEach(a=>{const l=new Yt(a,0),u=new Yt(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,u],h=>{n=n.add(h.Hr)})}),se.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,a=n.length+1;let l=n;_e.isDocumentKey(l)||(l=l.child(""));const u=new Yt(new _e(l),0);let h=new zt(De);return this.Yr.forEachWhile(d=>{const p=d.key.path;return!!n.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Hr)),!0)},u),se.resolve(this.ei(h))}ei(e){const t=[];return e.forEach(n=>{const a=this.Zr(n);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){$e(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Yr;return se.forEach(t.mutations,a=>{const l=new Yt(a.key,t.batchId);return n=n.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new Yt(t,0),a=this.Yr.firstAfterOrEqual(n);return se.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.ni=e,this.docs=function(){return new mt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,a=this.docs.get(n),l=a?a.size:0,u=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return se.resolve(n?n.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let n=Yr();return t.forEach(a=>{const l=this.docs.get(a);n=n.insert(a,l?l.document.mutableCopy():cn.newInvalidDocument(a))}),se.resolve(n)}getDocumentsMatchingQuery(e,t,n,a){let l=Yr();const u=t.path,h=new _e(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:_}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||KM(YM(_),n)<=0||(a.has(_.key)||Xd(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,n,a){Ee(9500)}ri(e,t){return se.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new vV(this)}getSize(e){return se.resolve(this.size)}}class vV extends hV{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?t.push(this.Or.addEntry(e,a)):this.Or.removeEntry(n)}),se.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.persistence=e,this.ii=new po(t=>uy(t),cy),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.si=0,this.oi=new py,this.targetCount=0,this._i=Cl.ar()}forEachTarget(e,t){return this.ii.forEach((n,a)=>t(a)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),se.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Cl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.hr(t),se.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,n){let a=0;const l=[];return this.ii.forEach((u,h)=>{h.sequenceNumber<=t&&n.get(h.targetId)===null&&(this.ii.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),se.waitFor(l).next(()=>a)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return se.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),se.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return se.resolve(n)}containsKey(e,t){return se.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,t){this.ai={},this.overlays={},this.ui=new Gd(0),this.ci=!1,this.ci=!0,this.li=new gV,this.referenceDelegate=e(this),this.hi=new TV(this),this.indexManager=new rV,this.remoteDocumentCache=function(a){return new yV(a)}(n=>this.referenceDelegate.Pi(n)),this.serializer=new nV(t),this.Ti=new mV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new _V(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){fe("MemoryPersistence","Starting transaction:",e);const a=new EV(this.ui.next());return this.referenceDelegate.Ii(),n(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ei(e,t){return se.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class EV extends XM{constructor(e){super(),this.currentSequenceNumber=e}}class gy{constructor(e){this.persistence=e,this.Ai=new py,this.Ri=null}static Vi(e){return new gy(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),se.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(a=>this.mi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.mi.add(l.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.mi,n=>{const a=_e.fromPath(n);return this.fi(e,a).next(l=>{l||t.removeEntry(a,Se.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(n=>{n?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return se.or([()=>se.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class _d{constructor(e,t){this.persistence=e,this.gi=new po(n=>JM(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=cV(this,t)}static Vi(e,t){return new _d(e,t)}Ii(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(a=>n+a))}yr(e){let t=0;return this.gr(e,n=>{t++}).next(()=>t)}gr(e,t){return se.forEach(this.gi,(n,a)=>this.Sr(e,n,a).next(l=>l?se.resolve():t(a)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ri(e,u=>this.Sr(e,u,t).next(h=>{h||(n++,l.removeEntry(u,Se.min()))})).next(()=>l.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),se.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),se.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hf(e.data.value)),t}Sr(e,t,n){return se.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.gi.get(t);return se.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t,n,a){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=a}static Es(e,t){let n=Ve(),a=Ve();for(const l of t.docChanges)switch(l.type){case 0:n=n.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new _y(e,t.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return PD()?8:WM(dn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,a){const l={result:null};return this.ps(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ys(e,t,a,n).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new wV;return this.ws(e,t,u).next(h=>{if(l.result=h,this.Rs)return this.Ss(e,t,u,h.size)})}).next(()=>l.result)}Ss(e,t,n,a){return n.documentReadCount<this.Vs?(fl()<=ke.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",dl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(fl()<=ke.DEBUG&&fe("QueryEngine","Query:",dl(t),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.fs*a?(fl()<=ke.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",dl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(t))):se.resolve())}ps(e,t){if(Uw(t))return se.resolve(null);let n=Wi(t);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=l_(t,null,"F"),n=Wi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(l=>{const u=Ve(...l);return this.gs.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,n).next(d=>{const p=this.bs(t,h);return this.Ds(t,p,u,d.readTime)?this.ps(e,l_(t,null,"F")):this.vs(e,p,t,d)}))})))}ys(e,t,n,a){return Uw(t)||a.isEqual(Se.min())?se.resolve(null):this.gs.getDocuments(e,n).next(l=>{const u=this.bs(t,l);return this.Ds(t,u,n,a)?se.resolve(null):(fl()<=ke.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),dl(t)),this.vs(e,u,t,$M(a,Ic)).next(h=>h))})}bs(e,t){let n=new zt(JS(e));return t.forEach((a,l)=>{Xd(e,l)&&(n=n.add(l))}),n}Ds(e,t,n,a){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ws(e,t,n){return fl()<=ke.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",dl(t)),this.gs.getDocumentsMatchingQuery(e,t,Fs.min(),n)}vs(e,t,n,a){return this.gs.getDocumentsMatchingQuery(e,n,a).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="LocalStore",AV=3e8;class SV{constructor(e,t,n,a){this.persistence=e,this.Cs=t,this.serializer=a,this.Fs=new mt(De),this.Ms=new po(l=>uy(l),cy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dV(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function RV(r,e,t,n){return new SV(r,e,t,n)}async function b1(r,e){const t=Re(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let a;return t.mutationQueue.getAllMutationBatches(n).next(l=>(a=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(n))).next(l=>{const u=[],h=[];let d=Ve();for(const p of a){u.push(p.batchId);for(const _ of p.mutations)d=d.add(_.key)}for(const p of l){h.push(p.batchId);for(const _ of p.mutations)d=d.add(_.key)}return t.localDocuments.getDocuments(n,d).next(p=>({Bs:p,removedBatchIds:u,addedBatchIds:h}))})})}function IV(r,e){const t=Re(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(h,d,p,_){const v=p.batch,T=v.keys();let b=se.resolve();return T.forEach(I=>{b=b.next(()=>_.getEntry(d,I)).next(S=>{const D=p.docVersions.get(I);$e(D!==null,48541),S.version.compareTo(D)<0&&(v.applyToRemoteDocument(S,p),S.isValidDocument()&&(S.setReadTime(p.commitVersion),_.addEntry(S)))})}),b.next(()=>h.mutationQueue.removeMutationBatch(d,v))}(t,n,e,l).next(()=>l.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(h){let d=Ve();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(n,a))})}function A1(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function CV(r,e){const t=Re(r),n=e.snapshotVersion;let a=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});a=t.Fs;const h=[];e.targetChanges.forEach((_,v)=>{const T=a.get(v);if(!T)return;h.push(t.hi.removeMatchingKeys(l,_.removedDocuments,v).next(()=>t.hi.addMatchingKeys(l,_.addedDocuments,v)));let b=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(rn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(_.resumeToken,n)),a=a.insert(v,b),function(S,D,P){return S.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=AV?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(T,b,_)&&h.push(t.hi.updateTargetData(l,b))});let d=Yr(),p=Ve();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),h.push(OV(l,u,e.documentUpdates).next(_=>{d=_.Ls,p=_.ks})),!n.isEqual(Se.min())){const _=t.hi.getLastRemoteSnapshotVersion(l).next(v=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,n));h.push(_)}return se.waitFor(h).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,d,p)).next(()=>d)}).then(l=>(t.Fs=a,l))}function OV(r,e,t){let n=Ve(),a=Ve();return t.forEach(l=>n=n.add(l)),e.getEntries(r,n).next(l=>{let u=Yr();return t.forEach((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Se.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):fe(yy,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{Ls:u,ks:a}})}function DV(r,e){const t=Re(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=ay),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function xV(r,e){const t=Re(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return t.hi.getTargetData(n,e).next(l=>l?(a=l,se.resolve(a)):t.hi.allocateTargetId(n).next(u=>(a=new Os(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.hi.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=t.Fs.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(n.targetId,n),t.Ms.set(e,n.targetId)),n})}async function d_(r,e,t){const n=Re(r),a=n.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",l,u=>n.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Bl(u))throw u;fe(yy,`Failed to update sequence numbers for target ${e}: ${u}`)}n.Fs=n.Fs.remove(e),n.Ms.delete(a.target)}function Ww(r,e,t){const n=Re(r);let a=Se.min(),l=Ve();return n.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,_){const v=Re(d),T=v.Ms.get(_);return T!==void 0?se.resolve(v.Fs.get(T)):v.hi.getTargetData(p,_)}(n,u,Wi(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,n.hi.getMatchingKeysForTargetId(u,h.targetId).next(d=>{l=d})}).next(()=>n.Cs.getDocumentsMatchingQuery(u,e,t?a:Se.min(),t?l:Ve())).next(h=>(NV(n,yk(e),h),{documents:h,qs:l})))}function NV(r,e,t){let n=r.xs.get(e)||Se.min();t.forEach((a,l)=>{l.readTime.compareTo(n)>0&&(n=l.readTime)}),r.xs.set(e,n)}class Zw{constructor(){this.activeTargetIds=Ak()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PV{constructor(){this.Fo=new Zw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Zw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="ConnectivityMonitor";class eb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){fe(Jw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){fe(Jw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf=null;function m_(){return Mf===null?Mf=function(){return 268435456+Math.round(2147483648*Math.random())}():Mf++,"0x"+Mf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="RestConnection",kV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VV{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${a}`,this.Ko=this.databaseId.database===hd?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Wo(e,t,n,a,l){const u=m_(),h=this.Go(e,t.toUriEncodedString());fe(Dg,`Sending RPC '${e}' ${u}:`,h,n);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,a,l);const{host:p}=new URL(h),_=co(p);return this.jo(e,h,d,n,_).then(v=>(fe(Dg,`Received RPC '${e}' ${u}: `,v),v),v=>{throw Bs(Dg,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",n),v})}Jo(e,t,n,a,l,u){return this.Wo(e,t,n,a,l)}zo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),n&&n.headers.forEach((a,l)=>e[l]=a)}Go(e,t){const n=kV[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class UV extends VV{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,a,l){const u=m_();return new Promise((h,d)=>{const p=new SS;p.setWithCredentials(!0),p.listenOnce(RS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case qf.NO_ERROR:const v=p.getResponseJson();fe(ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case qf.TIMEOUT:fe(ln,`RPC '${e}' ${u} timed out`),d(new he(ie.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const T=p.getStatus();if(fe(ln,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const I=b?.error;if(I&&I.status&&I.message){const S=function(P){const F=P.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(F)>=0?F:ie.UNKNOWN}(I.status);d(new he(S,I.message))}else d(new he(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new he(ie.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:u,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{fe(ln,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(a);fe(ln,`RPC '${e}' ${u} sending request:`,a),p.send(t,"POST",_,n,15)})}P_(e,t,n){const a=m_(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=OS(),h=CS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,t,n),d.encodeInitMessageHeaders=!0;const _=l.join("");fe(ln,`Creating RPC '${e}' stream ${a}: ${_}`,d);const v=u.createWebChannel(_,d);this.T_(v);let T=!1,b=!1;const I=new LV({Ho:D=>{b?fe(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(T||(fe(ln,`Opening RPC '${e}' stream ${a} transport.`),v.open(),T=!0),fe(ln,`RPC '${e}' stream ${a} sending:`,D),v.send(D))},Yo:()=>v.close()}),S=(D,P,F)=>{D.listen(P,B=>{try{F(B)}catch(K){setTimeout(()=>{throw K},0)}})};return S(v,sc.EventType.OPEN,()=>{b||(fe(ln,`RPC '${e}' stream ${a} transport opened.`),I.s_())}),S(v,sc.EventType.CLOSE,()=>{b||(b=!0,fe(ln,`RPC '${e}' stream ${a} transport closed`),I.__(),this.I_(v))}),S(v,sc.EventType.ERROR,D=>{b||(b=!0,Bs(ln,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),I.__(new he(ie.UNAVAILABLE,"The operation could not be completed")))}),S(v,sc.EventType.MESSAGE,D=>{var P;if(!b){const F=D.data[0];$e(!!F,16349);const B=F,K=B?.error||((P=B[0])===null||P===void 0?void 0:P.error);if(K){fe(ln,`RPC '${e}' stream ${a} received error:`,K);const H=K.status;let ee=function(C){const M=Ot[C];if(M!==void 0)return h1(M)}(H),x=K.message;ee===void 0&&(ee=ie.INTERNAL,x="Unknown error status: "+H+" with message "+K.message),b=!0,I.__(new he(ee,x)),v.close()}else fe(ln,`RPC '${e}' stream ${a} received:`,F),I.a_(F)}}),S(h,IS.STAT_EVENT,D=>{D.stat===t_.PROXY?fe(ln,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===t_.NOPROXY&&fe(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{I.o_()},0),I}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function xg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(r){return new Fk(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,t,n=1e3,a=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=n,this.E_=a,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),a=Math.max(0,t-n);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="PersistentStream";class R1{constructor(e,t,n,a,l,u,h,d){this.Fi=e,this.w_=n,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new S1(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?($r(t.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.b_===t&&this.W_(n,a)},n=>{e(()=>{const a=new he(ie.UNKNOWN,"Fetching auth token failed: "+n.message);return this.G_(a)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{n(()=>this.G_(a))}),this.stream.onMessage(a=>{n(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return fe(tb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(fe(tb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zV extends R1{constructor(e,t,n,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,a,u),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=Gk(this.serializer,e),n=function(l){if(!("targetChange"in l))return Se.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?Ji(u.readTime):Se.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=f_(this.serializer),t.addTarget=function(l,u){let h;const d=u.target;if(h=a_(d)?{documents:Kk(l,d)}:{query:Qk(l,d).Vt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=m1(l,u.resumeToken);const p=u_(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Se.min())>0){h.readTime=gd(l,u.snapshotVersion.toTimestamp());const p=u_(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const n=Wk(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=f_(this.serializer),t.removeTarget=e,this.k_(t)}}class jV extends R1{constructor(e,t,n,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,a,u),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=Yk(e.writeResults,e.commitTime),n=Ji(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=f_(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>$k(this.serializer,n))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{}class FV extends BV{constructor(e,t,n,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(e,c_(t,n),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ie.UNKNOWN,l.toString())})}Jo(e,t,n,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Jo(e,c_(t,n),a,u,h,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ie.UNKNOWN,u.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class qV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?($r(t),this._a=!1):fe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="RemoteStore";class HV{constructor(e,t,n,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(u=>{n.enqueueAndForget(async()=>{_o(this)&&(fe(so,"Restarting streams for network reachability change."),await async function(d){const p=Re(d);p.Ia.add(4),await Jc(p),p.Aa.set("Unknown"),p.Ia.delete(4),await tm(p)}(this))})}),this.Aa=new qV(n,a)}}async function tm(r){if(_o(r))for(const e of r.da)await e(!0)}async function Jc(r){for(const e of r.da)await e(!1)}function I1(r,e){const t=Re(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),wy(t)?Ey(t):ql(t).x_()&&Ty(t,e))}function vy(r,e){const t=Re(r),n=ql(t);t.Ta.delete(e),n.x_()&&C1(t,e),t.Ta.size===0&&(n.x_()?n.B_():_o(t)&&t.Aa.set("Unknown"))}function Ty(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ql(r).H_(e)}function C1(r,e){r.Ra.$e(e),ql(r).Y_(e)}function Ey(r){r.Ra=new Uk({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),ql(r).start(),r.Aa.aa()}function wy(r){return _o(r)&&!ql(r).M_()&&r.Ta.size>0}function _o(r){return Re(r).Ia.size===0}function O1(r){r.Ra=void 0}async function GV(r){r.Aa.set("Online")}async function $V(r){r.Ta.forEach((e,t)=>{Ty(r,e)})}async function YV(r,e){O1(r),wy(r)?(r.Aa.la(e),Ey(r)):r.Aa.set("Unknown")}async function KV(r,e,t){if(r.Aa.set("Online"),e instanceof d1&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ta.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ta.delete(h),a.Ra.removeTarget(h))}(r,e)}catch(n){fe(so,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await yd(r,n)}else if(e instanceof Yf?r.Ra.Ye(e):e instanceof f1?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Se.min()))try{const n=await A1(r.localStore);t.compareTo(n)>=0&&await function(l,u){const h=l.Ra.Pt(u);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=l.Ta.get(p);_&&l.Ta.set(p,_.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,p)=>{const _=l.Ta.get(d);if(!_)return;l.Ta.set(d,_.withResumeToken(rn.EMPTY_BYTE_STRING,_.snapshotVersion)),C1(l,d);const v=new Os(_.target,d,p,_.sequenceNumber);Ty(l,v)}),l.remoteSyncer.applyRemoteEvent(h)}(r,t)}catch(n){fe(so,"Failed to raise snapshot:",n),await yd(r,n)}}async function yd(r,e,t){if(!Bl(e))throw e;r.Ia.add(1),await Jc(r),r.Aa.set("Offline"),t||(t=()=>A1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(so,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await tm(r)})}function D1(r,e){return e().catch(t=>yd(r,t,e))}async function nm(r){const e=Re(r),t=$s(e);let n=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ay;for(;QV(e);)try{const a=await DV(e.localStore,n);if(a===null){e.Pa.length===0&&t.B_();break}n=a.batchId,XV(e,a)}catch(a){await yd(e,a)}x1(e)&&N1(e)}function QV(r){return _o(r)&&r.Pa.length<10}function XV(r,e){r.Pa.push(e);const t=$s(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function x1(r){return _o(r)&&!$s(r).M_()&&r.Pa.length>0}function N1(r){$s(r).start()}async function WV(r){$s(r).na()}async function ZV(r){const e=$s(r);for(const t of r.Pa)e.X_(t.mutations)}async function JV(r,e,t){const n=r.Pa.shift(),a=fy.from(n,e,t);await D1(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),await nm(r)}async function e4(r,e){e&&$s(r).Z_&&await async function(n,a){if(function(u){return Vk(u)&&u!==ie.ABORTED}(a.code)){const l=n.Pa.shift();$s(n).N_(),await D1(n,()=>n.remoteSyncer.rejectFailedWrite(l.batchId,a)),await nm(n)}}(r,e),x1(r)&&N1(r)}async function nb(r,e){const t=Re(r);t.asyncQueue.verifyOperationInProgress(),fe(so,"RemoteStore received new credentials");const n=_o(t);t.Ia.add(3),await Jc(t),n&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await tm(t)}async function t4(r,e){const t=Re(r);e?(t.Ia.delete(2),await tm(t)):e||(t.Ia.add(2),await Jc(t),t.Aa.set("Unknown"))}function ql(r){return r.Va||(r.Va=function(t,n,a){const l=Re(t);return l.ia(),new zV(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(r.datastore,r.asyncQueue,{Zo:GV.bind(null,r),e_:$V.bind(null,r),n_:YV.bind(null,r),J_:KV.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),wy(r)?Ey(r):r.Aa.set("Unknown")):(await r.Va.stop(),O1(r))})),r.Va}function $s(r){return r.ma||(r.ma=function(t,n,a){const l=Re(t);return l.ia(),new jV(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:WV.bind(null,r),n_:e4.bind(null,r),ea:ZV.bind(null,r),ta:JV.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await nm(r)):(await r.ma.stop(),r.Pa.length>0&&(fe(so,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,t,n,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=a,this.removalCallback=l,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,a,l){const u=Date.now()+n,h=new by(e,t,u,a,l);return h.start(n),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ay(r,e){if($r("AsyncQueue",`${e}: ${r}`),Bl(r))return new he(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{static emptySet(e){return new El(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||_e.comparator(t.key,n.key):(t,n)=>_e.comparator(t.key,n.key),this.keyedMap=ac(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=n.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new El;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.fa=new mt(_e.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?e.type!==0&&n.type===3?this.fa=this.fa.insert(t,e):e.type===3&&n.type!==1?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.fa=this.fa.remove(t):e.type===1&&n.type===2?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ol{constructor(e,t,n,a,l,u,h,d,p){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,n,a,l){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Ol(e,t,El.emptySet(t),u,n,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==n[a].type||!t[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class i4{constructor(){this.queries=rb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,n){const a=Re(t),l=a.queries;a.queries=rb(),l.forEach((u,h)=>{for(const d of h.wa)d.onError(n)})})(this,new he(ie.ABORTED,"Firestore shutting down"))}}function rb(){return new po(r=>ZS(r),Qd)}async function Sy(r,e){const t=Re(r);let n=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.ba()&&(n=2):(l=new n4,n=e.ba()?0:1);try{switch(n){case 0:l.ya=await t.onListen(a,!0);break;case 1:l.ya=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=Ay(u,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&Iy(t)}async function Ry(r,e){const t=Re(r),n=e.query;let a=3;const l=t.queries.get(n);if(l){const u=l.wa.indexOf(e);u>=0&&(l.wa.splice(u,1),l.wa.length===0?a=e.ba()?0:1:!l.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function r4(r,e){const t=Re(r);let n=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const h of u.wa)h.Ca(a)&&(n=!0);u.ya=a}}n&&Iy(t)}function s4(r,e,t){const n=Re(r),a=n.queries.get(e);if(a)for(const l of a.wa)l.onError(t);n.queries.delete(e)}function Iy(r){r.Da.forEach(e=>{e.next()})}var p_,sb;(sb=p_||(p_={})).Fa="default",sb.Cache="cache";class Cy{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new Ol(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const n=t!=="Offline";return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==p_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.key=e}}class M1{constructor(e){this.key=e}}class a4{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ve(),this.mutatedKeys=Ve(),this.Xa=JS(e),this.eu=new El(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new ib,a=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,v)=>{const T=a.get(_),b=Xd(this.query,v)?v:null,I=!!T&&this.mutatedKeys.has(T.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let D=!1;T&&b?T.data.isEqual(b.data)?I!==S&&(n.track({type:3,doc:b}),D=!0):this.iu(T,b)||(n.track({type:2,doc:b}),D=!0,(d&&this.Xa(b,d)>0||p&&this.Xa(b,p)<0)&&(h=!0)):!T&&b?(n.track({type:0,doc:b}),D=!0):T&&!b&&(n.track({type:1,doc:T}),D=!0,(d||p)&&(h=!0)),D&&(b?(u=u.add(b),l=S?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),n.track({type:1,doc:_})}return{eu:u,ru:n,Ds:h,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,a){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort((_,v)=>function(b,I){const S=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:D})}};return S(b)-S(I)}(_.type,v.type)||this.Xa(_.doc,v.doc)),this.su(n),a=a!=null&&a;const h=t&&!a?this.ou():[],d=this.Za.size===0&&this.current&&!a?1:0,p=d!==this.Ya;return this.Ya=d,u.length!==0||p?{snapshot:new Ol(this.query,e.eu,l,u,e.mutatedKeys,d===0,p,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:h}:{_u:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ib,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ve(),this.eu.forEach(n=>{this.au(n.key)&&(this.Za=this.Za.add(n.key))});const t=[];return e.forEach(n=>{this.Za.has(n)||t.push(new M1(n))}),this.Za.forEach(n=>{e.has(n)||t.push(new P1(n))}),t}uu(e){this.Ha=e.qs,this.Za=Ve();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ol.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Oy="SyncEngine";class o4{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class l4{constructor(e){this.key=e,this.lu=!1}}class u4{constructor(e,t,n,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new po(h=>ZS(h),Qd),this.Tu=new Map,this.Iu=new Set,this.du=new mt(_e.comparator),this.Eu=new Map,this.Au=new py,this.Ru={},this.Vu=new Map,this.mu=Cl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function c4(r,e,t=!0){const n=j1(r);let a;const l=n.Pu.get(e);return l?(n.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.cu()):a=await k1(n,e,t,!0),a}async function h4(r,e){const t=j1(r);await k1(t,e,!0,!1)}async function k1(r,e,t,n){const a=await xV(r.localStore,Wi(e)),l=a.targetId,u=r.sharedClientState.addLocalQueryTarget(l,t);let h;return n&&(h=await f4(r,e,l,u==="current",a.resumeToken)),r.isPrimaryClient&&t&&I1(r.remoteStore,a),h}async function f4(r,e,t,n,a){r.gu=(v,T,b)=>async function(S,D,P,F){let B=D.view.nu(P);B.Ds&&(B=await Ww(S.localStore,D.query,!1).then(({documents:x})=>D.view.nu(x,B)));const K=F&&F.targetChanges.get(D.targetId),H=F&&F.targetMismatches.get(D.targetId)!=null,ee=D.view.applyChanges(B,S.isPrimaryClient,K,H);return ob(S,D.targetId,ee._u),ee.snapshot}(r,v,T,b);const l=await Ww(r.localStore,e,!0),u=new a4(e,l.qs),h=u.nu(l.documents),d=Zc.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",a),p=u.applyChanges(h,r.isPrimaryClient,d);ob(r,t,p._u);const _=new o4(e,t,u);return r.Pu.set(e,_),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),p.snapshot}async function d4(r,e,t){const n=Re(r),a=n.Pu.get(e),l=n.Tu.get(a.targetId);if(l.length>1)return n.Tu.set(a.targetId,l.filter(u=>!Qd(u,e))),void n.Pu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await d_(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),t&&vy(n.remoteStore,a.targetId),g_(n,a.targetId)}).catch(jl)):(g_(n,a.targetId),await d_(n.localStore,a.targetId,!0))}async function m4(r,e){const t=Re(r),n=t.Pu.get(e),a=t.Tu.get(n.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),vy(t.remoteStore,n.targetId))}async function p4(r,e,t){const n=w4(r);try{const a=await function(u,h){const d=Re(u),p=at.now(),_=h.reduce((b,I)=>b.add(I.key),Ve());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let I=Yr(),S=Ve();return d.Os.getEntries(b,_).next(D=>{I=D,I.forEach((P,F)=>{F.isValidDocument()||(S=S.add(P))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,I)).next(D=>{v=D;const P=[];for(const F of h){const B=xk(F,v.get(F.key).overlayedDocument);B!=null&&P.push(new go(F.key,B,HS(B.value.mapValue),Zi.exists(!0)))}return d.mutationQueue.addMutationBatch(b,p,P,h)}).next(D=>{T=D;const P=D.applyToLocalDocumentSet(v,S);return d.documentOverlayCache.saveOverlays(b,D.batchId,P)})}).then(()=>({batchId:T.batchId,changes:t1(v)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(u,h,d){let p=u.Ru[u.currentUser.toKey()];p||(p=new mt(De)),p=p.insert(h,d),u.Ru[u.currentUser.toKey()]=p}(n,a.batchId,t),await eh(n,a.changes),await nm(n.remoteStore)}catch(a){const l=Ay(a,"Failed to persist write");t.reject(l)}}async function V1(r,e){const t=Re(r);try{const n=await CV(t.localStore,e);e.targetChanges.forEach((a,l)=>{const u=t.Eu.get(l);u&&($e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.lu=!0:a.modifiedDocuments.size>0?$e(u.lu,14607):a.removedDocuments.size>0&&($e(u.lu,42227),u.lu=!1))}),await eh(t,n,e)}catch(n){await jl(n)}}function ab(r,e,t){const n=Re(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const a=[];n.Pu.forEach((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const d=Re(u);d.onlineState=h;let p=!1;d.queries.forEach((_,v)=>{for(const T of v.wa)T.va(h)&&(p=!0)}),p&&Iy(d)}(n.eventManager,e),a.length&&n.hu.J_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function g4(r,e,t){const n=Re(r);n.sharedClientState.updateQueryState(e,"rejected",t);const a=n.Eu.get(e),l=a&&a.key;if(l){let u=new mt(_e.comparator);u=u.insert(l,cn.newNoDocument(l,Se.min()));const h=Ve().add(l),d=new Jd(Se.min(),new Map,new mt(De),u,h);await V1(n,d),n.du=n.du.remove(l),n.Eu.delete(e),Dy(n)}else await d_(n.localStore,e,!1).then(()=>g_(n,e,t)).catch(jl)}async function _4(r,e){const t=Re(r),n=e.batch.batchId;try{const a=await IV(t.localStore,e);U1(t,n,null),L1(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await eh(t,a)}catch(a){await jl(a)}}async function y4(r,e,t){const n=Re(r);try{const a=await function(u,h){const d=Re(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,h).next(v=>($e(v!==null,37113),_=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(n.localStore,e);U1(n,e,t),L1(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await eh(n,a)}catch(a){await jl(a)}}function L1(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function U1(r,e,t){const n=Re(r);let a=n.Ru[n.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),n.Ru[n.currentUser.toKey()]=a}}function g_(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Tu.get(e))r.Pu.delete(n),t&&r.hu.pu(n,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(n=>{r.Au.containsKey(n)||z1(r,n)})}function z1(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(vy(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),Dy(r))}function ob(r,e,t){for(const n of t)n instanceof P1?(r.Au.addReference(n.key,e),v4(r,n)):n instanceof M1?(fe(Oy,"Document no longer in limbo: "+n.key),r.Au.removeReference(n.key,e),r.Au.containsKey(n.key)||z1(r,n.key)):Ee(19791,{yu:n})}function v4(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Iu.has(n)||(fe(Oy,"New document in limbo: "+t),r.Iu.add(n),Dy(r))}function Dy(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new _e(st.fromString(e)),n=r.mu.next();r.Eu.set(n,new l4(t)),r.du=r.du.insert(t,n),I1(r.remoteStore,new Os(Wi(Kd(t.path)),n,"TargetPurposeLimboResolution",Gd.ue))}}async function eh(r,e,t){const n=Re(r),a=[],l=[],u=[];n.Pu.isEmpty()||(n.Pu.forEach((h,d)=>{u.push(n.gu(d,e,t).then(p=>{var _;if((p||t)&&n.isPrimaryClient){const v=p?!p.fromCache:(_=t?.targetChanges.get(d.targetId))===null||_===void 0?void 0:_.current;n.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){a.push(p);const v=_y.Es(d.targetId,p);l.push(v)}}))}),await Promise.all(u),n.hu.J_(a),await async function(d,p){const _=Re(d);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>se.forEach(p,T=>se.forEach(T.Is,b=>_.persistence.referenceDelegate.addReference(v,T.targetId,b)).next(()=>se.forEach(T.ds,b=>_.persistence.referenceDelegate.removeReference(v,T.targetId,b)))))}catch(v){if(!Bl(v))throw v;fe(yy,"Failed to update sequence numbers: "+v)}for(const v of p){const T=v.targetId;if(!v.fromCache){const b=_.Fs.get(T),I=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(I);_.Fs=_.Fs.insert(T,S)}}}(n.localStore,l))}async function T4(r,e){const t=Re(r);if(!t.currentUser.isEqual(e)){fe(Oy,"User change. New user:",e.toKey());const n=await b1(t.localStore,e);t.currentUser=e,function(l,u){l.Vu.forEach(h=>{h.forEach(d=>{d.reject(new he(ie.CANCELLED,u))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await eh(t,n.Bs)}}function E4(r,e){const t=Re(r),n=t.Eu.get(e);if(n&&n.lu)return Ve().add(n.key);{let a=Ve();const l=t.Tu.get(e);if(!l)return a;for(const u of l){const h=t.Pu.get(u);a=a.unionWith(h.view.tu)}return a}}function j1(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=V1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g4.bind(null,e),e.hu.J_=r4.bind(null,e.eventManager),e.hu.pu=s4.bind(null,e.eventManager),e}function w4(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y4.bind(null,e),e}class vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=em(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return RV(this.persistence,new bV,e.initialUser,this.serializer)}Du(e){return new w1(gy.Vi,this.serializer)}bu(e){return new PV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vd.provider={build:()=>new vd};class b4 extends vd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){$e(this.persistence.referenceDelegate instanceof _d,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new lV(n,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new w1(n=>_d.Vi(n,t),this.serializer)}}class __{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>ab(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=T4.bind(null,this.syncEngine),await t4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i4}()}createDatastore(e){const t=em(e.databaseInfo.databaseId),n=function(l){return new UV(l)}(e.databaseInfo);return function(l,u,h,d){return new FV(l,u,h,d)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,a,l,u,h){return new HV(n,a,l,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>ab(this.syncEngine,t,0),function(){return eb.C()?new eb:new MV}())}createSyncEngine(e,t){return function(a,l,u,h,d,p,_){const v=new u4(a,l,u,h,d,p);return _&&(v.fu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Re(a);fe(so,"RemoteStore shutting down."),l.Ia.add(5),await Jc(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}__.provider={build:()=>new __};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="FirestoreClient";class A4{constructor(e,t,n,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=sy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(n,async u=>{fe(Ys,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(n,u=>(fe(Ys,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ay(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ng(r,e){r.asyncQueue.verifyOperationInProgress(),fe(Ys,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async a=>{n.isEqual(a)||(await b1(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>{Bs("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{fe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{Bs("Terminating Firestore due to IndexedDb database deletion failed",a)})}),r._offlineComponents=e}async function lb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await S4(r);fe(Ys,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>nb(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,a)=>nb(e.remoteStore,a)),r._onlineComponents=e}async function S4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(Ys,"Using user provided OfflineComponentProvider");try{await Ng(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Bs("Error using user provided cache. Falling back to memory cache: "+t),await Ng(r,new vd)}}else fe(Ys,"Using default OfflineComponentProvider"),await Ng(r,new b4(void 0));return r._offlineComponents}async function B1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(Ys,"Using user provided OnlineComponentProvider"),await lb(r,r._uninitializedComponentsProvider._online)):(fe(Ys,"Using default OnlineComponentProvider"),await lb(r,new __))),r._onlineComponents}function R4(r){return B1(r).then(e=>e.syncEngine)}async function Td(r){const e=await B1(r),t=e.eventManager;return t.onListen=c4.bind(null,e.syncEngine),t.onUnlisten=d4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=h4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=m4.bind(null,e.syncEngine),t}function I4(r,e,t={}){const n=new Fr;return r.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,p){const _=new xy({next:T=>{_.Ou(),u.enqueueAndForget(()=>Ry(l,v));const b=T.docs.has(h);!b&&T.fromCache?p.reject(new he(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&T.fromCache&&d&&d.source==="server"?p.reject(new he(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new Cy(Kd(h.path),_,{includeMetadataChanges:!0,ka:!0});return Sy(l,v)}(await Td(r),r.asyncQueue,e,t,n)),n.promise}function C4(r,e,t={}){const n=new Fr;return r.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,p){const _=new xy({next:T=>{_.Ou(),u.enqueueAndForget(()=>Ry(l,v)),T.fromCache&&d.source==="server"?p.reject(new he(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new Cy(h,_,{includeMetadataChanges:!0,ka:!0});return Sy(l,v)}(await Td(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="firestore.googleapis.com",cb=!0;class hb{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=q1,this.ssl=cb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:cb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=E1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aV)throw new he(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F1((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class im{constructor(e,t,n,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new VM;switch(n.type){case"firstParty":return new jM(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new he(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=ub.get(t);n&&(fe("ComponentProvider","Removing Datastore"),ub.delete(t),n.terminate())}(this),Promise.resolve()}}function O4(r,e,t,n={}){var a;r=Si(r,im);const l=co(e),u=r._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),d=`${e}:${t}`;l&&(z_(`https://${d}`),j_("Firestore",!0)),u.host!==q1&&u.host!==d&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:l,emulatorOptions:n});if(!js(p,h)&&(r._setSettings(p),n.mockUserToken)){let _,v;if(typeof n.mockUserToken=="string")_=n.mockUserToken,v=un.MOCK_USER;else{_=dA(n.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const T=n.mockUserToken.sub||n.mockUserToken.user_id;if(!T)throw new he(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new un(T)}r._authCredentials=new LM(new xS(_,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class At{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Xc(t,At._jsonSchema))return new At(e,n||null,new _e(st.fromString(t.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Pt("string",At._jsonSchemaVersion),referencePath:Pt("string")};class Ls extends ea{constructor(e,t,n){super(e,t,Kd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new _e(e))}withConverter(e){return new Ls(this.firestore,e,this._path)}}function Ny(r,e,...t){if(r=jt(r),PS("collection","path",e),r instanceof im){const n=st.fromString(e,...t);return Aw(n),new Ls(r,null,n)}{if(!(r instanceof At||r instanceof Ls))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(st.fromString(e,...t));return Aw(n),new Ls(r.firestore,null,n)}}function Mc(r,e,...t){if(r=jt(r),arguments.length===1&&(e=sy.newId()),PS("doc","path",e),r instanceof im){const n=st.fromString(e,...t);return bw(n),new At(r,null,new _e(n))}{if(!(r instanceof At||r instanceof Ls))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(st.fromString(e,...t));return bw(n),new At(r.firestore,r instanceof Ls?r.converter:null,new _e(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="AsyncQueue";class db{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new S1(this,"async_queue_retry"),this.oc=()=>{const n=xg();n&&fe(fb,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=e;const t=xg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=xg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Fr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Bl(e))throw e;fe(fb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(n=>{throw this.tc=n,this.nc=!1,$r("INTERNAL UNHANDLED ERROR: ",mb(n)),n}).then(n=>(this.nc=!1,n))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const a=by.createAndSchedule(this,e,t,n,l=>this.lc(l));return this.ec.push(a),a}ac(){this.tc&&Ee(47125,{hc:mb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function mb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of n)if(l in a&&typeof a[l]=="function")return!0;return!1}(r,["next","error","complete"])}class ao extends im{constructor(e,t,n,a){super(e,t,n,a),this.type="firestore",this._queue=new db,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new db(e),this._firestoreClient=void 0,await e}}}function D4(r,e){const t=typeof r=="object"?r:Ud(),n=typeof r=="string"?r:hd,a=Xs(t,"firestore").getImmediate({identifier:n});if(!a._initialized){const l=cA("firestore");l&&O4(a,...l)}return a}function rm(r){if(r._terminated)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||x4(r),r._firestoreClient}function x4(r){var e,t,n;const a=r._freezeSettings(),l=function(h,d,p,_){return new nk(h,d,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,F1(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new A4(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(h){const d=h?._online.build();return{_offline:h?._offline.build(d),_online:d}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new li(rn.fromBase64String(e))}catch(t){throw new he(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new li(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xc(e,li._jsonSchema))return li.fromBase64String(e.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:Pt("string",li._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:er._jsonSchemaVersion}}static fromJSON(e){if(Xc(e,er._jsonSchema))return new er(e.latitude,e.longitude)}}er._jsonSchemaVersion="firestore/geoPoint/1.0",er._jsonSchema={type:Pt("string",er._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let l=0;l<n.length;++l)if(n[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xc(e,tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new tr(e.vectorValues);throw new he(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}tr._jsonSchemaVersion="firestore/vectorValue/1.0",tr._jsonSchema={type:Pt("string",tr._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=/^__.*__$/;class P4{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new go(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wc(e,this.data,t,this.fieldTransforms)}}function G1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:r})}}class My{constructor(e,t,n,a,l,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=a,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new My(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:n,mc:!1});return a.fc(e),a}gc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:n,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ed(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(G1(this.Ec)&&N4.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class M4{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||em(e)}Dc(e,t,n,a=!1){return new My({Ec:e,methodName:t,bc:n,path:tn.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ky(r){const e=r._freezeSettings(),t=em(r._databaseId);return new M4(r._databaseId,!!e.ignoreUndefinedProperties,t)}function $1(r,e,t,n,a,l={}){const u=r.Dc(l.merge||l.mergeFields?2:0,e,t,a);Q1("Data must be an object, but it was:",u,n);const h=Y1(n,u);let d,p;if(l.merge)d=new wi(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const _=[];for(const v of l.mergeFields){const T=V4(e,v,t);if(!u.contains(T))throw new he(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);U4(_,T)||_.push(T)}d=new wi(_),p=u.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,p=u.fieldTransforms;return new P4(new oi(h),d,p)}function k4(r,e,t,n=!1){return Vy(t,r.Dc(n?4:3,e))}function Vy(r,e){if(K1(r=jt(r)))return Q1("Unsupported field value:",e,r),Y1(r,e);if(r instanceof H1)return function(n,a){if(!G1(a.Ec))throw a.wc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(n,a){const l=[];let u=0;for(const h of n){let d=Vy(h,a.yc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}}(r,e)}return function(n,a){if((n=jt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Sk(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const l=at.fromDate(n);return{timestampValue:gd(a.serializer,l)}}if(n instanceof at){const l=new at(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:gd(a.serializer,l)}}if(n instanceof er)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof li)return{bytesValue:m1(a.serializer,n._byteString)};if(n instanceof At){const l=a.databaseId,u=n.firestore._databaseId;if(!u.isEqual(l))throw a.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:my(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof tr)return function(u,h){return{mapValue:{fields:{[FS]:{stringValue:qS},[fd]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.wc("VectorValues must only contain numeric values.");return hy(h.serializer,p)})}}}}}}(n,a);throw a.wc(`Unsupported field value: ${Hd(n)}`)}(r,e)}function Y1(r,e){const t={};return VS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(r,(n,a)=>{const l=Vy(a,e.Vc(n));l!=null&&(t[n]=l)}),{mapValue:{fields:t}}}function K1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof er||r instanceof li||r instanceof At||r instanceof H1||r instanceof tr)}function Q1(r,e,t){if(!K1(t)||!MS(t)){const n=Hd(t);throw n==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+n)}}function V4(r,e,t){if((e=jt(e))instanceof Py)return e._internalPath;if(typeof e=="string")return X1(r,e);throw Ed("Field path arguments must be of type string or ",r,!1,void 0,t)}const L4=new RegExp("[~\\*/\\[\\]]");function X1(r,e,t){if(e.search(L4)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Py(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ed(r,e,t,n,a){const l=n&&!n.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${n}`),u&&(d+=` in document ${a}`),d+=")"),new he(ie.INVALID_ARGUMENT,h+r+d)}function U4(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t,n,a,l){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class z4 extends W1{data(){return super.data()}}function sm(r,e){return typeof e=="string"?X1(r,e):e instanceof Py?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ly{}class J1 extends Ly{}function eR(r,e,...t){let n=[];e instanceof Ly&&n.push(e),n=n.concat(t),function(l){const u=l.filter(d=>d instanceof Uy).length,h=l.filter(d=>d instanceof am).length;if(u>1||u>0&&h>0)throw new he(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)r=a._apply(r);return r}class am extends J1{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new am(e,t,n)}_apply(e){const t=this._parse(e);return tR(e._query,t),new ea(e.firestore,e.converter,o_(e._query,t))}_parse(e){const t=ky(e.firestore);return function(l,u,h,d,p,_,v){let T;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){_b(v,_);const I=[];for(const S of v)I.push(gb(d,l,S));T={arrayValue:{values:I}}}else T=gb(d,l,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||_b(v,_),T=k4(h,u,v,_==="in"||_==="not-in");return Nt.create(p,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function j4(r,e,t){const n=e,a=sm("where",r);return am._create(a,n,t)}class Uy extends Ly{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Uy(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)tR(u,d),u=o_(u,d)}(e._query,t),new ea(e.firestore,e.converter,o_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zy extends J1{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new zy(e,t)}_apply(e){const t=function(a,l,u){if(a.startAt!==null)throw new he(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new he(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xc(l,u)}(e._query,this._field,this._direction);return new ea(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new Fl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function B4(r,e="asc"){const t=e,n=sm("orderBy",r);return zy._create(n,t)}function gb(r,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new he(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WS(e)&&t.indexOf("/")!==-1)throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(st.fromString(t));if(!_e.isDocumentKey(n))throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Nw(r,new _e(n))}if(t instanceof At)return Nw(r,t._key);throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hd(t)}.`)}function _b(r,e){if(!Array.isArray(r)||r.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tR(r,e){const t=function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(r.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class F4{convertValue(e,t="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return mo(e,(a,l)=>{n[a]=this.convertValue(l,t)}),n}convertVectorValue(e){var t,n,a;const l=(a=(n=(t=e.fields)===null||t===void 0?void 0:t[fd].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(u=>wt(u.doubleValue));return new tr(l)}convertGeoPoint(e){return new er(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Yd(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){const t=qs(e);return new at(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=st.fromString(e);$e(T1(n),9688,{name:e});const a=new Oc(n.get(1),n.get(3)),l=new _e(n.popFirst(5));return a.isEqual(t)||$r(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class lc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ka extends W1{constructor(e,t,n,a,l,u){super(e,t,n,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(sm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ka._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ka._jsonSchema={type:Pt("string",Ka._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Kf extends Ka{data(e={}){return super.data(e)}}class Qa{constructor(e,t,n,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new lc(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Kf(this._firestore,this._userDataWriter,n.key,n,new lc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const d=new Kf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new lc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const d=new Kf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new lc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,_=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),_=u.indexOf(h.doc.key)),{type:q4(h.type),doc:d,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),n.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(r){r=Si(r,At);const e=Si(r.firestore,ao);return I4(rm(e),r._key).then(t=>rR(e,r,t))}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:Pt("string",Qa._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class By extends F4{constructor(e){super(),this.firestore=e}convertBytes(e){return new li(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}}function H4(r){r=Si(r,ea);const e=Si(r.firestore,ao),t=rm(e),n=new By(e);return Z1(r._query),C4(t,r._query).then(a=>new Qa(e,n,r,a))}function G4(r,e,t){r=Si(r,At);const n=Si(r.firestore,ao),a=nR(r.converter,e,t);return iR(n,[$1(ky(n),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Zi.none())])}function $4(r,e){const t=Si(r.firestore,ao),n=Mc(r),a=nR(r.converter,e);return iR(t,[$1(ky(r.firestore),"addDoc",n._key,a,r.converter!==null,{}).toMutation(n._key,Zi.exists(!1))]).then(()=>n)}function Y4(r,...e){var t,n,a;r=jt(r);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||pb(e[u])||(l=e[u++]);const h={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(pb(e[u])){const v=e[u];e[u]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[u+1]=(n=v.error)===null||n===void 0?void 0:n.bind(v),e[u+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let d,p,_;if(r instanceof At)p=Si(r.firestore,ao),_=Kd(r._key.path),d={next:v=>{e[u]&&e[u](rR(p,r,v))},error:e[u+1],complete:e[u+2]};else{const v=Si(r,ea);p=Si(v.firestore,ao),_=v._query;const T=new By(p);d={next:b=>{e[u]&&e[u](new Qa(p,T,v,b))},error:e[u+1],complete:e[u+2]},Z1(r._query)}return function(T,b,I,S){const D=new xy(S),P=new Cy(b,D,I);return T.asyncQueue.enqueueAndForget(async()=>Sy(await Td(T),P)),()=>{D.Ou(),T.asyncQueue.enqueueAndForget(async()=>Ry(await Td(T),P))}}(rm(p),_,h,d)}function iR(r,e){return function(n,a){const l=new Fr;return n.asyncQueue.enqueueAndForget(async()=>p4(await R4(n),a,l)),l.promise}(rm(r),e)}function rR(r,e,t){const n=t.docs.get(e._key),a=new By(r);return new Ka(r,a,e._key,n,new lc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){zl=a})(fo),Ii(new fi("firestore",(n,{instanceIdentifier:a,options:l})=>{const u=n.getProvider("app").getImmediate(),h=new ao(new UM(n.getProvider("auth-internal")),new BM(u,n.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(p.options.projectId,_)}(u,a),u);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),An(yw,vw,e),An(yw,vw,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebasestorage.googleapis.com",K4="storageBucket",Q4=2*60*1e3,X4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends mi{constructor(e,t,n=0){super(Pg(e),`Firebase Storage: ${t} (${Pg(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rr;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rr||(rr={}));function Pg(r){return"storage/"+r}function W4(){const r="An unknown error occurred, please check the error payload for server response.";return new lr(rr.UNKNOWN,r)}function Z4(){return new lr(rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J4(){return new lr(rr.CANCELED,"User canceled the upload/download.")}function eL(r){return new lr(rr.INVALID_URL,"Invalid URL '"+r+"'.")}function tL(r){return new lr(rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function yb(r){return new lr(rr.INVALID_ARGUMENT,r)}function aR(){return new lr(rr.APP_DELETED,"The Firebase app was deleted.")}function nL(r){return new lr(rr.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=bi.makeFromUrl(e,t)}catch{return new bi(e,"")}if(n.path==="")return n;throw tL(e)}static makeFromUrl(e,t){let n=null;const a="([A-Za-z0-9.\\-_]+)";function l(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),d={bucket:1,path:3};function p(K){K.path_=decodeURIComponent(K.path)}const _="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",b=new RegExp(`^https?://${v}/${_}/b/${a}/o${T}`,"i"),I={bucket:1,path:3},S=t===sR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",P=new RegExp(`^https?://${S}/${a}/${D}`,"i"),B=[{regex:h,indices:d,postModify:l},{regex:b,indices:I,postModify:p},{regex:P,indices:{bucket:1,path:2},postModify:p}];for(let K=0;K<B.length;K++){const H=B[K],ee=H.regex.exec(e);if(ee){const x=ee[H.indices.bucket];let R=ee[H.indices.path];R||(R=""),n=new bi(x,R),H.postModify(n);break}}if(n==null)throw eL(e);return n}}class iL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(r,e,t){let n=1,a=null,l=null,u=!1,h=0;function d(){return h===2}let p=!1;function _(...D){p||(p=!0,e.apply(null,D))}function v(D){a=setTimeout(()=>{a=null,r(b,d())},D)}function T(){l&&clearTimeout(l)}function b(D,...P){if(p){T();return}if(D){T(),_.call(null,D,...P);return}if(d()||u){T(),_.call(null,D,...P);return}n<64&&(n*=2);let B;h===1?(h=2,B=0):B=(n+Math.random())*1e3,v(B)}let I=!1;function S(D){I||(I=!0,T(),!p&&(a!==null?(D||(h=2),clearTimeout(a),v(0)):D||(h=1)))}return v(0),l=setTimeout(()=>{u=!0,S(!0)},t),S}function sL(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(r){return r!==void 0}function vb(r,e,t,n){if(n<e)throw yb(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw yb(`Invalid value for '${r}'. Expected ${t} or less.`)}function oL(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const a=e(n)+"="+e(r[n]);t=t+a+"&"}return t=t.slice(0,-1),t}var wd;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(wd||(wd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(r,e){const t=r>=500&&r<600,a=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,t,n,a,l,u,h,d,p,_,v,T=!0,b=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=v,this.retry=T,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,S)=>{this.resolve_=I,this.reject_=S,this.start_()})}start_(){const e=(n,a)=>{if(a){n(!1,new kf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const d=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===wd.NO_ERROR,d=l.getStatus();if(!h||lL(d,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===wd.ABORT;n(!1,new kf(!1,null,_));return}const p=this.successCodes_.indexOf(d)!==-1;n(!0,new kf(p,l))})},t=(n,a)=>{const l=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());aL(d)?l(d):l()}catch(d){u(d)}else if(h!==null){const d=W4();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(a.canceled){const d=this.appDelete_?aR():J4();u(d)}else{const d=Z4();u(d)}};this.canceled_?t(!1,new kf(!1,null,!0)):this.backoffId_=rL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kf{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function cL(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function hL(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fL(r,e){e&&(r["X-Firebase-GMPID"]=e)}function dL(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function mL(r,e,t,n,a,l,u=!0,h=!1){const d=oL(r.urlParams),p=r.url+d,_=Object.assign({},r.headers);return fL(_,e),cL(_,t),hL(_,l),dL(_,n),new uL(p,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function gL(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t){this._service=e,t instanceof bi?this._location=t:this._location=bi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new bd(e,t)}get root(){const e=new bi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gL(this._location.path)}get storage(){return this._service}get parent(){const e=pL(this._location.path);if(e===null)return null;const t=new bi(this._location.bucket,e);return new bd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw nL(e)}}function Tb(r,e){const t=e?.[K4];return t==null?null:bi.makeFromBucketSpec(t,r)}function _L(r,e,t,n={}){r.host=`${e}:${t}`;const a=co(e);a&&(z_(`https://${r.host}/b`),j_("Storage",!0)),r._isUsingEmulator=!0,r._protocol=a?"https":"http";const{mockUserToken:l}=n;l&&(r._overrideAuthToken=typeof l=="string"?l:dA(l,r.app.options.projectId))}class yL{constructor(e,t,n,a,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=sR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Q4,this._maxUploadRetryTime=X4,this._requests=new Set,a!=null?this._bucket=bi.makeFromBucketSpec(a,this._host):this._bucket=Tb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bi.makeFromBucketSpec(this._url,e):this._bucket=Tb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bd(this,e)}_makeRequest(e,t,n,a,l=!0){if(this._deleted)return new iL(aR());{const u=mL(e,this._appId,n,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,a).getPromise()}}const Eb="@firebase/storage",wb="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="storage";function vL(r=Ud(),e){r=jt(r);const n=Xs(r,oR).getImmediate({identifier:e}),a=cA("storage");return a&&TL(n,...a),n}function TL(r,e,t,n={}){_L(r,e,t,n)}function EL(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),a=r.getProvider("app-check-internal");return new yL(t,n,a,e,fo)}function wL(){Ii(new fi(oR,EL,"PUBLIC").setMultipleInstances(!0)),An(Eb,wb,""),An(Eb,wb,"esm2017")}wL();const bL={apiKey:"AIzaSyB3kNew3K9iCh0Z-NZ5W-5i6H-3Qcbj7YI",authDomain:"edumeedapp.firebaseapp.com",projectId:"edumeedapp",storageBucket:"edumeedapp.appspot.com",messagingSenderId:"715351646933",appId:"1:715351646933:web:1de20df0a0f31641bd385c",measurementId:"G-L8JQ615VPL"},om=TA(bL),oo=D4(om),yc=dP(om);vL(om);NM(om);const th=$.createContext(),AL=({children:r})=>{const[e,t]=$.useState(null),[n,a]=$.useState(!0);return $.useEffect(()=>{const l=tN(yc,u=>{t(u),a(!1)});return()=>l()},[]),j.jsx(th.Provider,{value:{currentUser:e},children:!n&&r})},lR=r=>{const[e,t]=$.useState(r?.displayName||""),[n,a]=$.useState(""),[l,u]=$.useState(""),[h,d]=$.useState(null),[p,_]=$.useState(null),[v,T]=$.useState(!0),b=async()=>{if(!r)return;const P=Mc(oo,"users",r.uid),F=await jy(P);if(F.exists()){const B=F.data();B.name&&t(B.name),B.feeling&&a(B.feeling),B.about&&u(B.about),B.photo&&(d(B.photo),_(B.photo))}T(!1)};return $.useEffect(()=>(b(),window.addEventListener("userProfileUpdated",b),()=>window.removeEventListener("userProfileUpdated",b)),[r]),{name:e,setName:t,feeling:n,setFeeling:a,about:l,setAbout:u,photo:h,photoPreview:p,handlePhotoChange:P=>{const F=P.target.files[0];if(F){const B=new FileReader;B.onloadend=()=>{const K=B.result;d(K),_(K)},B.readAsDataURL(F)}},deletePhoto:()=>{d(null),_(null),localStorage.removeItem("userPhoto"),window.dispatchEvent(new Event("userProfileUpdated"))},saveProfile:async()=>{r&&(await G4(Mc(oo,"users",r.uid),{name:e,photo:h,feeling:n,about:l},{merge:!0}),localStorage.setItem("userPhoto",h),localStorage.setItem("userName",e),localStorage.setItem("userFeeling",n),localStorage.setItem("userAbout",l),window.dispatchEvent(new Event("userProfileUpdated")))},loading:v}},bb=[{to:"/",label:"Home",icon:"home.svg"},{to:"/notes",label:"Notes",icon:"notes.svg"},{to:"/news",label:"News",icon:"news.svg"},{to:"/books",label:"Books",icon:"book.svg"}],SL=()=>{const[r,e]=$.useState(!1),t=()=>e(!r),n=$.useRef(null),a=uo(),{currentUser:l}=$.useContext(th),{photo:u,photoPreview:h,loading:d}=lR(l);$.useEffect(()=>{if(!r)return;const _=v=>{n.current&&!n.current.contains(v.target)&&e(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[r]);const p=()=>{l?a("/profile"):a("/login",{state:{from:"/"}})};return j.jsx("div",{children:j.jsxs("nav",{className:"navbar",children:[j.jsxs("div",{className:"navigation",children:[j.jsx("img",{className:`burger ${r?"open":""}`,onClick:t,src:"/EdUmeed-mvp/image/hamburgermenu.svg",alt:"Open menu"}),j.jsx("div",{className:"bgForBody",children:j.jsxs("ol",{ref:n,className:`burger ${r?"show":""}`,children:[j.jsx("img",{src:"/EdUmeed-mvp/image/close.svg",alt:"Close menu",onClick:t}),j.jsx("div",{className:"line"}),bb.map(({to:_,label:v,icon:T})=>j.jsx("li",{children:j.jsx(bc,{to:_,onClick:()=>e(!1),children:j.jsxs("div",{children:[j.jsx("img",{src:`/EdUmeed-mvp/image/${T}`,alt:`${v} icon`}),j.jsx("p",{children:v})]})})},_))]})}),j.jsx("h2",{children:"EdUmeed"}),j.jsx("ul",{children:bb.map(({to:_,label:v})=>j.jsx("li",{children:j.jsx(bc,{to:_,children:v})},_))})]}),j.jsxs("div",{className:"infoZone",children:[j.jsx("input",{className:"inputSearch",type:"text",placeholder:"Search"}),j.jsx("img",{className:"notifactionIcon",src:"/EdUmeed-mvp/image/notifaction.svg",alt:"Notification icon"}),d?j.jsx("div",{className:"spinner"}):j.jsx("img",{className:"profileIcon",src:h||u||"/EdUmeed-mvp/image/profileIcon.svg",alt:"Profile",onClick:p})]})]})})},RL=({image:r,name:e})=>j.jsxs("div",{className:"videoItem-parent",children:[j.jsx("img",{className:"videoItem-image",src:r,alt:e}),j.jsx("p",{className:"videoItem-name",children:e})]}),IL="modulepreload",CL=function(r){return"/EdUmeed-mvp/"+r},Ab={},OL=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let d=function(p){return Promise.all(p.map(_=>Promise.resolve(_).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=d(t.map(p=>{if(p=CL(p),p in Ab)return;Ab[p]=!0;const _=p.endsWith(".css"),v=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const T=document.createElement("link");if(T.rel=_?"stylesheet":IL,_||(T.as="script"),T.crossOrigin="",T.href=p,h&&T.setAttribute("nonce",h),document.head.appendChild(T),_)return new Promise((b,I)=>{T.addEventListener("load",b),T.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var uR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sb=Ps.createContext&&Ps.createContext(uR),DL=["attr","size","title"];function xL(r,e){if(r==null)return{};var t=NL(r,e),n,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(a=0;a<l.length;a++)n=l[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function NL(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Ad(){return Ad=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Ad.apply(this,arguments)}function Rb(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Sd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rb(Object(t),!0).forEach(function(n){PL(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Rb(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function PL(r,e,t){return e=ML(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ML(r){var e=kL(r,"string");return typeof e=="symbol"?e:e+""}function kL(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function cR(r){return r&&r.map((e,t)=>Ps.createElement(e.tag,Sd({key:t},e.attr),cR(e.child)))}function hR(r){return e=>Ps.createElement(VL,Ad({attr:Sd({},r.attr)},e),cR(r.child))}function VL(r){var e=t=>{var{attr:n,size:a,title:l}=r,u=xL(r,DL),h=a||t.size||"1em",d;return t.className&&(d=t.className),r.className&&(d=(d?d+" ":"")+r.className),Ps.createElement("svg",Ad({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,u,{className:d,style:Sd(Sd({color:r.color||t.color},t.style),r.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&Ps.createElement("title",null,l),r.children)};return Sb!==void 0?Ps.createElement(Sb.Consumer,null,t=>e(t)):e(uR)}function LL(r){return hR({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(r)}function UL(r){return hR({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(r)}const zL=$.lazy(()=>OL(()=>import("./index-0hQ3M4X4.js").then(r=>r.i),[])),jL=({clickedItem:r})=>{const e=$.useRef(null),[t,n]=$.useState(!1),a=()=>{const l=e.current?.getInternalPlayer();l&&(t?(l.pauseVideo?.(),n(!1)):(l.playVideo?.(),n(!0)))};return j.jsxs("div",{className:"videoPlayer",children:[j.jsxs("div",{className:"videoPlayerItem",children:[j.jsx($.Suspense,{fallback:j.jsx("div",{className:"loading",children:"Загрузка видео..."}),children:j.jsx(zL,{ref:e,url:r.video,width:"100%",height:"100%",playing:t,controls:!1})}),j.jsx("button",{className:"customPlayButton",onClick:a,children:t?j.jsx(LL,{}):j.jsx(UL,{})})]}),j.jsx("p",{children:r.name}),j.jsx("div",{className:"line"})]})},BL=({list:r,all:e})=>{const t=uo(),n=()=>{t("/courses",{state:{clickedItem:r,all:e}}),window.scrollTo({top:0,behavior:"smooth"})};return j.jsxs("div",{className:"videoListParent",onClick:n,children:[j.jsx("img",{className:"videoListItem",src:r.image,alt:r.name}),j.jsx("p",{children:r.name})]})},FL=()=>{const r=Ri(),e=uo(),t=r.state?.clickedItem,n=r.state?.all||[];if($.useEffect(()=>{t||e("/")},[t,e]),!t)return null;const a=n.filter(l=>l.id!==t.id);return j.jsxs("div",{className:"videoPage",children:[j.jsx(jL,{clickedItem:t}),j.jsx("div",{className:"videoListInPage",children:a.map(l=>j.jsx(BL,{list:l,all:n}))})]})},qL=({item:r})=>{const e=uo(),{currentUser:t}=$.useContext(th),n=a=>{t?e("/courses",{state:{clickedItem:a,all:r}}):e("/login",{state:{from:"/course"}})};return j.jsxs("div",{className:"videoBlock",children:[j.jsx("h2",{className:"title",children:"Explore Courses"}),j.jsx("div",{className:"videoBlockchild",children:r.map(a=>j.jsx("div",{onClick:()=>n(a),children:j.jsx(RL,{image:a.image,name:a.name})},a.id))})]})};function kr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function fR(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Hn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Dl={duration:.5,overwrite:!1,delay:0},Fy,nn,ut,ui=1e8,nt=1/ui,y_=Math.PI*2,HL=y_/4,GL=0,dR=Math.sqrt,$L=Math.cos,YL=Math.sin,Kt=function(e){return typeof e=="string"},yt=function(e){return typeof e=="function"},Kr=function(e){return typeof e=="number"},qy=function(e){return typeof e>"u"},sr=function(e){return typeof e=="object"},Rn=function(e){return e!==!1},Hy=function(){return typeof window<"u"},Vf=function(e){return yt(e)||Kt(e)},mR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},fn=Array.isArray,v_=/(?:-?\.?\d|\.)+/gi,pR=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,gl=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Mg=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,gR=/[+-]=-?[.\d]+/,_R=/[^,'"\[\]\s]+/gi,KL=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ht,Yi,T_,Gy,Gn={},Rd={},yR,vR=function(e){return(Rd=xl(e,Gn))&&Dn},$y=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},kc=function(e,t){return!t&&console.warn(e)},TR=function(e,t){return e&&(Gn[e]=t)&&Rd&&(Rd[e]=t)||Gn},Vc=function(){return 0},QL={suppressEvents:!0,isStart:!0,kill:!1},Qf={suppressEvents:!0,kill:!1},XL={suppressEvents:!0},Yy={},Us=[],E_={},ER,jn={},kg={},Ib=30,Xf=[],Ky="",Qy=function(e){var t=e[0],n,a;if(sr(t)||yt(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(a=Xf.length;a--&&!Xf[a].targetTest(t););n=Xf[a]}for(a=e.length;a--;)e[a]&&(e[a]._gsap||(e[a]._gsap=new GR(e[a],n)))||e.splice(a,1);return e},Xa=function(e){return e._gsap||Qy(ci(e))[0]._gsap},wR=function(e,t,n){return(n=e[t])&&yt(n)?e[t]():qy(n)&&e.getAttribute&&e.getAttribute(t)||n},In=function(e,t){return(e=e.split(",")).forEach(t)||e},bt=function(e){return Math.round(e*1e5)/1e5||0},xt=function(e){return Math.round(e*1e7)/1e7||0},wl=function(e,t){var n=t.charAt(0),a=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+a:n==="-"?e-a:n==="*"?e*a:e/a},WL=function(e,t){for(var n=t.length,a=0;e.indexOf(t[a])<0&&++a<n;);return a<n},Id=function(){var e=Us.length,t=Us.slice(0),n,a;for(E_={},Us.length=0,n=0;n<e;n++)a=t[n],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},Xy=function(e){return!!(e._initted||e._startAt||e.add)},bR=function(e,t,n,a){Us.length&&!nn&&Id(),e.render(t,n,!!(nn&&t<0&&Xy(e))),Us.length&&!nn&&Id()},AR=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(_R).length<2?t:Kt(e)?e.trim():e},SR=function(e){return e},$n=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},ZL=function(e){return function(t,n){for(var a in n)a in t||a==="duration"&&e||a==="ease"||(t[a]=n[a])}},xl=function(e,t){for(var n in t)e[n]=t[n];return e},Cb=function r(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=sr(t[n])?r(e[n]||(e[n]={}),t[n]):t[n]);return e},Cd=function(e,t){var n={},a;for(a in e)a in t||(n[a]=e[a]);return n},vc=function(e){var t=e.parent||ht,n=e.keyframes?ZL(fn(e.keyframes)):$n;if(Rn(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},JL=function(e,t){for(var n=e.length,a=n===t.length;a&&n--&&e[n]===t[n];);return n<0},RR=function(e,t,n,a,l){var u=e[a],h;if(l)for(h=t[l];u&&u[l]>h;)u=u._prev;return u?(t._next=u._next,u._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[a]=t,t._prev=u,t.parent=t._dp=e,t},lm=function(e,t,n,a){n===void 0&&(n="_first"),a===void 0&&(a="_last");var l=t._prev,u=t._next;l?l._next=u:e[n]===t&&(e[n]=u),u?u._prev=l:e[a]===t&&(e[a]=l),t._next=t._prev=t.parent=null},Ks=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Wa=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},eU=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},w_=function(e,t,n,a){return e._startAt&&(nn?e._startAt.revert(Qf):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,a))},tU=function r(e){return!e||e._ts&&r(e.parent)},Ob=function(e){return e._repeat?Nl(e._tTime,e=e.duration()+e._rDelay)*e:0},Nl=function(e,t){var n=Math.floor(e=xt(e/t));return e&&n===e?n-1:n},Od=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},um=function(e){return e._end=xt(e._start+(e._tDur/Math.abs(e._ts||e._rts||nt)||0))},cm=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=xt(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),um(e),n._dirty||Wa(n,e)),e},IR=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Od(e.rawTime(),t),(!t._dur||nh(0,t.totalDuration(),n)-t._tTime>nt)&&t.render(n,!0)),Wa(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-nt}},Ki=function(e,t,n,a){return t.parent&&Ks(t),t._start=xt((Kr(n)?n:n||e!==ht?ai(e,n,t):e._time)+t._delay),t._end=xt(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),RR(e,t,"_first","_last",e._sort?"_start":0),b_(t)||(e._recent=t),a||IR(e,t),e._ts<0&&cm(e,e._tTime),e},CR=function(e,t){return(Gn.ScrollTrigger||$y("scrollTrigger",t))&&Gn.ScrollTrigger.create(t,e)},OR=function(e,t,n,a,l){if(Zy(e,t,l),!e._initted)return 1;if(!n&&e._pt&&!nn&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&ER!==Bn.frame)return Us.push(e),e._lazy=[l,a],1},nU=function r(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||r(t))},b_=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},iU=function(e,t,n,a){var l=e.ratio,u=t<0||!t&&(!e._start&&nU(e)&&!(!e._initted&&b_(e))||(e._ts<0||e._dp._ts<0)&&!b_(e))?0:1,h=e._rDelay,d=0,p,_,v;if(h&&e._repeat&&(d=nh(0,e._tDur,t),_=Nl(d,h),e._yoyo&&_&1&&(u=1-u),_!==Nl(e._tTime,h)&&(l=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==l||nn||a||e._zTime===nt||!t&&e._zTime){if(!e._initted&&OR(e,t,a,n,d))return;for(v=e._zTime,e._zTime=t||(n?nt:0),n||(n=t&&!v),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=d,p=e._pt;p;)p.r(u,p.d),p=p._next;t<0&&w_(e,t,n,!0),e._onUpdate&&!n&&Fn(e,"onUpdate"),d&&e._repeat&&!n&&e.parent&&Fn(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&Ks(e,1),!n&&!nn&&(Fn(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},rU=function(e,t,n){var a;if(n>t)for(a=e._first;a&&a._start<=n;){if(a.data==="isPause"&&a._start>t)return a;a=a._next}else for(a=e._last;a&&a._start>=n;){if(a.data==="isPause"&&a._start<t)return a;a=a._prev}},Pl=function(e,t,n,a){var l=e._repeat,u=xt(t)||0,h=e._tTime/e._tDur;return h&&!a&&(e._time*=u/e._dur),e._dur=u,e._tDur=l?l<0?1e10:xt(u*(l+1)+e._rDelay*l):u,h>0&&!a&&cm(e,e._tTime=e._tDur*h),e.parent&&um(e),n||Wa(e.parent,e),e},Db=function(e){return e instanceof yn?Wa(e):Pl(e,e._dur)},sU={_start:0,endTime:Vc,totalDuration:Vc},ai=function r(e,t,n){var a=e.labels,l=e._recent||sU,u=e.duration()>=ui?l.endTime(!1):e._dur,h,d,p;return Kt(t)&&(isNaN(t)||t in a)?(d=t.charAt(0),p=t.substr(-1)==="%",h=t.indexOf("="),d==="<"||d===">"?(h>=0&&(t=t.replace(/=/,"")),(d==="<"?l._start:l.endTime(l._repeat>=0))+(parseFloat(t.substr(1))||0)*(p?(h<0?l:n).totalDuration()/100:1)):h<0?(t in a||(a[t]=u),a[t]):(d=parseFloat(t.charAt(h-1)+t.substr(h+1)),p&&n&&(d=d/100*(fn(n)?n[0]:n).totalDuration()),h>1?r(e,t.substr(0,h-1),n)+d:u+d)):t==null?u:+t},Tc=function(e,t,n){var a=Kr(t[1]),l=(a?2:1)+(e<2?0:1),u=t[l],h,d;if(a&&(u.duration=t[1]),u.parent=n,e){for(h=u,d=n;d&&!("immediateRender"in h);)h=d.vars.defaults||{},d=Rn(d.vars.inherit)&&d.parent;u.immediateRender=Rn(h.immediateRender),e<2?u.runBackwards=1:u.startAt=t[l-1]}return new Dt(t[0],u,t[l+1])},ta=function(e,t){return e||e===0?t(e):t},nh=function(e,t,n){return n<e?e:n>t?t:n},hn=function(e,t){return!Kt(e)||!(t=KL.exec(e))?"":t[1]},aU=function(e,t,n){return ta(n,function(a){return nh(e,t,a)})},A_=[].slice,DR=function(e,t){return e&&sr(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&sr(e[0]))&&!e.nodeType&&e!==Yi},oU=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(a){var l;return Kt(a)&&!t||DR(a,1)?(l=n).push.apply(l,ci(a)):n.push(a)})||n},ci=function(e,t,n){return ut&&!t&&ut.selector?ut.selector(e):Kt(e)&&!n&&(T_||!Ml())?A_.call((t||Gy).querySelectorAll(e),0):fn(e)?oU(e,n):DR(e)?A_.call(e,0):e?[e]:[]},S_=function(e){return e=ci(e)[0]||kc("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return ci(t,n.querySelectorAll?n:n===e?kc("Invalid scope")||Gy.createElement("div"):e)}},xR=function(e){return e.sort(function(){return .5-Math.random()})},NR=function(e){if(yt(e))return e;var t=sr(e)?e:{each:e},n=Za(t.ease),a=t.from||0,l=parseFloat(t.base)||0,u={},h=a>0&&a<1,d=isNaN(a)||h,p=t.axis,_=a,v=a;return Kt(a)?_=v={center:.5,edges:.5,end:1}[a]||0:!h&&d&&(_=a[0],v=a[1]),function(T,b,I){var S=(I||t).length,D=u[S],P,F,B,K,H,ee,x,R,C;if(!D){if(C=t.grid==="auto"?0:(t.grid||[1,ui])[1],!C){for(x=-ui;x<(x=I[C++].getBoundingClientRect().left)&&C<S;);C<S&&C--}for(D=u[S]=[],P=d?Math.min(C,S)*_-.5:a%C,F=C===ui?0:d?S*v/C-.5:a/C|0,x=0,R=ui,ee=0;ee<S;ee++)B=ee%C-P,K=F-(ee/C|0),D[ee]=H=p?Math.abs(p==="y"?K:B):dR(B*B+K*K),H>x&&(x=H),H<R&&(R=H);a==="random"&&xR(D),D.max=x-R,D.min=R,D.v=S=(parseFloat(t.amount)||parseFloat(t.each)*(C>S?S-1:p?p==="y"?S/C:C:Math.max(C,S/C))||0)*(a==="edges"?-1:1),D.b=S<0?l-S:l,D.u=hn(t.amount||t.each)||0,n=n&&S<0?FR(n):n}return S=(D[T]-D.min)/D.max||0,xt(D.b+(n?n(S):S)*D.v)+D.u}},R_=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var a=xt(Math.round(parseFloat(n)/e)*e*t);return(a-a%1)/t+(Kr(n)?0:hn(n))}},PR=function(e,t){var n=fn(e),a,l;return!n&&sr(e)&&(a=n=e.radius||ui,e.values?(e=ci(e.values),(l=!Kr(e[0]))&&(a*=a)):e=R_(e.increment)),ta(t,n?yt(e)?function(u){return l=e(u),Math.abs(l-u)<=a?l:u}:function(u){for(var h=parseFloat(l?u.x:u),d=parseFloat(l?u.y:0),p=ui,_=0,v=e.length,T,b;v--;)l?(T=e[v].x-h,b=e[v].y-d,T=T*T+b*b):T=Math.abs(e[v]-h),T<p&&(p=T,_=v);return _=!a||p<=a?e[_]:u,l||_===u||Kr(u)?_:_+hn(u)}:R_(e))},MR=function(e,t,n,a){return ta(fn(e)?!t:n===!0?!!(n=0):!a,function(){return fn(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(a=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*a)/a})},lU=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(a){return t.reduce(function(l,u){return u(l)},a)}},uU=function(e,t){return function(n){return e(parseFloat(n))+(t||hn(n))}},cU=function(e,t,n){return VR(e,t,0,1,n)},kR=function(e,t,n){return ta(n,function(a){return e[~~t(a)]})},hU=function r(e,t,n){var a=t-e;return fn(e)?kR(e,r(0,e.length),t):ta(n,function(l){return(a+(l-e)%a)%a+e})},fU=function r(e,t,n){var a=t-e,l=a*2;return fn(e)?kR(e,r(0,e.length-1),t):ta(n,function(u){return u=(l+(u-e)%l)%l||0,e+(u>a?l-u:u)})},Lc=function(e){for(var t=0,n="",a,l,u,h;~(a=e.indexOf("random(",t));)u=e.indexOf(")",a),h=e.charAt(a+7)==="[",l=e.substr(a+7,u-a-7).match(h?_R:v_),n+=e.substr(t,a-t)+MR(h?l:+l[0],h?0:+l[1],+l[2]||1e-5),t=u+1;return n+e.substr(t,e.length-t)},VR=function(e,t,n,a,l){var u=t-e,h=a-n;return ta(l,function(d){return n+((d-e)/u*h||0)})},dU=function r(e,t,n,a){var l=isNaN(e+t)?0:function(b){return(1-b)*e+b*t};if(!l){var u=Kt(e),h={},d,p,_,v,T;if(n===!0&&(a=1)&&(n=null),u)e={p:e},t={p:t};else if(fn(e)&&!fn(t)){for(_=[],v=e.length,T=v-2,p=1;p<v;p++)_.push(r(e[p-1],e[p]));v--,l=function(I){I*=v;var S=Math.min(T,~~I);return _[S](I-S)},n=t}else a||(e=xl(fn(e)?[]:{},e));if(!_){for(d in t)Wy.call(h,e,d,"get",t[d]);l=function(I){return tv(I,h)||(u?e.p:e)}}}return ta(n,l)},xb=function(e,t,n){var a=e.labels,l=ui,u,h,d;for(u in a)h=a[u]-t,h<0==!!n&&h&&l>(h=Math.abs(h))&&(d=u,l=h);return d},Fn=function(e,t,n){var a=e.vars,l=a[t],u=ut,h=e._ctx,d,p,_;if(l)return d=a[t+"Params"],p=a.callbackScope||e,n&&Us.length&&Id(),h&&(ut=h),_=d?l.apply(p,d):l.call(p),ut=u,_},uc=function(e){return Ks(e),e.scrollTrigger&&e.scrollTrigger.kill(!!nn),e.progress()<1&&Fn(e,"onInterrupt"),e},_l,LR=[],UR=function(e){if(e)if(e=!e.name&&e.default||e,Hy()||e.headless){var t=e.name,n=yt(e),a=t&&!n&&e.init?function(){this._props=[]}:e,l={init:Vc,render:tv,add:Wy,kill:OU,modifier:CU,rawVars:0},u={targetTest:0,get:0,getSetter:ev,aliases:{},register:0};if(Ml(),e!==a){if(jn[t])return;$n(a,$n(Cd(e,l),u)),xl(a.prototype,xl(l,Cd(e,u))),jn[a.prop=t]=a,e.targetTest&&(Xf.push(a),Yy[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}TR(t,a),e.register&&e.register(Dn,a,Cn)}else LR.push(e)},tt=255,cc={aqua:[0,tt,tt],lime:[0,tt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,tt],navy:[0,0,128],white:[tt,tt,tt],olive:[128,128,0],yellow:[tt,tt,0],orange:[tt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[tt,0,0],pink:[tt,192,203],cyan:[0,tt,tt],transparent:[tt,tt,tt,0]},Vg=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*tt+.5|0},zR=function(e,t,n){var a=e?Kr(e)?[e>>16,e>>8&tt,e&tt]:0:cc.black,l,u,h,d,p,_,v,T,b,I;if(!a){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),cc[e])a=cc[e];else if(e.charAt(0)==="#"){if(e.length<6&&(l=e.charAt(1),u=e.charAt(2),h=e.charAt(3),e="#"+l+l+u+u+h+h+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return a=parseInt(e.substr(1,6),16),[a>>16,a>>8&tt,a&tt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),a=[e>>16,e>>8&tt,e&tt]}else if(e.substr(0,3)==="hsl"){if(a=I=e.match(v_),!t)d=+a[0]%360/360,p=+a[1]/100,_=+a[2]/100,u=_<=.5?_*(p+1):_+p-_*p,l=_*2-u,a.length>3&&(a[3]*=1),a[0]=Vg(d+1/3,l,u),a[1]=Vg(d,l,u),a[2]=Vg(d-1/3,l,u);else if(~e.indexOf("="))return a=e.match(pR),n&&a.length<4&&(a[3]=1),a}else a=e.match(v_)||cc.transparent;a=a.map(Number)}return t&&!I&&(l=a[0]/tt,u=a[1]/tt,h=a[2]/tt,v=Math.max(l,u,h),T=Math.min(l,u,h),_=(v+T)/2,v===T?d=p=0:(b=v-T,p=_>.5?b/(2-v-T):b/(v+T),d=v===l?(u-h)/b+(u<h?6:0):v===u?(h-l)/b+2:(l-u)/b+4,d*=60),a[0]=~~(d+.5),a[1]=~~(p*100+.5),a[2]=~~(_*100+.5)),n&&a.length<4&&(a[3]=1),a},jR=function(e){var t=[],n=[],a=-1;return e.split(zs).forEach(function(l){var u=l.match(gl)||[];t.push.apply(t,u),n.push(a+=u.length+1)}),t.c=n,t},Nb=function(e,t,n){var a="",l=(e+a).match(zs),u=t?"hsla(":"rgba(",h=0,d,p,_,v;if(!l)return e;if(l=l.map(function(T){return(T=zR(T,t,1))&&u+(t?T[0]+","+T[1]+"%,"+T[2]+"%,"+T[3]:T.join(","))+")"}),n&&(_=jR(e),d=n.c,d.join(a)!==_.c.join(a)))for(p=e.replace(zs,"1").split(gl),v=p.length-1;h<v;h++)a+=p[h]+(~d.indexOf(h)?l.shift()||u+"0,0,0,0)":(_.length?_:l.length?l:n).shift());if(!p)for(p=e.split(zs),v=p.length-1;h<v;h++)a+=p[h]+l[h];return a+p[v]},zs=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in cc)r+="|"+e+"\\b";return new RegExp(r+")","gi")}(),mU=/hsl[a]?\(/,BR=function(e){var t=e.join(" "),n;if(zs.lastIndex=0,zs.test(t))return n=mU.test(t),e[1]=Nb(e[1],n),e[0]=Nb(e[0],n,jR(e[1])),!0},Uc,Bn=function(){var r=Date.now,e=500,t=33,n=r(),a=n,l=1e3/240,u=l,h=[],d,p,_,v,T,b,I=function S(D){var P=r()-a,F=D===!0,B,K,H,ee;if((P>e||P<0)&&(n+=P-t),a+=P,H=a-n,B=H-u,(B>0||F)&&(ee=++v.frame,T=H-v.time*1e3,v.time=H=H/1e3,u+=B+(B>=l?4:l-B),K=1),F||(d=p(S)),K)for(b=0;b<h.length;b++)h[b](H,T,ee,D)};return v={time:0,frame:0,tick:function(){I(!0)},deltaRatio:function(D){return T/(1e3/(D||60))},wake:function(){yR&&(!T_&&Hy()&&(Yi=T_=window,Gy=Yi.document||{},Gn.gsap=Dn,(Yi.gsapVersions||(Yi.gsapVersions=[])).push(Dn.version),vR(Rd||Yi.GreenSockGlobals||!Yi.gsap&&Yi||{}),LR.forEach(UR)),_=typeof requestAnimationFrame<"u"&&requestAnimationFrame,d&&v.sleep(),p=_||function(D){return setTimeout(D,u-v.time*1e3+1|0)},Uc=1,I(2))},sleep:function(){(_?cancelAnimationFrame:clearTimeout)(d),Uc=0,p=Vc},lagSmoothing:function(D,P){e=D||1/0,t=Math.min(P||33,e)},fps:function(D){l=1e3/(D||240),u=v.time*1e3+l},add:function(D,P,F){var B=P?function(K,H,ee,x){D(K,H,ee,x),v.remove(B)}:D;return v.remove(D),h[F?"unshift":"push"](B),Ml(),B},remove:function(D,P){~(P=h.indexOf(D))&&h.splice(P,1)&&b>=P&&b--},_listeners:h},v}(),Ml=function(){return!Uc&&Bn.wake()},Ue={},pU=/^[\d.\-M][\d.\-,\s]/,gU=/["']/g,_U=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),a=n[0],l=1,u=n.length,h,d,p;l<u;l++)d=n[l],h=l!==u-1?d.lastIndexOf(","):d.length,p=d.substr(0,h),t[a]=isNaN(p)?p.replace(gU,"").trim():+p,a=d.substr(h+1).trim();return t},yU=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),a=e.indexOf("(",t);return e.substring(t,~a&&a<n?e.indexOf(")",n+1):n)},vU=function(e){var t=(e+"").split("("),n=Ue[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[_U(t[1])]:yU(e).split(",").map(AR)):Ue._CE&&pU.test(e)?Ue._CE("",e):n},FR=function(e){return function(t){return 1-e(1-t)}},qR=function r(e,t){for(var n=e._first,a;n;)n instanceof yn?r(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?r(n.timeline,t):(a=n._ease,n._ease=n._yEase,n._yEase=a,n._yoyo=t)),n=n._next},Za=function(e,t){return e&&(yt(e)?e:Ue[e]||vU(e))||t},yo=function(e,t,n,a){n===void 0&&(n=function(d){return 1-t(1-d)}),a===void 0&&(a=function(d){return d<.5?t(d*2)/2:1-t((1-d)*2)/2});var l={easeIn:t,easeOut:n,easeInOut:a},u;return In(e,function(h){Ue[h]=Gn[h]=l,Ue[u=h.toLowerCase()]=n;for(var d in l)Ue[u+(d==="easeIn"?".in":d==="easeOut"?".out":".inOut")]=Ue[h+"."+d]=l[d]}),l},HR=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Lg=function r(e,t,n){var a=t>=1?t:1,l=(n||(e?.3:.45))/(t<1?t:1),u=l/y_*(Math.asin(1/a)||0),h=function(_){return _===1?1:a*Math.pow(2,-10*_)*YL((_-u)*l)+1},d=e==="out"?h:e==="in"?function(p){return 1-h(1-p)}:HR(h);return l=y_/l,d.config=function(p,_){return r(e,p,_)},d},Ug=function r(e,t){t===void 0&&(t=1.70158);var n=function(u){return u?--u*u*((t+1)*u+t)+1:0},a=e==="out"?n:e==="in"?function(l){return 1-n(1-l)}:HR(n);return a.config=function(l){return r(e,l)},a};In("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var t=e<5?e+1:e;yo(r+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});Ue.Linear.easeNone=Ue.none=Ue.Linear.easeIn;yo("Elastic",Lg("in"),Lg("out"),Lg());(function(r,e){var t=1/e,n=2*t,a=2.5*t,l=function(h){return h<t?r*h*h:h<n?r*Math.pow(h-1.5/e,2)+.75:h<a?r*(h-=2.25/e)*h+.9375:r*Math.pow(h-2.625/e,2)+.984375};yo("Bounce",function(u){return 1-l(1-u)},l)})(7.5625,2.75);yo("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});yo("Circ",function(r){return-(dR(1-r*r)-1)});yo("Sine",function(r){return r===1?1:-$L(r*HL)+1});yo("Back",Ug("in"),Ug("out"),Ug());Ue.SteppedEase=Ue.steps=Gn.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,a=e+(t?0:1),l=t?1:0,u=1-nt;return function(h){return((a*nh(0,u,h)|0)+l)*n}}};Dl.ease=Ue["quad.out"];In("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return Ky+=r+","+r+"Params,"});var GR=function(e,t){this.id=GL++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:wR,this.set=t?t.getSetter:ev},zc=function(){function r(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Pl(this,+t.duration,1,1),this.data=t.data,ut&&(this._ctx=ut,ut.data.push(this)),Uc||Bn.wake()}var e=r.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,Pl(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,a){if(Ml(),!arguments.length)return this._tTime;var l=this._dp;if(l&&l.smoothChildTiming&&this._ts){for(cm(this,n),!l._dp||l.parent||IR(l,this);l&&l.parent;)l.parent._time!==l._start+(l._ts>=0?l._tTime/l._ts:(l.totalDuration()-l._tTime)/-l._ts)&&l.totalTime(l._tTime,!0),l=l.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Ki(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===nt||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),bR(this,n,a)),this},e.time=function(n,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Ob(this))%(this._dur+this._rDelay)||(n?this._dur:0),a):this._time},e.totalProgress=function(n,a){return arguments.length?this.totalTime(this.totalDuration()*n,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Ob(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,a){var l=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*l,a):this._repeat?Nl(this._tTime,l)+1:1},e.timeScale=function(n,a){if(!arguments.length)return this._rts===-nt?0:this._rts;if(this._rts===n)return this;var l=this.parent&&this._ts?Od(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-nt?0:this._rts,this.totalTime(nh(-Math.abs(this._delay),this.totalDuration(),l),a!==!1),um(this),eU(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ml(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==nt&&(this._tTime-=nt)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&Ki(a,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Rn(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var a=this.parent||this._dp;return a?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Od(a.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=XL);var a=nn;return nn=n,Xy(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),nn=a,this},e.globalTime=function(n){for(var a=this,l=arguments.length?n:a.rawTime();a;)l=a._start+l/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(n):l},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,Db(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var a=this._time;return this._rDelay=n,Db(this),a?this.time(a):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,a){return this.totalTime(ai(this,n),Rn(a))},e.restart=function(n,a){return this.play().totalTime(n?-this._delay:0,Rn(a)),this._dur||(this._zTime=-nt),this},e.play=function(n,a){return n!=null&&this.seek(n,a),this.reversed(!1).paused(!1)},e.reverse=function(n,a){return n!=null&&this.seek(n||this.totalDuration(),a),this.reversed(!0).paused(!1)},e.pause=function(n,a){return n!=null&&this.seek(n,a),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-nt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-nt,this},e.isActive=function(){var n=this.parent||this._dp,a=this._start,l;return!!(!n||this._ts&&this._initted&&n.isActive()&&(l=n.rawTime(!0))>=a&&l<this.endTime(!0)-nt)},e.eventCallback=function(n,a,l){var u=this.vars;return arguments.length>1?(a?(u[n]=a,l&&(u[n+"Params"]=l),n==="onUpdate"&&(this._onUpdate=a)):delete u[n],this):u[n]},e.then=function(n){var a=this;return new Promise(function(l){var u=yt(n)?n:SR,h=function(){var p=a.then;a.then=null,yt(u)&&(u=u(a))&&(u.then||u===a)&&(a.then=p),l(u),a.then=p};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?h():a._prom=h})},e.kill=function(){uc(this)},r}();$n(zc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-nt,_prom:0,_ps:!1,_rts:1});var yn=function(r){fR(e,r);function e(n,a){var l;return n===void 0&&(n={}),l=r.call(this,n)||this,l.labels={},l.smoothChildTiming=!!n.smoothChildTiming,l.autoRemoveChildren=!!n.autoRemoveChildren,l._sort=Rn(n.sortChildren),ht&&Ki(n.parent||ht,kr(l),a),n.reversed&&l.reverse(),n.paused&&l.paused(!0),n.scrollTrigger&&CR(kr(l),n.scrollTrigger),l}var t=e.prototype;return t.to=function(a,l,u){return Tc(0,arguments,this),this},t.from=function(a,l,u){return Tc(1,arguments,this),this},t.fromTo=function(a,l,u,h){return Tc(2,arguments,this),this},t.set=function(a,l,u){return l.duration=0,l.parent=this,vc(l).repeatDelay||(l.repeat=0),l.immediateRender=!!l.immediateRender,new Dt(a,l,ai(this,u),1),this},t.call=function(a,l,u){return Ki(this,Dt.delayedCall(0,a,l),u)},t.staggerTo=function(a,l,u,h,d,p,_){return u.duration=l,u.stagger=u.stagger||h,u.onComplete=p,u.onCompleteParams=_,u.parent=this,new Dt(a,u,ai(this,d)),this},t.staggerFrom=function(a,l,u,h,d,p,_){return u.runBackwards=1,vc(u).immediateRender=Rn(u.immediateRender),this.staggerTo(a,l,u,h,d,p,_)},t.staggerFromTo=function(a,l,u,h,d,p,_,v){return h.startAt=u,vc(h).immediateRender=Rn(h.immediateRender),this.staggerTo(a,l,h,d,p,_,v)},t.render=function(a,l,u){var h=this._time,d=this._dirty?this.totalDuration():this._tDur,p=this._dur,_=a<=0?0:xt(a),v=this._zTime<0!=a<0&&(this._initted||!p),T,b,I,S,D,P,F,B,K,H,ee,x;if(this!==ht&&_>d&&a>=0&&(_=d),_!==this._tTime||u||v){if(h!==this._time&&p&&(_+=this._time-h,a+=this._time-h),T=_,K=this._start,B=this._ts,P=!B,v&&(p||(h=this._zTime),(a||!l)&&(this._zTime=a)),this._repeat){if(ee=this._yoyo,D=p+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(D*100+a,l,u);if(T=xt(_%D),_===d?(S=this._repeat,T=p):(H=xt(_/D),S=~~H,S&&S===H&&(T=p,S--),T>p&&(T=p)),H=Nl(this._tTime,D),!h&&this._tTime&&H!==S&&this._tTime-H*D-this._dur<=0&&(H=S),ee&&S&1&&(T=p-T,x=1),S!==H&&!this._lock){var R=ee&&H&1,C=R===(ee&&S&1);if(S<H&&(R=!R),h=R?0:_%p?p:_,this._lock=1,this.render(h||(x?0:xt(S*D)),l,!p)._lock=0,this._tTime=_,!l&&this.parent&&Fn(this,"onRepeat"),this.vars.repeatRefresh&&!x&&(this.invalidate()._lock=1),h&&h!==this._time||P!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(p=this._dur,d=this._tDur,C&&(this._lock=2,h=R?p:-1e-4,this.render(h,!0),this.vars.repeatRefresh&&!x&&this.invalidate()),this._lock=0,!this._ts&&!P)return this;qR(this,x)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(F=rU(this,xt(h),xt(T)),F&&(_-=T-(T=F._start))),this._tTime=_,this._time=T,this._act=!B,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,h=0),!h&&_&&!l&&!H&&(Fn(this,"onStart"),this._tTime!==_))return this;if(T>=h&&a>=0)for(b=this._first;b;){if(I=b._next,(b._act||T>=b._start)&&b._ts&&F!==b){if(b.parent!==this)return this.render(a,l,u);if(b.render(b._ts>0?(T-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(T-b._start)*b._ts,l,u),T!==this._time||!this._ts&&!P){F=0,I&&(_+=this._zTime=-nt);break}}b=I}else{b=this._last;for(var M=a<0?a:T;b;){if(I=b._prev,(b._act||M<=b._end)&&b._ts&&F!==b){if(b.parent!==this)return this.render(a,l,u);if(b.render(b._ts>0?(M-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(M-b._start)*b._ts,l,u||nn&&Xy(b)),T!==this._time||!this._ts&&!P){F=0,I&&(_+=this._zTime=M?-nt:nt);break}}b=I}}if(F&&!l&&(this.pause(),F.render(T>=h?0:-nt)._zTime=T>=h?1:-1,this._ts))return this._start=K,um(this),this.render(a,l,u);this._onUpdate&&!l&&Fn(this,"onUpdate",!0),(_===d&&this._tTime>=this.totalDuration()||!_&&h)&&(K===this._start||Math.abs(B)!==Math.abs(this._ts))&&(this._lock||((a||!p)&&(_===d&&this._ts>0||!_&&this._ts<0)&&Ks(this,1),!l&&!(a<0&&!h)&&(_||h||!d)&&(Fn(this,_===d&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<d&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(a,l){var u=this;if(Kr(l)||(l=ai(this,l,a)),!(a instanceof zc)){if(fn(a))return a.forEach(function(h){return u.add(h,l)}),this;if(Kt(a))return this.addLabel(a,l);if(yt(a))a=Dt.delayedCall(0,a);else return this}return this!==a?Ki(this,a,l):this},t.getChildren=function(a,l,u,h){a===void 0&&(a=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),h===void 0&&(h=-ui);for(var d=[],p=this._first;p;)p._start>=h&&(p instanceof Dt?l&&d.push(p):(u&&d.push(p),a&&d.push.apply(d,p.getChildren(!0,l,u)))),p=p._next;return d},t.getById=function(a){for(var l=this.getChildren(1,1,1),u=l.length;u--;)if(l[u].vars.id===a)return l[u]},t.remove=function(a){return Kt(a)?this.removeLabel(a):yt(a)?this.killTweensOf(a):(a.parent===this&&lm(this,a),a===this._recent&&(this._recent=this._last),Wa(this))},t.totalTime=function(a,l){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=xt(Bn.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),r.prototype.totalTime.call(this,a,l),this._forcing=0,this):this._tTime},t.addLabel=function(a,l){return this.labels[a]=ai(this,l),this},t.removeLabel=function(a){return delete this.labels[a],this},t.addPause=function(a,l,u){var h=Dt.delayedCall(0,l||Vc,u);return h.data="isPause",this._hasPause=1,Ki(this,h,ai(this,a))},t.removePause=function(a){var l=this._first;for(a=ai(this,a);l;)l._start===a&&l.data==="isPause"&&Ks(l),l=l._next},t.killTweensOf=function(a,l,u){for(var h=this.getTweensOf(a,u),d=h.length;d--;)Ds!==h[d]&&h[d].kill(a,l);return this},t.getTweensOf=function(a,l){for(var u=[],h=ci(a),d=this._first,p=Kr(l),_;d;)d instanceof Dt?WL(d._targets,h)&&(p?(!Ds||d._initted&&d._ts)&&d.globalTime(0)<=l&&d.globalTime(d.totalDuration())>l:!l||d.isActive())&&u.push(d):(_=d.getTweensOf(h,l)).length&&u.push.apply(u,_),d=d._next;return u},t.tweenTo=function(a,l){l=l||{};var u=this,h=ai(u,a),d=l,p=d.startAt,_=d.onStart,v=d.onStartParams,T=d.immediateRender,b,I=Dt.to(u,$n({ease:l.ease||"none",lazy:!1,immediateRender:!1,time:h,overwrite:"auto",duration:l.duration||Math.abs((h-(p&&"time"in p?p.time:u._time))/u.timeScale())||nt,onStart:function(){if(u.pause(),!b){var D=l.duration||Math.abs((h-(p&&"time"in p?p.time:u._time))/u.timeScale());I._dur!==D&&Pl(I,D,0,1).render(I._time,!0,!0),b=1}_&&_.apply(I,v||[])}},l));return T?I.render(0):I},t.tweenFromTo=function(a,l,u){return this.tweenTo(l,$n({startAt:{time:ai(this,a)}},u))},t.recent=function(){return this._recent},t.nextLabel=function(a){return a===void 0&&(a=this._time),xb(this,ai(this,a))},t.previousLabel=function(a){return a===void 0&&(a=this._time),xb(this,ai(this,a),1)},t.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+nt)},t.shiftChildren=function(a,l,u){u===void 0&&(u=0);for(var h=this._first,d=this.labels,p;h;)h._start>=u&&(h._start+=a,h._end+=a),h=h._next;if(l)for(p in d)d[p]>=u&&(d[p]+=a);return Wa(this)},t.invalidate=function(a){var l=this._first;for(this._lock=0;l;)l.invalidate(a),l=l._next;return r.prototype.invalidate.call(this,a)},t.clear=function(a){a===void 0&&(a=!0);for(var l=this._first,u;l;)u=l._next,this.remove(l),l=u;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),Wa(this)},t.totalDuration=function(a){var l=0,u=this,h=u._last,d=ui,p,_,v;if(arguments.length)return u.timeScale((u._repeat<0?u.duration():u.totalDuration())/(u.reversed()?-a:a));if(u._dirty){for(v=u.parent;h;)p=h._prev,h._dirty&&h.totalDuration(),_=h._start,_>d&&u._sort&&h._ts&&!u._lock?(u._lock=1,Ki(u,h,_-h._delay,1)._lock=0):d=_,_<0&&h._ts&&(l-=_,(!v&&!u._dp||v&&v.smoothChildTiming)&&(u._start+=_/u._ts,u._time-=_,u._tTime-=_),u.shiftChildren(-_,!1,-1/0),d=0),h._end>l&&h._ts&&(l=h._end),h=p;Pl(u,u===ht&&u._time>l?u._time:l,1,1),u._dirty=0}return u._tDur},e.updateRoot=function(a){if(ht._ts&&(bR(ht,Od(a,ht)),ER=Bn.frame),Bn.frame>=Ib){Ib+=Hn.autoSleep||120;var l=ht._first;if((!l||!l._ts)&&Hn.autoSleep&&Bn._listeners.length<2){for(;l&&!l._ts;)l=l._next;l||Bn.sleep()}}},e}(zc);$n(yn.prototype,{_lock:0,_hasPause:0,_forcing:0});var TU=function(e,t,n,a,l,u,h){var d=new Cn(this._pt,e,t,0,1,WR,null,l),p=0,_=0,v,T,b,I,S,D,P,F;for(d.b=n,d.e=a,n+="",a+="",(P=~a.indexOf("random("))&&(a=Lc(a)),u&&(F=[n,a],u(F,e,t),n=F[0],a=F[1]),T=n.match(Mg)||[];v=Mg.exec(a);)I=v[0],S=a.substring(p,v.index),b?b=(b+1)%5:S.substr(-5)==="rgba("&&(b=1),I!==T[_++]&&(D=parseFloat(T[_-1])||0,d._pt={_next:d._pt,p:S||_===1?S:",",s:D,c:I.charAt(1)==="="?wl(D,I)-D:parseFloat(I)-D,m:b&&b<4?Math.round:0},p=Mg.lastIndex);return d.c=p<a.length?a.substring(p,a.length):"",d.fp=h,(gR.test(a)||P)&&(d.e=0),this._pt=d,d},Wy=function(e,t,n,a,l,u,h,d,p,_){yt(a)&&(a=a(l||0,e,u));var v=e[t],T=n!=="get"?n:yt(v)?p?e[t.indexOf("set")||!yt(e["get"+t.substr(3)])?t:"get"+t.substr(3)](p):e[t]():v,b=yt(v)?p?SU:QR:Jy,I;if(Kt(a)&&(~a.indexOf("random(")&&(a=Lc(a)),a.charAt(1)==="="&&(I=wl(T,a)+(hn(T)||0),(I||I===0)&&(a=I))),!_||T!==a||I_)return!isNaN(T*a)&&a!==""?(I=new Cn(this._pt,e,t,+T||0,a-(T||0),typeof v=="boolean"?IU:XR,0,b),p&&(I.fp=p),h&&I.modifier(h,this,e),this._pt=I):(!v&&!(t in e)&&$y(t,a),TU.call(this,e,t,T,a,b,d||Hn.stringFilter,p))},EU=function(e,t,n,a,l){if(yt(e)&&(e=Ec(e,l,t,n,a)),!sr(e)||e.style&&e.nodeType||fn(e)||mR(e))return Kt(e)?Ec(e,l,t,n,a):e;var u={},h;for(h in e)u[h]=Ec(e[h],l,t,n,a);return u},$R=function(e,t,n,a,l,u){var h,d,p,_;if(jn[e]&&(h=new jn[e]).init(l,h.rawVars?t[e]:EU(t[e],a,l,u,n),n,a,u)!==!1&&(n._pt=d=new Cn(n._pt,l,e,0,1,h.render,h,0,h.priority),n!==_l))for(p=n._ptLookup[n._targets.indexOf(l)],_=h._props.length;_--;)p[h._props[_]]=d;return h},Ds,I_,Zy=function r(e,t,n){var a=e.vars,l=a.ease,u=a.startAt,h=a.immediateRender,d=a.lazy,p=a.onUpdate,_=a.runBackwards,v=a.yoyoEase,T=a.keyframes,b=a.autoRevert,I=e._dur,S=e._startAt,D=e._targets,P=e.parent,F=P&&P.data==="nested"?P.vars.targets:D,B=e._overwrite==="auto"&&!Fy,K=e.timeline,H,ee,x,R,C,M,V,U,N,Le,Ie,Z,oe;if(K&&(!T||!l)&&(l="none"),e._ease=Za(l,Dl.ease),e._yEase=v?FR(Za(v===!0?l:v,Dl.ease)):0,v&&e._yoyo&&!e._repeat&&(v=e._yEase,e._yEase=e._ease,e._ease=v),e._from=!K&&!!a.runBackwards,!K||T&&!a.stagger){if(U=D[0]?Xa(D[0]).harness:0,Z=U&&a[U.prop],H=Cd(a,Yy),S&&(S._zTime<0&&S.progress(1),t<0&&_&&h&&!b?S.render(-1,!0):S.revert(_&&I?Qf:QL),S._lazy=0),u){if(Ks(e._startAt=Dt.set(D,$n({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:!S&&Rn(d),startAt:null,delay:0,onUpdate:p&&function(){return Fn(e,"onUpdate")},stagger:0},u))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(nn||!h&&!b)&&e._startAt.revert(Qf),h&&I&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(_&&I&&!S){if(t&&(h=!1),x=$n({overwrite:!1,data:"isFromStart",lazy:h&&!S&&Rn(d),immediateRender:h,stagger:0,parent:P},H),Z&&(x[U.prop]=Z),Ks(e._startAt=Dt.set(D,x)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(nn?e._startAt.revert(Qf):e._startAt.render(-1,!0)),e._zTime=t,!h)r(e._startAt,nt,nt);else if(!t)return}for(e._pt=e._ptCache=0,d=I&&Rn(d)||d&&!I,ee=0;ee<D.length;ee++){if(C=D[ee],V=C._gsap||Qy(D)[ee]._gsap,e._ptLookup[ee]=Le={},E_[V.id]&&Us.length&&Id(),Ie=F===D?ee:F.indexOf(C),U&&(N=new U).init(C,Z||H,e,Ie,F)!==!1&&(e._pt=R=new Cn(e._pt,C,N.name,0,1,N.render,N,0,N.priority),N._props.forEach(function(de){Le[de]=R}),N.priority&&(M=1)),!U||Z)for(x in H)jn[x]&&(N=$R(x,H,e,Ie,C,F))?N.priority&&(M=1):Le[x]=R=Wy.call(e,C,x,"get",H[x],Ie,F,0,a.stringFilter);e._op&&e._op[ee]&&e.kill(C,e._op[ee]),B&&e._pt&&(Ds=e,ht.killTweensOf(C,Le,e.globalTime(t)),oe=!e.parent,Ds=0),e._pt&&d&&(E_[V.id]=1)}M&&ZR(e),e._onInit&&e._onInit(e)}e._onUpdate=p,e._initted=(!e._op||e._pt)&&!oe,T&&t<=0&&K.render(ui,!0,!0)},wU=function(e,t,n,a,l,u,h,d){var p=(e._pt&&e._ptCache||(e._ptCache={}))[t],_,v,T,b;if(!p)for(p=e._ptCache[t]=[],T=e._ptLookup,b=e._targets.length;b--;){if(_=T[b][t],_&&_.d&&_.d._pt)for(_=_.d._pt;_&&_.p!==t&&_.fp!==t;)_=_._next;if(!_)return I_=1,e.vars[t]="+=0",Zy(e,h),I_=0,d?kc(t+" not eligible for reset"):1;p.push(_)}for(b=p.length;b--;)v=p[b],_=v._pt||v,_.s=(a||a===0)&&!l?a:_.s+(a||0)+u*_.c,_.c=n-_.s,v.e&&(v.e=bt(n)+hn(v.e)),v.b&&(v.b=_.s+hn(v.b))},bU=function(e,t){var n=e[0]?Xa(e[0]).harness:0,a=n&&n.aliases,l,u,h,d;if(!a)return t;l=xl({},t);for(u in a)if(u in l)for(d=a[u].split(","),h=d.length;h--;)l[d[h]]=l[u];return l},AU=function(e,t,n,a){var l=t.ease||a||"power1.inOut",u,h;if(fn(t))h=n[e]||(n[e]=[]),t.forEach(function(d,p){return h.push({t:p/(t.length-1)*100,v:d,e:l})});else for(u in t)h=n[u]||(n[u]=[]),u==="ease"||h.push({t:parseFloat(e),v:t[u],e:l})},Ec=function(e,t,n,a,l){return yt(e)?e.call(t,n,a,l):Kt(e)&&~e.indexOf("random(")?Lc(e):e},YR=Ky+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",KR={};In(YR+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return KR[r]=1});var Dt=function(r){fR(e,r);function e(n,a,l,u){var h;typeof a=="number"&&(l.duration=a,a=l,l=null),h=r.call(this,u?a:vc(a))||this;var d=h.vars,p=d.duration,_=d.delay,v=d.immediateRender,T=d.stagger,b=d.overwrite,I=d.keyframes,S=d.defaults,D=d.scrollTrigger,P=d.yoyoEase,F=a.parent||ht,B=(fn(n)||mR(n)?Kr(n[0]):"length"in a)?[n]:ci(n),K,H,ee,x,R,C,M,V;if(h._targets=B.length?Qy(B):kc("GSAP target "+n+" not found. https://gsap.com",!Hn.nullTargetWarn)||[],h._ptLookup=[],h._overwrite=b,I||T||Vf(p)||Vf(_)){if(a=h.vars,K=h.timeline=new yn({data:"nested",defaults:S||{},targets:F&&F.data==="nested"?F.vars.targets:B}),K.kill(),K.parent=K._dp=kr(h),K._start=0,T||Vf(p)||Vf(_)){if(x=B.length,M=T&&NR(T),sr(T))for(R in T)~YR.indexOf(R)&&(V||(V={}),V[R]=T[R]);for(H=0;H<x;H++)ee=Cd(a,KR),ee.stagger=0,P&&(ee.yoyoEase=P),V&&xl(ee,V),C=B[H],ee.duration=+Ec(p,kr(h),H,C,B),ee.delay=(+Ec(_,kr(h),H,C,B)||0)-h._delay,!T&&x===1&&ee.delay&&(h._delay=_=ee.delay,h._start+=_,ee.delay=0),K.to(C,ee,M?M(H,C,B):0),K._ease=Ue.none;K.duration()?p=_=0:h.timeline=0}else if(I){vc($n(K.vars.defaults,{ease:"none"})),K._ease=Za(I.ease||a.ease||"none");var U=0,N,Le,Ie;if(fn(I))I.forEach(function(Z){return K.to(B,Z,">")}),K.duration();else{ee={};for(R in I)R==="ease"||R==="easeEach"||AU(R,I[R],ee,I.easeEach);for(R in ee)for(N=ee[R].sort(function(Z,oe){return Z.t-oe.t}),U=0,H=0;H<N.length;H++)Le=N[H],Ie={ease:Le.e,duration:(Le.t-(H?N[H-1].t:0))/100*p},Ie[R]=Le.v,K.to(B,Ie,U),U+=Ie.duration;K.duration()<p&&K.to({},{duration:p-K.duration()})}}p||h.duration(p=K.duration())}else h.timeline=0;return b===!0&&!Fy&&(Ds=kr(h),ht.killTweensOf(B),Ds=0),Ki(F,kr(h),l),a.reversed&&h.reverse(),a.paused&&h.paused(!0),(v||!p&&!I&&h._start===xt(F._time)&&Rn(v)&&tU(kr(h))&&F.data!=="nested")&&(h._tTime=-nt,h.render(Math.max(0,-_)||0)),D&&CR(kr(h),D),h}var t=e.prototype;return t.render=function(a,l,u){var h=this._time,d=this._tDur,p=this._dur,_=a<0,v=a>d-nt&&!_?d:a<nt?0:a,T,b,I,S,D,P,F,B,K;if(!p)iU(this,a,l,u);else if(v!==this._tTime||!a||u||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==_||this._lazy){if(T=v,B=this.timeline,this._repeat){if(S=p+this._rDelay,this._repeat<-1&&_)return this.totalTime(S*100+a,l,u);if(T=xt(v%S),v===d?(I=this._repeat,T=p):(D=xt(v/S),I=~~D,I&&I===D?(T=p,I--):T>p&&(T=p)),P=this._yoyo&&I&1,P&&(K=this._yEase,T=p-T),D=Nl(this._tTime,S),T===h&&!u&&this._initted&&I===D)return this._tTime=v,this;I!==D&&(B&&this._yEase&&qR(B,P),this.vars.repeatRefresh&&!P&&!this._lock&&T!==S&&this._initted&&(this._lock=u=1,this.render(xt(S*I),!0).invalidate()._lock=0))}if(!this._initted){if(OR(this,_?a:T,u,l,v))return this._tTime=0,this;if(h!==this._time&&!(u&&this.vars.repeatRefresh&&I!==D))return this;if(p!==this._dur)return this.render(a,l,u)}if(this._tTime=v,this._time=T,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=F=(K||this._ease)(T/p),this._from&&(this.ratio=F=1-F),!h&&v&&!l&&!D&&(Fn(this,"onStart"),this._tTime!==v))return this;for(b=this._pt;b;)b.r(F,b.d),b=b._next;B&&B.render(a<0?a:B._dur*B._ease(T/this._dur),l,u)||this._startAt&&(this._zTime=a),this._onUpdate&&!l&&(_&&w_(this,a,l,u),Fn(this,"onUpdate")),this._repeat&&I!==D&&this.vars.onRepeat&&!l&&this.parent&&Fn(this,"onRepeat"),(v===this._tDur||!v)&&this._tTime===v&&(_&&!this._onUpdate&&w_(this,a,!0,!0),(a||!p)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Ks(this,1),!l&&!(_&&!h)&&(v||h||P)&&(Fn(this,v===d?"onComplete":"onReverseComplete",!0),this._prom&&!(v<d&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),r.prototype.invalidate.call(this,a)},t.resetTo=function(a,l,u,h,d){Uc||Bn.wake(),this._ts||this.play();var p=Math.min(this._dur,(this._dp._time-this._start)*this._ts),_;return this._initted||Zy(this,p),_=this._ease(p/this._dur),wU(this,a,l,u,h,_,p,d)?this.resetTo(a,l,u,h,1):(cm(this,0),this.parent||RR(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(a,l){if(l===void 0&&(l="all"),!a&&(!l||l==="all"))return this._lazy=this._pt=0,this.parent?uc(this):this.scrollTrigger&&this.scrollTrigger.kill(!!nn),this;if(this.timeline){var u=this.timeline.totalDuration();return this.timeline.killTweensOf(a,l,Ds&&Ds.vars.overwrite!==!0)._first||uc(this),this.parent&&u!==this.timeline.totalDuration()&&Pl(this,this._dur*this.timeline._tDur/u,0,1),this}var h=this._targets,d=a?ci(a):h,p=this._ptLookup,_=this._pt,v,T,b,I,S,D,P;if((!l||l==="all")&&JL(h,d))return l==="all"&&(this._pt=0),uc(this);for(v=this._op=this._op||[],l!=="all"&&(Kt(l)&&(S={},In(l,function(F){return S[F]=1}),l=S),l=bU(h,l)),P=h.length;P--;)if(~d.indexOf(h[P])){T=p[P],l==="all"?(v[P]=l,I=T,b={}):(b=v[P]=v[P]||{},I=l);for(S in I)D=T&&T[S],D&&((!("kill"in D.d)||D.d.kill(S)===!0)&&lm(this,D,"_pt"),delete T[S]),b!=="all"&&(b[S]=1)}return this._initted&&!this._pt&&_&&uc(this),this},e.to=function(a,l){return new e(a,l,arguments[2])},e.from=function(a,l){return Tc(1,arguments)},e.delayedCall=function(a,l,u,h){return new e(l,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:l,onReverseComplete:l,onCompleteParams:u,onReverseCompleteParams:u,callbackScope:h})},e.fromTo=function(a,l,u){return Tc(2,arguments)},e.set=function(a,l){return l.duration=0,l.repeatDelay||(l.repeat=0),new e(a,l)},e.killTweensOf=function(a,l,u){return ht.killTweensOf(a,l,u)},e}(zc);$n(Dt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});In("staggerTo,staggerFrom,staggerFromTo",function(r){Dt[r]=function(){var e=new yn,t=A_.call(arguments,0);return t.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,t)}});var Jy=function(e,t,n){return e[t]=n},QR=function(e,t,n){return e[t](n)},SU=function(e,t,n,a){return e[t](a.fp,n)},RU=function(e,t,n){return e.setAttribute(t,n)},ev=function(e,t){return yt(e[t])?QR:qy(e[t])&&e.setAttribute?RU:Jy},XR=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},IU=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},WR=function(e,t){var n=t._pt,a="";if(!e&&t.b)a=t.b;else if(e===1&&t.e)a=t.e;else{for(;n;)a=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+a,n=n._next;a+=t.c}t.set(t.t,t.p,a,t)},tv=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},CU=function(e,t,n,a){for(var l=this._pt,u;l;)u=l._next,l.p===a&&l.modifier(e,t,n),l=u},OU=function(e){for(var t=this._pt,n,a;t;)a=t._next,t.p===e&&!t.op||t.op===e?lm(this,t,"_pt"):t.dep||(n=1),t=a;return!n},DU=function(e,t,n,a){a.mSet(e,t,a.m.call(a.tween,n,a.mt),a)},ZR=function(e){for(var t=e._pt,n,a,l,u;t;){for(n=t._next,a=l;a&&a.pr>t.pr;)a=a._next;(t._prev=a?a._prev:u)?t._prev._next=t:l=t,(t._next=a)?a._prev=t:u=t,t=n}e._pt=l},Cn=function(){function r(t,n,a,l,u,h,d,p,_){this.t=n,this.s=l,this.c=u,this.p=a,this.r=h||XR,this.d=d||this,this.set=p||Jy,this.pr=_||0,this._next=t,t&&(t._prev=this)}var e=r.prototype;return e.modifier=function(n,a,l){this.mSet=this.mSet||this.set,this.set=DU,this.m=n,this.mt=l,this.tween=a},r}();In(Ky+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return Yy[r]=1});Gn.TweenMax=Gn.TweenLite=Dt;Gn.TimelineLite=Gn.TimelineMax=yn;ht=new yn({sortChildren:!1,defaults:Dl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Hn.stringFilter=BR;var Ja=[],Wf={},xU=[],Pb=0,NU=0,zg=function(e){return(Wf[e]||xU).map(function(t){return t()})},C_=function(){var e=Date.now(),t=[];e-Pb>2&&(zg("matchMediaInit"),Ja.forEach(function(n){var a=n.queries,l=n.conditions,u,h,d,p;for(h in a)u=Yi.matchMedia(a[h]).matches,u&&(d=1),u!==l[h]&&(l[h]=u,p=1);p&&(n.revert(),d&&t.push(n))}),zg("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(a){return n.add(null,a)})}),Pb=e,zg("matchMedia"))},JR=function(){function r(t,n){this.selector=n&&S_(n),this.data=[],this._r=[],this.isReverted=!1,this.id=NU++,t&&this.add(t)}var e=r.prototype;return e.add=function(n,a,l){yt(n)&&(l=a,a=n,n=yt);var u=this,h=function(){var p=ut,_=u.selector,v;return p&&p!==u&&p.data.push(u),l&&(u.selector=S_(l)),ut=u,v=a.apply(u,arguments),yt(v)&&u._r.push(v),ut=p,u.selector=_,u.isReverted=!1,v};return u.last=h,n===yt?h(u,function(d){return u.add(null,d)}):n?u[n]=h:h},e.ignore=function(n){var a=ut;ut=null,n(this),ut=a},e.getTweens=function(){var n=[];return this.data.forEach(function(a){return a instanceof r?n.push.apply(n,a.getTweens()):a instanceof Dt&&!(a.parent&&a.parent.data==="nested")&&n.push(a)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,a){var l=this;if(n?function(){for(var h=l.getTweens(),d=l.data.length,p;d--;)p=l.data[d],p.data==="isFlip"&&(p.revert(),p.getChildren(!0,!0,!1).forEach(function(_){return h.splice(h.indexOf(_),1)}));for(h.map(function(_){return{g:_._dur||_._delay||_._sat&&!_._sat.vars.immediateRender?_.globalTime(0):-1/0,t:_}}).sort(function(_,v){return v.g-_.g||-1/0}).forEach(function(_){return _.t.revert(n)}),d=l.data.length;d--;)p=l.data[d],p instanceof yn?p.data!=="nested"&&(p.scrollTrigger&&p.scrollTrigger.revert(),p.kill()):!(p instanceof Dt)&&p.revert&&p.revert(n);l._r.forEach(function(_){return _(n,l)}),l.isReverted=!0}():this.data.forEach(function(h){return h.kill&&h.kill()}),this.clear(),a)for(var u=Ja.length;u--;)Ja[u].id===this.id&&Ja.splice(u,1)},e.revert=function(n){this.kill(n||{})},r}(),PU=function(){function r(t){this.contexts=[],this.scope=t,ut&&ut.data.push(this)}var e=r.prototype;return e.add=function(n,a,l){sr(n)||(n={matches:n});var u=new JR(0,l||this.scope),h=u.conditions={},d,p,_;ut&&!u.selector&&(u.selector=ut.selector),this.contexts.push(u),a=u.add("onMatch",a),u.queries=n;for(p in n)p==="all"?_=1:(d=Yi.matchMedia(n[p]),d&&(Ja.indexOf(u)<0&&Ja.push(u),(h[p]=d.matches)&&(_=1),d.addListener?d.addListener(C_):d.addEventListener("change",C_)));return _&&a(u,function(v){return u.add(null,v)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(a){return a.kill(n,!0)})},r}(),Dd={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(a){return UR(a)})},timeline:function(e){return new yn(e)},getTweensOf:function(e,t){return ht.getTweensOf(e,t)},getProperty:function(e,t,n,a){Kt(e)&&(e=ci(e)[0]);var l=Xa(e||{}).get,u=n?SR:AR;return n==="native"&&(n=""),e&&(t?u((jn[t]&&jn[t].get||l)(e,t,n,a)):function(h,d,p){return u((jn[h]&&jn[h].get||l)(e,h,d,p))})},quickSetter:function(e,t,n){if(e=ci(e),e.length>1){var a=e.map(function(_){return Dn.quickSetter(_,t,n)}),l=a.length;return function(_){for(var v=l;v--;)a[v](_)}}e=e[0]||{};var u=jn[t],h=Xa(e),d=h.harness&&(h.harness.aliases||{})[t]||t,p=u?function(_){var v=new u;_l._pt=0,v.init(e,n?_+n:_,_l,0,[e]),v.render(1,v),_l._pt&&tv(1,_l)}:h.set(e,d);return u?p:function(_){return p(e,d,n?_+n:_,h,1)}},quickTo:function(e,t,n){var a,l=Dn.to(e,$n((a={},a[t]="+=0.1",a.paused=!0,a.stagger=0,a),n||{})),u=function(d,p,_){return l.resetTo(t,d,p,_)};return u.tween=l,u},isTweening:function(e){return ht.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Za(e.ease,Dl.ease)),Cb(Dl,e||{})},config:function(e){return Cb(Hn,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,a=e.plugins,l=e.defaults,u=e.extendTimeline;(a||"").split(",").forEach(function(h){return h&&!jn[h]&&!Gn[h]&&kc(t+" effect requires "+h+" plugin.")}),kg[t]=function(h,d,p){return n(ci(h),$n(d||{},l),p)},u&&(yn.prototype[t]=function(h,d,p){return this.add(kg[t](h,sr(d)?d:(p=d)&&{},this),p)})},registerEase:function(e,t){Ue[e]=Za(t)},parseEase:function(e,t){return arguments.length?Za(e,t):Ue},getById:function(e){return ht.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new yn(e),a,l;for(n.smoothChildTiming=Rn(e.smoothChildTiming),ht.remove(n),n._dp=0,n._time=n._tTime=ht._time,a=ht._first;a;)l=a._next,(t||!(!a._dur&&a instanceof Dt&&a.vars.onComplete===a._targets[0]))&&Ki(n,a,a._start-a._delay),a=l;return Ki(ht,n,0),n},context:function(e,t){return e?new JR(e,t):ut},matchMedia:function(e){return new PU(e)},matchMediaRefresh:function(){return Ja.forEach(function(e){var t=e.conditions,n,a;for(a in t)t[a]&&(t[a]=!1,n=1);n&&e.revert()})||C_()},addEventListener:function(e,t){var n=Wf[e]||(Wf[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=Wf[e],a=n&&n.indexOf(t);a>=0&&n.splice(a,1)},utils:{wrap:hU,wrapYoyo:fU,distribute:NR,random:MR,snap:PR,normalize:cU,getUnit:hn,clamp:aU,splitColor:zR,toArray:ci,selector:S_,mapRange:VR,pipe:lU,unitize:uU,interpolate:dU,shuffle:xR},install:vR,effects:kg,ticker:Bn,updateRoot:yn.updateRoot,plugins:jn,globalTimeline:ht,core:{PropTween:Cn,globals:TR,Tween:Dt,Timeline:yn,Animation:zc,getCache:Xa,_removeLinkedListItem:lm,reverting:function(){return nn},context:function(e){return e&&ut&&(ut.data.push(e),e._ctx=ut),ut},suppressOverwrites:function(e){return Fy=e}}};In("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return Dd[r]=Dt[r]});Bn.add(yn.updateRoot);_l=Dd.to({},{duration:0});var MU=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},kU=function(e,t){var n=e._targets,a,l,u;for(a in t)for(l=n.length;l--;)u=e._ptLookup[l][a],u&&(u=u.d)&&(u._pt&&(u=MU(u,a)),u&&u.modifier&&u.modifier(t[a],e,n[l],a))},jg=function(e,t){return{name:e,headless:1,rawVars:1,init:function(a,l,u){u._onInit=function(h){var d,p;if(Kt(l)&&(d={},In(l,function(_){return d[_]=1}),l=d),t){d={};for(p in l)d[p]=t(l[p]);l=d}kU(h,l)}}}},Dn=Dd.registerPlugin({name:"attr",init:function(e,t,n,a,l){var u,h,d;this.tween=n;for(u in t)d=e.getAttribute(u)||"",h=this.add(e,"setAttribute",(d||0)+"",t[u],a,l,0,0,u),h.op=u,h.b=d,this._props.push(u)},render:function(e,t){for(var n=t._pt;n;)nn?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},jg("roundProps",R_),jg("modifiers"),jg("snap",PR))||Dd;Dt.version=yn.version=Dn.version="3.13.0";yR=1;Hy()&&Ml();Ue.Power0;Ue.Power1;Ue.Power2;Ue.Power3;Ue.Power4;Ue.Linear;Ue.Quad;Ue.Cubic;Ue.Quart;Ue.Quint;Ue.Strong;Ue.Elastic;Ue.Back;Ue.SteppedEase;Ue.Bounce;Ue.Sine;Ue.Expo;Ue.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Mb,xs,bl,nv,Ya,kb,iv,VU=function(){return typeof window<"u"},Qr={},qa=180/Math.PI,Al=Math.PI/180,hl=Math.atan2,Vb=1e8,rv=/([A-Z])/g,LU=/(left|right|width|margin|padding|x)/i,UU=/[\s,\(]\S/,Qi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},O_=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},zU=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},jU=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},BU=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},eI=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},tI=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},FU=function(e,t,n){return e.style[t]=n},qU=function(e,t,n){return e.style.setProperty(t,n)},HU=function(e,t,n){return e._gsap[t]=n},GU=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},$U=function(e,t,n,a,l){var u=e._gsap;u.scaleX=u.scaleY=n,u.renderTransform(l,u)},YU=function(e,t,n,a,l){var u=e._gsap;u[t]=n,u.renderTransform(l,u)},ft="transform",On=ft+"Origin",KU=function r(e,t){var n=this,a=this.target,l=a.style,u=a._gsap;if(e in Qr&&l){if(this.tfm=this.tfm||{},e!=="transform")e=Qi[e]||e,~e.indexOf(",")?e.split(",").forEach(function(h){return n.tfm[h]=Vr(a,h)}):this.tfm[e]=u.x?u[e]:Vr(a,e),e===On&&(this.tfm.zOrigin=u.zOrigin);else return Qi.transform.split(",").forEach(function(h){return r.call(n,h,t)});if(this.props.indexOf(ft)>=0)return;u.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(On,t,"")),e=ft}(l||t)&&this.props.push(e,t,l[e])},nI=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},QU=function(){var e=this.props,t=this.target,n=t.style,a=t._gsap,l,u;for(l=0;l<e.length;l+=3)e[l+1]?e[l+1]===2?t[e[l]](e[l+2]):t[e[l]]=e[l+2]:e[l+2]?n[e[l]]=e[l+2]:n.removeProperty(e[l].substr(0,2)==="--"?e[l]:e[l].replace(rv,"-$1").toLowerCase());if(this.tfm){for(u in this.tfm)a[u]=this.tfm[u];a.svg&&(a.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),l=iv(),(!l||!l.isStart)&&!n[ft]&&(nI(n),a.zOrigin&&n[On]&&(n[On]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},iI=function(e,t){var n={target:e,props:[],revert:QU,save:KU};return e._gsap||Dn.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(a){return n.save(a)}),n},rI,D_=function(e,t){var n=xs.createElementNS?xs.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):xs.createElement(e);return n&&n.style?n:xs.createElement(e)},hi=function r(e,t,n){var a=getComputedStyle(e);return a[t]||a.getPropertyValue(t.replace(rv,"-$1").toLowerCase())||a.getPropertyValue(t)||!n&&r(e,kl(t)||t,1)||""},Lb="O,Moz,ms,Ms,Webkit".split(","),kl=function(e,t,n){var a=t||Ya,l=a.style,u=5;if(e in l&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);u--&&!(Lb[u]+e in l););return u<0?null:(u===3?"ms":u>=0?Lb[u]:"")+e},x_=function(){VU()&&window.document&&(Mb=window,xs=Mb.document,bl=xs.documentElement,Ya=D_("div")||{style:{}},D_("div"),ft=kl(ft),On=ft+"Origin",Ya.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",rI=!!kl("perspective"),iv=Dn.core.reverting,nv=1)},Ub=function(e){var t=e.ownerSVGElement,n=D_("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=e.cloneNode(!0),l;a.style.display="block",n.appendChild(a),bl.appendChild(n);try{l=a.getBBox()}catch{}return n.removeChild(a),bl.removeChild(n),l},zb=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},sI=function(e){var t,n;try{t=e.getBBox()}catch{t=Ub(e),n=1}return t&&(t.width||t.height)||n||(t=Ub(e)),t&&!t.width&&!t.x&&!t.y?{x:+zb(e,["x","cx","x1"])||0,y:+zb(e,["y","cy","y1"])||0,width:0,height:0}:t},aI=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&sI(e))},lo=function(e,t){if(t){var n=e.style,a;t in Qr&&t!==On&&(t=ft),n.removeProperty?(a=t.substr(0,2),(a==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(a==="--"?t:t.replace(rv,"-$1").toLowerCase())):n.removeAttribute(t)}},Ns=function(e,t,n,a,l,u){var h=new Cn(e._pt,t,n,0,1,u?tI:eI);return e._pt=h,h.b=a,h.e=l,e._props.push(n),h},jb={deg:1,rad:1,turn:1},XU={grid:1,flex:1},Qs=function r(e,t,n,a){var l=parseFloat(n)||0,u=(n+"").trim().substr((l+"").length)||"px",h=Ya.style,d=LU.test(t),p=e.tagName.toLowerCase()==="svg",_=(p?"client":"offset")+(d?"Width":"Height"),v=100,T=a==="px",b=a==="%",I,S,D,P;if(a===u||!l||jb[a]||jb[u])return l;if(u!=="px"&&!T&&(l=r(e,t,n,"px")),P=e.getCTM&&aI(e),(b||u==="%")&&(Qr[t]||~t.indexOf("adius")))return I=P?e.getBBox()[d?"width":"height"]:e[_],bt(b?l/I*v:l/100*I);if(h[d?"width":"height"]=v+(T?u:a),S=a!=="rem"&&~t.indexOf("adius")||a==="em"&&e.appendChild&&!p?e:e.parentNode,P&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===xs||!S.appendChild)&&(S=xs.body),D=S._gsap,D&&b&&D.width&&d&&D.time===Bn.time&&!D.uncache)return bt(l/D.width*v);if(b&&(t==="height"||t==="width")){var F=e.style[t];e.style[t]=v+a,I=e[_],F?e.style[t]=F:lo(e,t)}else(b||u==="%")&&!XU[hi(S,"display")]&&(h.position=hi(e,"position")),S===e&&(h.position="static"),S.appendChild(Ya),I=Ya[_],S.removeChild(Ya),h.position="absolute";return d&&b&&(D=Xa(S),D.time=Bn.time,D.width=S[_]),bt(T?I*l/v:I&&l?v/I*l:0)},Vr=function(e,t,n,a){var l;return nv||x_(),t in Qi&&t!=="transform"&&(t=Qi[t],~t.indexOf(",")&&(t=t.split(",")[0])),Qr[t]&&t!=="transform"?(l=Bc(e,a),l=t!=="transformOrigin"?l[t]:l.svg?l.origin:Nd(hi(e,On))+" "+l.zOrigin+"px"):(l=e.style[t],(!l||l==="auto"||a||~(l+"").indexOf("calc("))&&(l=xd[t]&&xd[t](e,t,n)||hi(e,t)||wR(e,t)||(t==="opacity"?1:0))),n&&!~(l+"").trim().indexOf(" ")?Qs(e,t,l,n)+n:l},WU=function(e,t,n,a){if(!n||n==="none"){var l=kl(t,e,1),u=l&&hi(e,l,1);u&&u!==n?(t=l,n=u):t==="borderColor"&&(n=hi(e,"borderTopColor"))}var h=new Cn(this._pt,e.style,t,0,1,WR),d=0,p=0,_,v,T,b,I,S,D,P,F,B,K,H;if(h.b=n,h.e=a,n+="",a+="",a.substring(0,6)==="var(--"&&(a=hi(e,a.substring(4,a.indexOf(")")))),a==="auto"&&(S=e.style[t],e.style[t]=a,a=hi(e,t)||a,S?e.style[t]=S:lo(e,t)),_=[n,a],BR(_),n=_[0],a=_[1],T=n.match(gl)||[],H=a.match(gl)||[],H.length){for(;v=gl.exec(a);)D=v[0],F=a.substring(d,v.index),I?I=(I+1)%5:(F.substr(-5)==="rgba("||F.substr(-5)==="hsla(")&&(I=1),D!==(S=T[p++]||"")&&(b=parseFloat(S)||0,K=S.substr((b+"").length),D.charAt(1)==="="&&(D=wl(b,D)+K),P=parseFloat(D),B=D.substr((P+"").length),d=gl.lastIndex-B.length,B||(B=B||Hn.units[t]||K,d===a.length&&(a+=B,h.e+=B)),K!==B&&(b=Qs(e,t,S,B)||0),h._pt={_next:h._pt,p:F||p===1?F:",",s:b,c:P-b,m:I&&I<4||t==="zIndex"?Math.round:0});h.c=d<a.length?a.substring(d,a.length):""}else h.r=t==="display"&&a==="none"?tI:eI;return gR.test(a)&&(h.e=0),this._pt=h,h},Bb={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ZU=function(e){var t=e.split(" "),n=t[0],a=t[1]||"50%";return(n==="top"||n==="bottom"||a==="left"||a==="right")&&(e=n,n=a,a=e),t[0]=Bb[n]||n,t[1]=Bb[a]||a,t.join(" ")},JU=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,a=n.style,l=t.u,u=n._gsap,h,d,p;if(l==="all"||l===!0)a.cssText="",d=1;else for(l=l.split(","),p=l.length;--p>-1;)h=l[p],Qr[h]&&(d=1,h=h==="transformOrigin"?On:ft),lo(n,h);d&&(lo(n,ft),u&&(u.svg&&n.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",Bc(n,1),u.uncache=1,nI(a)))}},xd={clearProps:function(e,t,n,a,l){if(l.data!=="isFromStart"){var u=e._pt=new Cn(e._pt,t,n,0,0,JU);return u.u=a,u.pr=-10,u.tween=l,e._props.push(n),1}}},jc=[1,0,0,1,0,0],oI={},lI=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Fb=function(e){var t=hi(e,ft);return lI(t)?jc:t.substr(7).match(pR).map(bt)},sv=function(e,t){var n=e._gsap||Xa(e),a=e.style,l=Fb(e),u,h,d,p;return n.svg&&e.getAttribute("transform")?(d=e.transform.baseVal.consolidate().matrix,l=[d.a,d.b,d.c,d.d,d.e,d.f],l.join(",")==="1,0,0,1,0,0"?jc:l):(l===jc&&!e.offsetParent&&e!==bl&&!n.svg&&(d=a.display,a.display="block",u=e.parentNode,(!u||!e.offsetParent&&!e.getBoundingClientRect().width)&&(p=1,h=e.nextElementSibling,bl.appendChild(e)),l=Fb(e),d?a.display=d:lo(e,"display"),p&&(h?u.insertBefore(e,h):u?u.appendChild(e):bl.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},N_=function(e,t,n,a,l,u){var h=e._gsap,d=l||sv(e,!0),p=h.xOrigin||0,_=h.yOrigin||0,v=h.xOffset||0,T=h.yOffset||0,b=d[0],I=d[1],S=d[2],D=d[3],P=d[4],F=d[5],B=t.split(" "),K=parseFloat(B[0])||0,H=parseFloat(B[1])||0,ee,x,R,C;n?d!==jc&&(x=b*D-I*S)&&(R=K*(D/x)+H*(-S/x)+(S*F-D*P)/x,C=K*(-I/x)+H*(b/x)-(b*F-I*P)/x,K=R,H=C):(ee=sI(e),K=ee.x+(~B[0].indexOf("%")?K/100*ee.width:K),H=ee.y+(~(B[1]||B[0]).indexOf("%")?H/100*ee.height:H)),a||a!==!1&&h.smooth?(P=K-p,F=H-_,h.xOffset=v+(P*b+F*S)-P,h.yOffset=T+(P*I+F*D)-F):h.xOffset=h.yOffset=0,h.xOrigin=K,h.yOrigin=H,h.smooth=!!a,h.origin=t,h.originIsAbsolute=!!n,e.style[On]="0px 0px",u&&(Ns(u,h,"xOrigin",p,K),Ns(u,h,"yOrigin",_,H),Ns(u,h,"xOffset",v,h.xOffset),Ns(u,h,"yOffset",T,h.yOffset)),e.setAttribute("data-svg-origin",K+" "+H)},Bc=function(e,t){var n=e._gsap||new GR(e);if("x"in n&&!t&&!n.uncache)return n;var a=e.style,l=n.scaleX<0,u="px",h="deg",d=getComputedStyle(e),p=hi(e,On)||"0",_,v,T,b,I,S,D,P,F,B,K,H,ee,x,R,C,M,V,U,N,Le,Ie,Z,oe,de,Me,L,ae,ue,le,pe,be;return _=v=T=S=D=P=F=B=K=0,b=I=1,n.svg=!!(e.getCTM&&aI(e)),d.translate&&((d.translate!=="none"||d.scale!=="none"||d.rotate!=="none")&&(a[ft]=(d.translate!=="none"?"translate3d("+(d.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(d.rotate!=="none"?"rotate("+d.rotate+") ":"")+(d.scale!=="none"?"scale("+d.scale.split(" ").join(",")+") ":"")+(d[ft]!=="none"?d[ft]:"")),a.scale=a.rotate=a.translate="none"),x=sv(e,n.svg),n.svg&&(n.uncache?(de=e.getBBox(),p=n.xOrigin-de.x+"px "+(n.yOrigin-de.y)+"px",oe=""):oe=!t&&e.getAttribute("data-svg-origin"),N_(e,oe||p,!!oe||n.originIsAbsolute,n.smooth!==!1,x)),H=n.xOrigin||0,ee=n.yOrigin||0,x!==jc&&(V=x[0],U=x[1],N=x[2],Le=x[3],_=Ie=x[4],v=Z=x[5],x.length===6?(b=Math.sqrt(V*V+U*U),I=Math.sqrt(Le*Le+N*N),S=V||U?hl(U,V)*qa:0,F=N||Le?hl(N,Le)*qa+S:0,F&&(I*=Math.abs(Math.cos(F*Al))),n.svg&&(_-=H-(H*V+ee*N),v-=ee-(H*U+ee*Le))):(be=x[6],le=x[7],L=x[8],ae=x[9],ue=x[10],pe=x[11],_=x[12],v=x[13],T=x[14],R=hl(be,ue),D=R*qa,R&&(C=Math.cos(-R),M=Math.sin(-R),oe=Ie*C+L*M,de=Z*C+ae*M,Me=be*C+ue*M,L=Ie*-M+L*C,ae=Z*-M+ae*C,ue=be*-M+ue*C,pe=le*-M+pe*C,Ie=oe,Z=de,be=Me),R=hl(-N,ue),P=R*qa,R&&(C=Math.cos(-R),M=Math.sin(-R),oe=V*C-L*M,de=U*C-ae*M,Me=N*C-ue*M,pe=Le*M+pe*C,V=oe,U=de,N=Me),R=hl(U,V),S=R*qa,R&&(C=Math.cos(R),M=Math.sin(R),oe=V*C+U*M,de=Ie*C+Z*M,U=U*C-V*M,Z=Z*C-Ie*M,V=oe,Ie=de),D&&Math.abs(D)+Math.abs(S)>359.9&&(D=S=0,P=180-P),b=bt(Math.sqrt(V*V+U*U+N*N)),I=bt(Math.sqrt(Z*Z+be*be)),R=hl(Ie,Z),F=Math.abs(R)>2e-4?R*qa:0,K=pe?1/(pe<0?-pe:pe):0),n.svg&&(oe=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!lI(hi(e,ft)),oe&&e.setAttribute("transform",oe))),Math.abs(F)>90&&Math.abs(F)<270&&(l?(b*=-1,F+=S<=0?180:-180,S+=S<=0?180:-180):(I*=-1,F+=F<=0?180:-180)),t=t||n.uncache,n.x=_-((n.xPercent=_&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-_)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+u,n.y=v-((n.yPercent=v&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-v)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+u,n.z=T+u,n.scaleX=bt(b),n.scaleY=bt(I),n.rotation=bt(S)+h,n.rotationX=bt(D)+h,n.rotationY=bt(P)+h,n.skewX=F+h,n.skewY=B+h,n.transformPerspective=K+u,(n.zOrigin=parseFloat(p.split(" ")[2])||!t&&n.zOrigin||0)&&(a[On]=Nd(p)),n.xOffset=n.yOffset=0,n.force3D=Hn.force3D,n.renderTransform=n.svg?t3:rI?uI:e3,n.uncache=0,n},Nd=function(e){return(e=e.split(" "))[0]+" "+e[1]},Bg=function(e,t,n){var a=hn(t);return bt(parseFloat(t)+parseFloat(Qs(e,"x",n+"px",a)))+a},e3=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,uI(e,t)},za="0deg",nc="0px",ja=") ",uI=function(e,t){var n=t||this,a=n.xPercent,l=n.yPercent,u=n.x,h=n.y,d=n.z,p=n.rotation,_=n.rotationY,v=n.rotationX,T=n.skewX,b=n.skewY,I=n.scaleX,S=n.scaleY,D=n.transformPerspective,P=n.force3D,F=n.target,B=n.zOrigin,K="",H=P==="auto"&&e&&e!==1||P===!0;if(B&&(v!==za||_!==za)){var ee=parseFloat(_)*Al,x=Math.sin(ee),R=Math.cos(ee),C;ee=parseFloat(v)*Al,C=Math.cos(ee),u=Bg(F,u,x*C*-B),h=Bg(F,h,-Math.sin(ee)*-B),d=Bg(F,d,R*C*-B+B)}D!==nc&&(K+="perspective("+D+ja),(a||l)&&(K+="translate("+a+"%, "+l+"%) "),(H||u!==nc||h!==nc||d!==nc)&&(K+=d!==nc||H?"translate3d("+u+", "+h+", "+d+") ":"translate("+u+", "+h+ja),p!==za&&(K+="rotate("+p+ja),_!==za&&(K+="rotateY("+_+ja),v!==za&&(K+="rotateX("+v+ja),(T!==za||b!==za)&&(K+="skew("+T+", "+b+ja),(I!==1||S!==1)&&(K+="scale("+I+", "+S+ja),F.style[ft]=K||"translate(0, 0)"},t3=function(e,t){var n=t||this,a=n.xPercent,l=n.yPercent,u=n.x,h=n.y,d=n.rotation,p=n.skewX,_=n.skewY,v=n.scaleX,T=n.scaleY,b=n.target,I=n.xOrigin,S=n.yOrigin,D=n.xOffset,P=n.yOffset,F=n.forceCSS,B=parseFloat(u),K=parseFloat(h),H,ee,x,R,C;d=parseFloat(d),p=parseFloat(p),_=parseFloat(_),_&&(_=parseFloat(_),p+=_,d+=_),d||p?(d*=Al,p*=Al,H=Math.cos(d)*v,ee=Math.sin(d)*v,x=Math.sin(d-p)*-T,R=Math.cos(d-p)*T,p&&(_*=Al,C=Math.tan(p-_),C=Math.sqrt(1+C*C),x*=C,R*=C,_&&(C=Math.tan(_),C=Math.sqrt(1+C*C),H*=C,ee*=C)),H=bt(H),ee=bt(ee),x=bt(x),R=bt(R)):(H=v,R=T,ee=x=0),(B&&!~(u+"").indexOf("px")||K&&!~(h+"").indexOf("px"))&&(B=Qs(b,"x",u,"px"),K=Qs(b,"y",h,"px")),(I||S||D||P)&&(B=bt(B+I-(I*H+S*x)+D),K=bt(K+S-(I*ee+S*R)+P)),(a||l)&&(C=b.getBBox(),B=bt(B+a/100*C.width),K=bt(K+l/100*C.height)),C="matrix("+H+","+ee+","+x+","+R+","+B+","+K+")",b.setAttribute("transform",C),F&&(b.style[ft]=C)},n3=function(e,t,n,a,l){var u=360,h=Kt(l),d=parseFloat(l)*(h&&~l.indexOf("rad")?qa:1),p=d-a,_=a+p+"deg",v,T;return h&&(v=l.split("_")[1],v==="short"&&(p%=u,p!==p%(u/2)&&(p+=p<0?u:-u)),v==="cw"&&p<0?p=(p+u*Vb)%u-~~(p/u)*u:v==="ccw"&&p>0&&(p=(p-u*Vb)%u-~~(p/u)*u)),e._pt=T=new Cn(e._pt,t,n,a,p,zU),T.e=_,T.u="deg",e._props.push(n),T},qb=function(e,t){for(var n in t)e[n]=t[n];return e},i3=function(e,t,n){var a=qb({},n._gsap),l="perspective,force3D,transformOrigin,svgOrigin",u=n.style,h,d,p,_,v,T,b,I;a.svg?(p=n.getAttribute("transform"),n.setAttribute("transform",""),u[ft]=t,h=Bc(n,1),lo(n,ft),n.setAttribute("transform",p)):(p=getComputedStyle(n)[ft],u[ft]=t,h=Bc(n,1),u[ft]=p);for(d in Qr)p=a[d],_=h[d],p!==_&&l.indexOf(d)<0&&(b=hn(p),I=hn(_),v=b!==I?Qs(n,d,p,I):parseFloat(p),T=parseFloat(_),e._pt=new Cn(e._pt,h,d,v,T-v,O_),e._pt.u=I||0,e._props.push(d));qb(h,a)};In("padding,margin,Width,Radius",function(r,e){var t="Top",n="Right",a="Bottom",l="Left",u=(e<3?[t,n,a,l]:[t+l,t+n,a+n,a+l]).map(function(h){return e<2?r+h:"border"+h+r});xd[e>1?"border"+r:r]=function(h,d,p,_,v){var T,b;if(arguments.length<4)return T=u.map(function(I){return Vr(h,I,p)}),b=T.join(" "),b.split(T[0]).length===5?T[0]:b;T=(_+"").split(" "),b={},u.forEach(function(I,S){return b[I]=T[S]=T[S]||T[(S-1)/2|0]}),h.init(d,b,v)}});var cI={name:"css",register:x_,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,a,l){var u=this._props,h=e.style,d=n.vars.startAt,p,_,v,T,b,I,S,D,P,F,B,K,H,ee,x,R;nv||x_(),this.styles=this.styles||iI(e),R=this.styles.props,this.tween=n;for(S in t)if(S!=="autoRound"&&(_=t[S],!(jn[S]&&$R(S,t,n,a,e,l)))){if(b=typeof _,I=xd[S],b==="function"&&(_=_.call(n,a,e,l),b=typeof _),b==="string"&&~_.indexOf("random(")&&(_=Lc(_)),I)I(this,e,S,_,n)&&(x=1);else if(S.substr(0,2)==="--")p=(getComputedStyle(e).getPropertyValue(S)+"").trim(),_+="",zs.lastIndex=0,zs.test(p)||(D=hn(p),P=hn(_)),P?D!==P&&(p=Qs(e,S,p,P)+P):D&&(_+=D),this.add(h,"setProperty",p,_,a,l,0,0,S),u.push(S),R.push(S,0,h[S]);else if(b!=="undefined"){if(d&&S in d?(p=typeof d[S]=="function"?d[S].call(n,a,e,l):d[S],Kt(p)&&~p.indexOf("random(")&&(p=Lc(p)),hn(p+"")||p==="auto"||(p+=Hn.units[S]||hn(Vr(e,S))||""),(p+"").charAt(1)==="="&&(p=Vr(e,S))):p=Vr(e,S),T=parseFloat(p),F=b==="string"&&_.charAt(1)==="="&&_.substr(0,2),F&&(_=_.substr(2)),v=parseFloat(_),S in Qi&&(S==="autoAlpha"&&(T===1&&Vr(e,"visibility")==="hidden"&&v&&(T=0),R.push("visibility",0,h.visibility),Ns(this,h,"visibility",T?"inherit":"hidden",v?"inherit":"hidden",!v)),S!=="scale"&&S!=="transform"&&(S=Qi[S],~S.indexOf(",")&&(S=S.split(",")[0]))),B=S in Qr,B){if(this.styles.save(S),b==="string"&&_.substring(0,6)==="var(--"&&(_=hi(e,_.substring(4,_.indexOf(")"))),v=parseFloat(_)),K||(H=e._gsap,H.renderTransform&&!t.parseTransform||Bc(e,t.parseTransform),ee=t.smoothOrigin!==!1&&H.smooth,K=this._pt=new Cn(this._pt,h,ft,0,1,H.renderTransform,H,0,-1),K.dep=1),S==="scale")this._pt=new Cn(this._pt,H,"scaleY",H.scaleY,(F?wl(H.scaleY,F+v):v)-H.scaleY||0,O_),this._pt.u=0,u.push("scaleY",S),S+="X";else if(S==="transformOrigin"){R.push(On,0,h[On]),_=ZU(_),H.svg?N_(e,_,0,ee,0,this):(P=parseFloat(_.split(" ")[2])||0,P!==H.zOrigin&&Ns(this,H,"zOrigin",H.zOrigin,P),Ns(this,h,S,Nd(p),Nd(_)));continue}else if(S==="svgOrigin"){N_(e,_,1,ee,0,this);continue}else if(S in oI){n3(this,H,S,T,F?wl(T,F+_):_);continue}else if(S==="smoothOrigin"){Ns(this,H,"smooth",H.smooth,_);continue}else if(S==="force3D"){H[S]=_;continue}else if(S==="transform"){i3(this,_,e);continue}}else S in h||(S=kl(S)||S);if(B||(v||v===0)&&(T||T===0)&&!UU.test(_)&&S in h)D=(p+"").substr((T+"").length),v||(v=0),P=hn(_)||(S in Hn.units?Hn.units[S]:D),D!==P&&(T=Qs(e,S,p,P)),this._pt=new Cn(this._pt,B?H:h,S,T,(F?wl(T,F+v):v)-T,!B&&(P==="px"||S==="zIndex")&&t.autoRound!==!1?BU:O_),this._pt.u=P||0,D!==P&&P!=="%"&&(this._pt.b=p,this._pt.r=jU);else if(S in h)WU.call(this,e,S,p,F?F+_:_);else if(S in e)this.add(e,S,p||e[S],F?F+_:_,a,l);else if(S!=="parseTransform"){$y(S,_);continue}B||(S in h?R.push(S,0,h[S]):typeof e[S]=="function"?R.push(S,2,e[S]()):R.push(S,1,p||e[S])),u.push(S)}}x&&ZR(this)},render:function(e,t){if(t.tween._time||!iv())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Vr,aliases:Qi,getSetter:function(e,t,n){var a=Qi[t];return a&&a.indexOf(",")<0&&(t=a),t in Qr&&t!==On&&(e._gsap.x||Vr(e,"x"))?n&&kb===n?t==="scale"?GU:HU:(kb=n||{})&&(t==="scale"?$U:YU):e.style&&!qy(e.style[t])?FU:~t.indexOf("-")?qU:ev(e,t)},core:{_removeProperty:lo,_getMatrix:sv}};Dn.utils.checkPrefix=kl;Dn.core.getStyleSaver=iI;(function(r,e,t,n){var a=In(r+","+e+","+t,function(l){Qr[l]=1});In(e,function(l){Hn.units[l]="deg",oI[l]=1}),Qi[a[13]]=r+","+e,In(n,function(l){var u=l.split(":");Qi[u[1]]=a[u[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");In("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){Hn.units[r]="px"});Dn.registerPlugin(cI);var Pd=Dn.registerPlugin(cI)||Dn;Pd.core.Tween;const Zf=$.forwardRef(({customClass:r,...e},t)=>j.jsx("div",{ref:t,...e,className:`card ${r??""} ${e.className??""}`.trim()}));Zf.displayName="Card";const Fg=(r,e,t,n)=>({x:r*e,y:-r*t,z:-r*e*1.5,zIndex:n-r}),r3=(r,e,t)=>Pd.set(r,{x:e.x,y:e.y,z:e.z,xPercent:-50,yPercent:-50,skewY:t,transformOrigin:"center center",zIndex:e.zIndex,force3D:!1}),s3=({width:r=600,height:e=400,cardDistance:t=60,verticalDistance:n=70,delay:a=5e3,pauseOnHover:l=!1,onCardClick:u,skewAmount:h=6,easing:d="elastic",children:p})=>{const _=d==="elastic"?{ease:"elastic.out(0.6,0.9)",durDrop:2,durMove:2,durReturn:2,promoteOverlap:.9,returnDelay:.05}:{ease:"power1.inOut",durDrop:.8,durMove:.8,durReturn:.8,promoteOverlap:.45,returnDelay:.2},v=$.useMemo(()=>$.Children.toArray(p),[p]),T=$.useMemo(()=>v.map(()=>Ps.createRef()),[v.length]),b=$.useRef(Array.from({length:v.length},(F,B)=>B)),I=$.useRef(null),S=$.useRef(),D=$.useRef(null);$.useEffect(()=>{const F=T.length;T.forEach((K,H)=>r3(K.current,Fg(H,t,n,F),h));const B=()=>{if(b.current.length<2)return;const[K,...H]=b.current,ee=T[K].current,x=Pd.timeline();I.current=x,x.to(ee,{y:"+=500",duration:_.durDrop,ease:_.ease}),x.addLabel("promote",`-=${_.durDrop*_.promoteOverlap}`),H.forEach((C,M)=>{const V=T[C].current,U=Fg(M,t,n,T.length);x.set(V,{zIndex:U.zIndex},"promote"),x.to(V,{x:U.x,y:U.y,z:U.z,duration:_.durMove,ease:_.ease},`promote+=${M*.15}`)});const R=Fg(T.length-1,t,n,T.length);x.addLabel("return",`promote+=${_.durMove*_.returnDelay}`),x.call(()=>{Pd.set(ee,{zIndex:R.zIndex})},void 0,"return"),x.set(ee,{x:R.x,z:R.z},"return"),x.to(ee,{y:R.y,duration:_.durReturn,ease:_.ease},"return"),x.call(()=>{b.current=[...H,K]})};if(B(),S.current=window.setInterval(B,a),l){const K=D.current,H=()=>{I.current?.pause(),clearInterval(S.current)},ee=()=>{I.current?.play(),S.current=window.setInterval(B,a)};return K.addEventListener("mouseenter",H),K.addEventListener("mouseleave",ee),()=>{K.removeEventListener("mouseenter",H),K.removeEventListener("mouseleave",ee),clearInterval(S.current)}}return()=>clearInterval(S.current)},[t,n,a,l,h,d]);const P=v.map((F,B)=>$.isValidElement(F)?$.cloneElement(F,{key:B,ref:T[B],style:{width:r,height:e,...F.props.style??{}},onClick:K=>{F.props.onClick?.(K),u?.(B)}}):F);return j.jsx("div",{ref:D,className:"card-swap-container",style:{width:r,height:e},children:P})};function a3(){const{currentUser:r}=$.useContext(th),[e,t]=$.useState(""),[n,a]=$.useState(""),l=async u=>{if(u.preventDefault(),!(!r||!e.trim()))try{const h=Mc(oo,"users",r.uid),d=await jy(h),p=d.exists()?d.data():{};await $4(Ny(oo,"feedbacks"),{uid:r.uid,email:r.email,displayName:p.name||r.displayName||r.email,photoURL:p.photo||r.photoURL||null,message:e.trim(),createdAt:at.now()}),t(""),a("Спасибо за отзыв!")}catch(h){console.error("Ошибка отправки отзыва:",h),a("Ошибка при отправке. Попробуйте позже.")}};return j.jsxs("div",{className:"feedback-container",children:[j.jsx("h3",{className:"feedback-title",children:"📝 Оставьте отзыв"}),j.jsxs("form",{onSubmit:l,children:[j.jsx("textarea",{value:e,onChange:u=>t(u.target.value),placeholder:"Напишите, что вы думаете...",rows:5,className:"feedback-textarea"}),j.jsx("button",{type:"submit",className:"feedback-button",children:"Отправить"})]}),n&&j.jsx("p",{className:"feedback-status",children:n})]})}function o3(){const[r,e]=$.useState([]);return $.useEffect(()=>{const t=eR(Ny(oo,"feedbacks"),B4("createdAt","desc")),n=Y4(t,a=>{const l=a.docs.map(u=>({id:u.id,...u.data()}));e(l)});return()=>n()},[]),j.jsxs("div",{className:"all-feedbacks",children:[j.jsx("h2",{children:"💬 Все отзывы"}),j.jsx("div",{className:"cardsFeedbackParent",children:r.map(t=>j.jsxs("div",{className:"feedback-card",children:[j.jsxs("div",{className:"feedback-header",children:[t.photoURL?j.jsx("img",{src:t.photoURL,alt:"avatar",className:"feedback-avatar"}):j.jsx("div",{className:"feedback-placeholder",children:t.displayName?t.displayName[0].toUpperCase():"?"}),j.jsx("strong",{className:"feedback-name",children:j.jsx(bc,{to:`/user/${t.uid}`,children:t.displayName||t.email})})]}),j.jsx("p",{className:"feedback-message",children:t.message}),j.jsx("small",{className:"feedback-time",children:t.createdAt?.toDate().toLocaleString()})]},t.id))})]})}const l3=({item:r})=>j.jsxs("div",{className:"HomePage",children:[j.jsxs("div",{className:"parentCardSwap",children:[j.jsxs("div",{className:"infoCardSwap",children:[j.jsxs("h1",{children:["EdUmeed - Education ",j.jsx("br",{})," is hope"]}),j.jsxs("p",{children:["Lorem ipsum dolor sit amet, consectetur adipisicing elit. ",j.jsx("br",{}),"Consequatur dolorem fuga repudiandae. Distinctio recusandae"]})]}),j.jsx("div",{style:{height:"500px",position:"relative"},children:j.jsxs(s3,{cardDistance:60,verticalDistance:70,delay:5e3,pauseOnHover:!1,children:[j.jsxs(Zf,{children:[j.jsx("h3",{children:"Card 1"}),j.jsx("div",{className:"line"}),j.jsx("img",{className:"imgCard",src:"/EdUmeed-mvp/image/cardS1.jpg",alt:"Card 1"}),j.jsx("p",{children:"vev"})]}),j.jsxs(Zf,{children:[j.jsx("h3",{children:"Card 2"}),j.jsx("div",{className:"line"}),j.jsx("img",{className:"imgCard",src:"/EdUmeed-mvp/image/cardS2.jpg",alt:"Card 1"})]}),j.jsxs(Zf,{children:[j.jsx("h3",{children:"Card 3"}),j.jsx("div",{className:"line"}),j.jsx("img",{className:"imgCard",src:"/EdUmeed-mvp/image/cardS3.jpg",alt:"Card 1"})]})]})})]}),j.jsx(qL,{item:r}),j.jsx(a3,{}),j.jsx(o3,{})]});function u3(){const[r,e]=$.useState(""),[t,n]=$.useState(""),[a,l]=$.useState(!0),[u,h]=$.useState(""),d=uo(),_=Ri().state?.from||"/",v=async b=>{b.preventDefault(),h("");try{a?await Zx(yc,r,t):await Wx(yc,r,t),d(_,{replace:!0})}catch(I){h(I.message)}},T=async()=>{const b=new Lr;h("");try{const I=await wN(yc,b);d(_,{replace:!0})}catch(I){h(I.message)}};return j.jsx("div",{className:"login-container",children:j.jsxs("div",{className:"login-box",children:[j.jsx("img",{src:"/EdUmeed-mvp/image/cardS3.jpg",alt:""}),a?j.jsx("h2",{children:"Welcome back"}):j.jsx("h2",{children:"Welcome"}),j.jsx("p",{children:"Please enter your details to sign in"}),j.jsxs("button",{className:"google-btn",onClick:T,children:[j.jsx("img",{src:"/EdUmeed-mvp/image/google.svg",alt:""})," Sign in with Google"]}),j.jsxs("div",{className:"lineP",children:[j.jsx("div",{className:"linePart"}),j.jsx("p",{children:"OR"}),j.jsx("div",{className:"linePart"})]}),j.jsxs("form",{onSubmit:v,children:[j.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:b=>e(b.target.value),autoComplete:"email",required:!0}),j.jsx("input",{type:"password",placeholder:"password",value:t,onChange:b=>n(b.target.value),autoComplete:"current-password",required:!0}),u&&j.jsx("p",{className:"error-message",children:"email or password incorect"}),j.jsx("button",{type:"submit",className:"submit",children:a?"Sign in":"Sign up"})]}),j.jsx("a",{className:"toggle-btn",onClick:()=>{l(!a),h("")},children:a?j.jsxs(j.Fragment,{children:["Don't have accaunt yet? ",j.jsx("span",{children:"Sign up"})]}):j.jsxs(j.Fragment,{children:["Alredy had accaunt ",j.jsx("span",{children:"Sign in"})]})}),j.jsx("hr",{})]})})}const c3=()=>{const{pathname:r}=Ri(),e=Ri();return $.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e.pathname,e.state]),null};function h3(){const{currentUser:r}=$.useContext(th),e=uo(),[t,n]=$.useState(!1),{name:a,setName:l,feeling:u,setFeeling:h,about:d,setAbout:p,photo:_,photoPreview:v,handlePhotoChange:T,saveProfile:b,loading:I}=lR(r),S=async()=>{await nN(yc),e("/login")},D=async()=>{await b(),n(!1)};return I||!r?j.jsx("p",{className:"loading",children:"Загрузка..."}):j.jsxs("div",{className:"profile-container",children:[j.jsx("img",{className:"profileIconInProfilePage",src:v||_||"/EdUmeed-mvp/ image /profileIcon.svg",alt:"profile"}),t&&j.jsxs("div",{className:"input-group",children:[j.jsx("label",{children:"Фото профиля:"}),j.jsx("input",{type:"file",accept:"image/*",onChange:T})]}),t?j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"input-group name",children:[j.jsx("label",{children:"Имя:"}),j.jsx("input",{type:"text",value:a,onChange:P=>l(P.target.value)})]}),j.jsxs("div",{className:"input-group ",children:[j.jsx("label",{children:"feeling:"}),j.jsx("input",{type:"text",value:u,onChange:P=>h(P.target.value)})]}),j.jsxs("div",{className:"input-group",children:[j.jsx("label",{children:"О себе:"}),j.jsx("textarea",{rows:"4",value:d,onChange:P=>p(P.target.value)})]}),j.jsx("button",{className:"save-btn",onClick:D,children:"Сохранить"})]}):j.jsxs(j.Fragment,{children:[j.jsx("h2",{children:a}),j.jsxs("p",{className:"gmail",children:[" ",r.email]}),j.jsx("button",{className:"edit-btn",onClick:()=>n(!0),children:"✏️ Редактировать"}),j.jsxs("p",{className:"feeling",children:[j.jsx("strong",{children:"feeling:"})," ",u||"Не указано"]}),j.jsxs("div",{className:"aboutMe",children:[j.jsx("p",{children:j.jsx("strong",{children:"О себе:"})}),j.jsxs("div",{className:"lineProfile",children:[" ",d||"Не указано"]}),j.jsx("p",{})]})]}),t&&j.jsx("button",{className:"cancel-btn",onClick:()=>n(!1),children:"Отмена"}),!t&&j.jsx("button",{className:"logout-btn",onClick:S,children:"Выйти"})]})}const f3=({id:r,text:e,onDelete:t,onEdit:n})=>{const[a,l]=$.useState(!1),[u,h]=$.useState(e),d=()=>{n(r,u),l(!1),console.log(a)};return j.jsxs("div",{className:"noteItem",onClick:()=>!a&&l(!0),children:[j.jsx("button",{className:"delete-btnNote",onClick:()=>t(r),children:"×"}),a?j.jsxs(j.Fragment,{children:[j.jsx("textarea",{className:"edit-area",value:u,onChange:p=>h(p.target.value)}),j.jsx("button",{className:"save-btn",onClick:d,children:"💾"})]}):j.jsx(j.Fragment,{children:j.jsx("p",{children:e})})]})},d3=()=>{const[r,e]=$.useState([]),[t,n]=$.useState(""),a=$.useRef(!0);$.useEffect(()=>{const d=JSON.parse(localStorage.getItem("stickyNotes"))||[];e(d)},[]),$.useEffect(()=>{if(a.current){a.current=!1;return}localStorage.setItem("stickyNotes",JSON.stringify(r))},[r]);const l=()=>{if(t.trim()==="")return;const d={id:Date.now(),text:t};e([d,...r]),n("")},u=(d,p)=>{const _=r.map(v=>v.id===d?{...v,text:p}:v);e(_)},h=d=>{e(r.filter(p=>p.id!==d))};return j.jsxs("div",{className:"notes-container",children:[j.jsx("h1",{className:"notes-title",children:"📌 Sticky Notes"}),j.jsxs("div",{className:"notes-input",children:[j.jsx("textarea",{placeholder:"Write your note here...",value:t,onChange:d=>n(d.target.value)}),j.jsx("button",{onClick:l,children:"Add Note"})]}),j.jsx("div",{className:"drag-area",children:r.map(d=>j.jsx(f3,{id:d.id,text:d.text,onDelete:h,onEdit:u},d.id))})]})};function m3(){const{uid:r}=pO(),[e,t]=$.useState([]),[n,a]=$.useState(null);return $.useEffect(()=>{(async()=>{const u=Mc(oo,"users",r),h=await jy(u);if(h.exists()){const v=h.data();a({displayName:v.name||"Не указано",photoURL:v.photo||null})}else a({displayName:"Не найден",photoURL:null});const d=eR(Ny(oo,"feedbacks"),j4("uid","==",r)),_=(await H4(d)).docs.map(v=>({id:v.id,...v.data()}));t(_)})()},[r]),n?j.jsxs("div",{className:"user-profile-container",children:[j.jsxs("div",{className:"profile-card",children:[n.photoURL&&j.jsx("img",{src:n.photoURL,alt:"Аватар",className:"profile-avatar"}),j.jsx("h2",{className:"profile-name",children:n.displayName})]}),j.jsx("h3",{className:"feedback-title",children:"📝 Отзывы:"}),j.jsx("div",{className:"feedback-list",children:e.map(l=>j.jsxs("div",{className:"feedback-card",children:[j.jsx("p",{children:l.message}),j.jsx("small",{children:l.createdAt?.toDate().toLocaleString()})]},l.id))})]}):j.jsx("p",{className:"loading",children:"Загрузка профиля..."})}function p3(){const[r,e]=$.useState([]);return $.useEffect(()=>{fetch("/EdUmeed-mvp/json/video.json").then(t=>t.json()).then(t=>e(t))},[]),j.jsx(j.Fragment,{children:j.jsxs("div",{className:"content",children:[j.jsx(c3,{}),j.jsx(SL,{}),j.jsx("div",{className:"line"}),j.jsxs(DO,{children:[j.jsx(Ba,{path:"/",element:j.jsx(l3,{item:r})}),j.jsx(Ba,{path:"/courses",element:j.jsx(FL,{})}),j.jsx(Ba,{path:"/login",element:j.jsx(u3,{})}),j.jsx(Ba,{path:"/profile",element:j.jsx(h3,{})}),j.jsx(Ba,{path:"/notes",element:j.jsx(d3,{})}),j.jsx(Ba,{path:"/user/:uid",element:j.jsx(m3,{})})]})]})})}gD.createRoot(document.getElementById("root")).render(j.jsx($.StrictMode,{children:j.jsx(eD,{basename:"/EdUmeed-mvp",children:j.jsx(AL,{children:j.jsx(p3,{})})})}));export{OL as _,kC as a,g3 as c,_3 as g,P_ as r};
