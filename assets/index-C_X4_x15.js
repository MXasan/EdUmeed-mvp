(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function yO(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var a=!1;try{a=this instanceof r}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var a=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:function(){return n[r]}})}),t}var fg={exports:{}},ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function vO(){if(CE)return ec;CE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return ec.Fragment=e,ec.jsx=t,ec.jsxs=t,ec}var OE;function TO(){return OE||(OE=1,fg.exports=vO()),fg.exports}var $=TO(),dg={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function EO(){if(PE)return Pe;PE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function x(L,ee,oe){this.props=L,this.context=ee,this.refs=S,this.updater=oe||w}x.prototype.isReactComponent={},x.prototype.setState=function(L,ee){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ee,"setState")},x.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function O(){}O.prototype=x.prototype;function k(L,ee,oe){this.props=L,this.context=ee,this.refs=S,this.updater=oe||w}var M=k.prototype=new O;M.constructor=k,C(M,x.prototype),M.isPureReactComponent=!0;var z=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function D(L,ee,oe,le,me,be){return oe=be.ref,{$$typeof:n,type:L,key:ee,ref:oe!==void 0?oe:null,props:be}}function A(L,ee){return D(L.type,ee,void 0,void 0,void 0,L.props)}function R(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function V(L){var ee={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(oe){return ee[oe]})}var U=/\/+/g;function j(L,ee){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):ee.toString(36)}function N(){}function ne(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(N,N):(L.status="pending",L.then(function(ee){L.status==="pending"&&(L.status="fulfilled",L.value=ee)},function(ee){L.status==="pending"&&(L.status="rejected",L.reason=ee)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function fe(L,ee,oe,le,me){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var Se=!1;if(L===null)Se=!0;else switch(be){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(L.$$typeof){case n:case e:Se=!0;break;case _:return Se=L._init,fe(Se(L._payload),ee,oe,le,me)}}if(Se)return me=me(L),Se=le===""?"."+j(L,0):le,z(me)?(oe="",Se!=null&&(oe=Se.replace(U,"$&/")+"/"),fe(me,ee,oe,"",function(Ht){return Ht})):me!=null&&(R(me)&&(me=A(me,oe+(me.key==null||L&&L.key===me.key?"":(""+me.key).replace(U,"$&/")+"/")+Se)),ee.push(me)),1;Se=0;var Et=le===""?".":le+":";if(z(L))for(var Ke=0;Ke<L.length;Ke++)le=L[Ke],be=Et+j(le,Ke),Se+=fe(le,ee,oe,be,me);else if(Ke=T(L),typeof Ke=="function")for(L=Ke.call(L),Ke=0;!(le=L.next()).done;)le=le.value,be=Et+j(le,Ke++),Se+=fe(le,ee,oe,be,me);else if(be==="object"){if(typeof L.then=="function")return fe(ne(L),ee,oe,le,me);throw ee=String(L),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Se}function X(L,ee,oe){if(L==null)return L;var le=[],me=0;return fe(L,le,"","",function(be){return ee.call(oe,be,me++)}),le}function ue(L){if(L._status===-1){var ee=L._result;ee=ee(),ee.then(function(oe){(L._status===0||L._status===-1)&&(L._status=1,L._result=oe)},function(oe){(L._status===0||L._status===-1)&&(L._status=2,L._result=oe)}),L._status===-1&&(L._status=0,L._result=ee)}if(L._status===1)return L._result.default;throw L._result}var pe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function he(){}return Pe.Children={map:X,forEach:function(L,ee,oe){X(L,function(){ee.apply(this,arguments)},oe)},count:function(L){var ee=0;return X(L,function(){ee++}),ee},toArray:function(L){return X(L,function(ee){return ee})||[]},only:function(L){if(!R(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Pe.Component=x,Pe.Fragment=t,Pe.Profiler=a,Pe.PureComponent=k,Pe.StrictMode=r,Pe.Suspense=d,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return F.H.useMemoCache(L)}},Pe.cache=function(L){return function(){return L.apply(null,arguments)}},Pe.cloneElement=function(L,ee,oe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var le=C({},L.props),me=L.key,be=void 0;if(ee!=null)for(Se in ee.ref!==void 0&&(be=void 0),ee.key!==void 0&&(me=""+ee.key),ee)!G.call(ee,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ee.ref===void 0||(le[Se]=ee[Se]);var Se=arguments.length-2;if(Se===1)le.children=oe;else if(1<Se){for(var Et=Array(Se),Ke=0;Ke<Se;Ke++)Et[Ke]=arguments[Ke+2];le.children=Et}return D(L.type,me,void 0,void 0,be,le)},Pe.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Pe.createElement=function(L,ee,oe){var le,me={},be=null;if(ee!=null)for(le in ee.key!==void 0&&(be=""+ee.key),ee)G.call(ee,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(me[le]=ee[le]);var Se=arguments.length-2;if(Se===1)me.children=oe;else if(1<Se){for(var Et=Array(Se),Ke=0;Ke<Se;Ke++)Et[Ke]=arguments[Ke+2];me.children=Et}if(L&&L.defaultProps)for(le in Se=L.defaultProps,Se)me[le]===void 0&&(me[le]=Se[le]);return D(L,be,void 0,void 0,null,me)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(L){return{$$typeof:h,render:L}},Pe.isValidElement=R,Pe.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:ue}},Pe.memo=function(L,ee){return{$$typeof:m,type:L,compare:ee===void 0?null:ee}},Pe.startTransition=function(L){var ee=F.T,oe={};F.T=oe;try{var le=L(),me=F.S;me!==null&&me(oe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(he,pe)}catch(be){pe(be)}finally{F.T=ee}},Pe.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Pe.use=function(L){return F.H.use(L)},Pe.useActionState=function(L,ee,oe){return F.H.useActionState(L,ee,oe)},Pe.useCallback=function(L,ee){return F.H.useCallback(L,ee)},Pe.useContext=function(L){return F.H.useContext(L)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(L,ee){return F.H.useDeferredValue(L,ee)},Pe.useEffect=function(L,ee,oe){var le=F.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(L,ee)},Pe.useId=function(){return F.H.useId()},Pe.useImperativeHandle=function(L,ee,oe){return F.H.useImperativeHandle(L,ee,oe)},Pe.useInsertionEffect=function(L,ee){return F.H.useInsertionEffect(L,ee)},Pe.useLayoutEffect=function(L,ee){return F.H.useLayoutEffect(L,ee)},Pe.useMemo=function(L,ee){return F.H.useMemo(L,ee)},Pe.useOptimistic=function(L,ee){return F.H.useOptimistic(L,ee)},Pe.useReducer=function(L,ee,oe){return F.H.useReducer(L,ee,oe)},Pe.useRef=function(L){return F.H.useRef(L)},Pe.useState=function(L){return F.H.useState(L)},Pe.useSyncExternalStore=function(L,ee,oe){return F.H.useSyncExternalStore(L,ee,oe)},Pe.useTransition=function(){return F.H.useTransition()},Pe.version="19.1.0",Pe}var DE;function Ul(){return DE||(DE=1,dg.exports=EO()),dg.exports}var W=Ul();const Vs=fS(W);var tc={},xE;function bO(){if(xE)return tc;xE=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.parse=u,tc.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,w){const C=new o,S=T.length;if(S<2)return C;const x=w?.decode||_;let O=0;do{const k=T.indexOf("=",O);if(k===-1)break;const M=T.indexOf(";",O),z=M===-1?S:M;if(k>z){O=T.lastIndexOf(";",k-1)+1;continue}const F=h(T,O,k),G=d(T,k,F),D=T.slice(F,G);if(C[D]===void 0){let A=h(T,k+1,z),R=d(T,z,A);const V=x(T.slice(A,R));C[D]=V}O=z+1}while(O<S);return C}function h(T,w,C){do{const S=T.charCodeAt(w);if(S!==32&&S!==9)return w}while(++w<C);return C}function d(T,w,C){for(;w>C;){const S=T.charCodeAt(--w);if(S!==32&&S!==9)return w+1}return C}function m(T,w,C){const S=C?.encode||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const x=S(w);if(!e.test(x))throw new TypeError(`argument val is invalid: ${w}`);let O=T+"="+x;if(!C)return O;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);O+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);O+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);O+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);O+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(O+="; HttpOnly"),C.secure&&(O+="; Secure"),C.partitioned&&(O+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return O}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function v(T){return a.call(T)==="[object Date]"}return tc}bO();var NE="popstate";function wO(n={}){function e(r,a){let{pathname:o,search:u,hash:h}=r.location;return i_("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Cc(a)}return AO(e,t,null,n)}function dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function oi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SO(){return Math.random().toString(36).substring(2,10)}function ME(n,e){return{usr:n.state,key:n.key,idx:e}}function i_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?zl(e):e,state:t,key:e&&e.key||r||SO()}}function Cc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function zl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function AO(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",d=null,m=_();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function _(){return(u.state||{idx:null}).idx}function v(){h="POP";let x=_(),O=x==null?null:x-m;m=x,d&&d({action:h,location:S.location,delta:O})}function T(x,O){h="PUSH";let k=i_(S.location,x,O);m=_()+1;let M=ME(k,m),z=S.createHref(k);try{u.pushState(M,"",z)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(z)}o&&d&&d({action:h,location:S.location,delta:1})}function w(x,O){h="REPLACE";let k=i_(S.location,x,O);m=_();let M=ME(k,m),z=S.createHref(k);u.replaceState(M,"",z),o&&d&&d({action:h,location:S.location,delta:0})}function C(x){return RO(x)}let S={get action(){return h},get location(){return n(a,u)},listen(x){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(NE,v),d=x,()=>{a.removeEventListener(NE,v),d=null}},createHref(x){return e(a,x)},createURL:C,encodeLocation(x){let O=C(x);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:T,replace:w,go(x){return u.go(x)}};return S}function RO(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),dt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Cc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function dS(n,e,t="/"){return IO(n,e,t,!1)}function IO(n,e,t,r){let a=typeof e=="string"?zl(e):e,o=Gi(a.pathname||"/",t);if(o==null)return null;let u=pS(n);CO(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=zO(o);h=LO(u[d],m,r)}return h}function pS(n,e=[],t=[],r=""){let a=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(dt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let m=qi([r,d.relativePath]),_=t.concat(d);o.children&&o.children.length>0&&(dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),pS(o.children,e,_,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:kO(m,o.index),routesMeta:_})};return n.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))a(o,u);else for(let h of mS(o.path))a(o,u,h)}),e}function mS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=mS(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function CO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:VO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var OO=/^:[\w-]+$/,PO=3,DO=2,xO=1,NO=10,MO=-2,kE=n=>n==="*";function kO(n,e){let t=n.split("/"),r=t.length;return t.some(kE)&&(r+=MO),e&&(r+=DO),t.filter(a=>!kE(a)).reduce((a,o)=>a+(OO.test(o)?PO:o===""?xO:NO),r)}function VO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function LO(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,_=o==="/"?e:e.slice(o.length)||"/",v=rd({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},_),T=d.route;if(!v&&m&&t&&!r[r.length-1].route.index&&(v=rd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},_)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:qi([o,v.pathname]),pathnameBase:qO(qi([o,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(o=qi([o,v.pathnameBase]))}return u}function rd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=UO(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:v},T)=>{if(_==="*"){let C=h[T]||"";u=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const w=h[T];return v&&!w?m[_]=void 0:m[_]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:n}}function UO(n,e=!1,t=!0){oi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function zO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function jO(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?zl(n):n;return{pathname:t?t.startsWith("/")?t:BO(t,e):e,search:HO(r),hash:GO(a)}}function BO(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function pg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gS(n){let e=FO(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function _S(n,e,t,r=!1){let a;typeof n=="string"?a=zl(n):(a={...n},dt(!a.pathname||!a.pathname.includes("?"),pg("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),pg("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),pg("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),v-=1;a.pathname=T.join("/")}h=v>=0?e[v]:"/"}let d=jO(a,h),m=u&&u!=="/"&&u.endsWith("/"),_=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(m||_)&&(d.pathname+="/"),d}var qi=n=>n.join("/").replace(/\/\/+/g,"/"),qO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),HO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,GO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function $O(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var yS=["POST","PUT","PATCH","DELETE"];new Set(yS);var KO=["GET",...yS];new Set(KO);var jl=W.createContext(null);jl.displayName="DataRouter";var Vd=W.createContext(null);Vd.displayName="DataRouterState";var vS=W.createContext({isTransitioning:!1});vS.displayName="ViewTransition";var YO=W.createContext(new Map);YO.displayName="Fetchers";var XO=W.createContext(null);XO.displayName="Await";var hi=W.createContext(null);hi.displayName="Navigation";var Gc=W.createContext(null);Gc.displayName="Location";var Zi=W.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var Q_=W.createContext(null);Q_.displayName="RouteError";function QO(n,{relative:e}={}){dt($c(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(hi),{hash:a,pathname:o,search:u}=Kc(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:qi([t,o])),r.createHref({pathname:h,search:u,hash:a})}function $c(){return W.useContext(Gc)!=null}function Dr(){return dt($c(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Gc).location}var TS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ES(n){W.useContext(hi).static||W.useLayoutEffect(n)}function ho(){let{isDataRoute:n}=W.useContext(Zi);return n?uP():WO()}function WO(){dt($c(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(jl),{basename:e,navigator:t}=W.useContext(hi),{matches:r}=W.useContext(Zi),{pathname:a}=Dr(),o=JSON.stringify(gS(r)),u=W.useRef(!1);return ES(()=>{u.current=!0}),W.useCallback((d,m={})=>{if(oi(u.current,TS),!u.current)return;if(typeof d=="number"){t.go(d);return}let _=_S(d,JSON.parse(o),a,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:qi([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,o,a,n])}W.createContext(null);function Kc(n,{relative:e}={}){let{matches:t}=W.useContext(Zi),{pathname:r}=Dr(),a=JSON.stringify(gS(t));return W.useMemo(()=>_S(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function ZO(n,e){return bS(n,e)}function bS(n,e,t,r){dt($c(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=W.useContext(hi),{matches:o}=W.useContext(Zi),u=o[o.length-1],h=u?u.params:{},d=u?u.pathname:"/",m=u?u.pathnameBase:"/",_=u&&u.route;{let O=_&&_.path||"";wS(d,!_||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let v=Dr(),T;if(e){let O=typeof e=="string"?zl(e):e;dt(m==="/"||O.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${O.pathname}" was given in the \`location\` prop.`),T=O}else T=v;let w=T.pathname||"/",C=w;if(m!=="/"){let O=m.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=dS(n,{pathname:C});oi(_||S!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),oi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=rP(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:qi([m,a.encodeLocation?a.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:qi([m,a.encodeLocation?a.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),o,t,r);return e&&x?W.createElement(Gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},x):x}function JO(){let n=lP(),e=$O(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:a},t):null,u)}var eP=W.createElement(JO,null),tP=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(Zi.Provider,{value:this.props.routeContext},W.createElement(Q_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nP({routeContext:n,match:e,children:t}){let r=W.useContext(jl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Zi.Provider,{value:n},t)}function rP(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t?.errors;if(o!=null){let d=a.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);dt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(t)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:_,errors:v}=t,T=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||T){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,m,_)=>{let v,T=!1,w=null,C=null;t&&(v=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||eP,u&&(h<0&&_===0?(wS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):h===_&&(T=!0,C=m.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,_+1)),x=()=>{let O;return v?O=w:T?O=C:m.route.Component?O=W.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=d,W.createElement(nP,{match:m,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:O})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?W.createElement(tP,{location:t.location,revalidation:t.revalidation,component:w,error:v,children:x(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):x()},null)}function W_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iP(n){let e=W.useContext(jl);return dt(e,W_(n)),e}function sP(n){let e=W.useContext(Vd);return dt(e,W_(n)),e}function aP(n){let e=W.useContext(Zi);return dt(e,W_(n)),e}function Z_(n){let e=aP(n),t=e.matches[e.matches.length-1];return dt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function oP(){return Z_("useRouteId")}function lP(){let n=W.useContext(Q_),e=sP("useRouteError"),t=Z_("useRouteError");return n!==void 0?n:e.errors?.[t]}function uP(){let{router:n}=iP("useNavigate"),e=Z_("useNavigate"),t=W.useRef(!1);return ES(()=>{t.current=!0}),W.useCallback(async(a,o={})=>{oi(t.current,TS),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var VE={};function wS(n,e,t){!e&&!VE[n]&&(VE[n]=!0,oi(!1,t))}W.memo(cP);function cP({routes:n,future:e,state:t}){return bS(n,void 0,t,e)}function ac(n){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hP({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){dt(!$c(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=zl(t));let{pathname:d="/",search:m="",hash:_="",state:v=null,key:T="default"}=t,w=W.useMemo(()=>{let C=Gi(d,u);return C==null?null:{location:{pathname:C,search:m,hash:_,state:v,key:T},navigationType:r}},[u,d,m,_,v,T,r]);return oi(w!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:W.createElement(hi.Provider,{value:h},W.createElement(Gc.Provider,{children:e,value:w}))}function fP({children:n,location:e}){return ZO(s_(n),e)}function s_(n,e=[]){let t=[];return W.Children.forEach(n,(r,a)=>{if(!W.isValidElement(r))return;let o=[...e,a];if(r.type===W.Fragment){t.push.apply(t,s_(r.props.children,o));return}dt(r.type===ac,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=s_(r.props.children,o)),t.push(u)}),t}var Bf="get",Ff="application/x-www-form-urlencoded";function Ld(n){return n!=null&&typeof n.tagName=="string"}function dP(n){return Ld(n)&&n.tagName.toLowerCase()==="button"}function pP(n){return Ld(n)&&n.tagName.toLowerCase()==="form"}function mP(n){return Ld(n)&&n.tagName.toLowerCase()==="input"}function gP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _P(n,e){return n.button===0&&(!e||e==="_self")&&!gP(n)}var Df=null;function yP(){if(Df===null)try{new FormData(document.createElement("form"),0),Df=!1}catch{Df=!0}return Df}var vP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mg(n){return n!=null&&!vP.has(n)?(oi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ff}"`),null):n}function TP(n,e){let t,r,a,o,u;if(pP(n)){let h=n.getAttribute("action");r=h?Gi(h,e):null,t=n.getAttribute("method")||Bf,a=mg(n.getAttribute("enctype"))||Ff,o=new FormData(n)}else if(dP(n)||mP(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?Gi(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Bf,a=mg(n.getAttribute("formenctype"))||mg(h.getAttribute("enctype"))||Ff,o=new FormData(h,n),!yP()){let{name:m,type:_,value:v}=n;if(_==="image"){let T=m?`${m}.`:"";o.append(`${T}x`,"0"),o.append(`${T}y`,"0")}else m&&o.append(m,v)}}else{if(Ld(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Bf,r=null,a=Ff,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:u}}function J_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function EP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function wP(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await EP(o,t);return u.links?u.links():[]}return[]}));return IP(r.flat(1).filter(bP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function LE(n,e,t,r,a,o){let u=(d,m)=>t[m]?d.route.id!==t[m].route.id:!0,h=(d,m)=>t[m].pathname!==d.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,m)=>u(d,m)||h(d,m)):o==="data"?e.filter((d,m)=>{let _=r.routes[d.route.id];if(!_||!_.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function SP(n,e,{includeHydrateFallback:t}={}){return AP(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function AP(n){return[...new Set(n)]}function RP(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function IP(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(RP(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CP=new Set([100,101,204,205]);function OP(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Gi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function SS(){let n=W.useContext(jl);return J_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function PP(){let n=W.useContext(Vd);return J_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ey=W.createContext(void 0);ey.displayName="FrameworkContext";function AS(){let n=W.useContext(ey);return J_(n,"You must render this element inside a <HydratedRouter> element"),n}function DP(n,e){let t=W.useContext(ey),[r,a]=W.useState(!1),[o,u]=W.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:_,onTouchStart:v}=e,T=W.useRef(null);W.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let S=O=>{O.forEach(k=>{u(k.isIntersecting)})},x=new IntersectionObserver(S,{threshold:.5});return T.current&&x.observe(T.current),()=>{x.disconnect()}}},[n]),W.useEffect(()=>{if(r){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[r]);let w=()=>{a(!0)},C=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,T,{}]:[o,T,{onFocus:nc(h,w),onBlur:nc(d,C),onMouseEnter:nc(m,w),onMouseLeave:nc(_,C),onTouchStart:nc(v,w)}]:[!1,T,{}]}function nc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xP({page:n,...e}){let{router:t}=SS(),r=W.useMemo(()=>dS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(MP,{page:n,matches:r,...e}):null}function NP(n){let{manifest:e,routeModules:t}=AS(),[r,a]=W.useState([]);return W.useEffect(()=>{let o=!1;return wP(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),r}function MP({page:n,matches:e,...t}){let r=Dr(),{manifest:a,routeModules:o}=AS(),{basename:u}=SS(),{loaderData:h,matches:d}=PP(),m=W.useMemo(()=>LE(n,e,d,a,r,"data"),[n,e,d,a,r]),_=W.useMemo(()=>LE(n,e,d,a,r,"assets"),[n,e,d,a,r]),v=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,S=!1;if(e.forEach(O=>{let k=a.routes[O.route.id];!k||!k.hasLoader||(!m.some(M=>M.route.id===O.route.id)&&O.route.id in h&&o[O.route.id]?.shouldRevalidate||k.hasClientLoader?S=!0:C.add(O.route.id))}),C.size===0)return[];let x=OP(n,u);return S&&C.size>0&&x.searchParams.set("_routes",e.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[x.pathname+x.search]},[u,h,r,a,m,e,n,o]),T=W.useMemo(()=>SP(_,a),[_,a]),w=NP(_);return W.createElement(W.Fragment,null,v.map(C=>W.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),T.map(C=>W.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),w.map(({key:C,link:S})=>W.createElement("link",{key:C,...S})))}function kP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var RS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RS&&(window.__reactRouterVersion="7.6.2")}catch{}function VP({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=wO({window:t,v5Compat:!0}));let a=r.current,[o,u]=W.useState({action:a.action,location:a.location}),h=W.useCallback(d=>{W.startTransition(()=>u(d))},[u]);return W.useLayoutEffect(()=>a.listen(h),[a,h]),W.createElement(hP,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var IS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xr=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:m,preventScrollReset:_,viewTransition:v,...T},w){let{basename:C}=W.useContext(hi),S=typeof m=="string"&&IS.test(m),x,O=!1;if(typeof m=="string"&&S&&(x=m,RS))try{let R=new URL(window.location.href),V=m.startsWith("//")?new URL(R.protocol+m):new URL(m),U=Gi(V.pathname,C);V.origin===R.origin&&U!=null?m=U+V.search+V.hash:O=!0}catch{oi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=QO(m,{relative:a}),[M,z,F]=DP(r,T),G=jP(m,{replace:u,state:h,target:d,preventScrollReset:_,relative:a,viewTransition:v});function D(R){e&&e(R),R.defaultPrevented||G(R)}let A=W.createElement("a",{...T,...F,href:x||k,onClick:O||o?e:D,ref:kP(w,z),target:d,"data-discover":!S&&t==="render"?"true":void 0});return M&&!S?W.createElement(W.Fragment,null,A,W.createElement(xP,{page:k})):A});Xr.displayName="Link";var LP=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...m},_){let v=Kc(u,{relative:m.relative}),T=Dr(),w=W.useContext(Vd),{navigator:C,basename:S}=W.useContext(hi),x=w!=null&&GP(v)&&h===!0,O=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,k=T.pathname,M=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(k=k.toLowerCase(),M=M?M.toLowerCase():null,O=O.toLowerCase()),M&&S&&(M=Gi(M,S)||M);const z=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let F=k===O||!a&&k.startsWith(O)&&k.charAt(z)==="/",G=M!=null&&(M===O||!a&&M.startsWith(O)&&M.charAt(O.length)==="/"),D={isActive:F,isPending:G,isTransitioning:x},A=F?e:void 0,R;typeof r=="function"?R=r(D):R=[r,F?"active":null,G?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(D):o;return W.createElement(Xr,{...m,"aria-current":A,className:R,ref:_,style:V,to:u,viewTransition:h},typeof d=="function"?d(D):d)});LP.displayName="NavLink";var UP=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:u=Bf,action:h,onSubmit:d,relative:m,preventScrollReset:_,viewTransition:v,...T},w)=>{let C=qP(),S=HP(h,{relative:m}),x=u.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&IS.test(h),k=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let z=M.nativeEvent.submitter,F=z?.getAttribute("formmethod")||u;C(z||M.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:a,state:o,relative:m,preventScrollReset:_,viewTransition:v})};return W.createElement("form",{ref:w,method:x,action:S,onSubmit:r?d:k,...T,"data-discover":!O&&n==="render"?"true":void 0})});UP.displayName="Form";function zP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CS(n){let e=W.useContext(jl);return dt(e,zP(n)),e}function jP(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=ho(),d=Dr(),m=Kc(n,{relative:o});return W.useCallback(_=>{if(_P(_,e)){_.preventDefault();let v=t!==void 0?t:Cc(d)===Cc(m);h(n,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[d,h,m,t,r,e,n,a,o,u])}var BP=0,FP=()=>`__${String(++BP)}__`;function qP(){let{router:n}=CS("useSubmit"),{basename:e}=W.useContext(hi),t=oP();return W.useCallback(async(r,a={})=>{let{action:o,method:u,encType:h,formData:d,body:m}=TP(r,e);if(a.navigate===!1){let _=a.fetcherKey||FP();await n.fetch(_,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function HP(n,{relative:e}={}){let{basename:t}=W.useContext(hi),r=W.useContext(Zi);dt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Kc(n||".",{relative:e})},u=Dr();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(_=>_==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let _=h.toString();o.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:qi([t,o.pathname])),Cc(o)}function GP(n,e={}){let t=W.useContext(vS);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=CS("useViewTransitionState"),a=Kc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Gi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Gi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return rd(a.pathname,u)!=null||rd(a.pathname,o)!=null}[...CP];var gg={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function $P(){if(UE)return cn;UE=1;var n=Ul();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:_}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(d,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(d,m,null,_)},cn.flushSync=function(d){var m=u.T,_=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=m,r.p=_,r.d.f()}},cn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},cn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},cn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var _=m.as,v=h(_,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:w}):_==="script"&&r.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},cn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},cn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,v=h(_,m.crossOrigin);r.d.L(d,_,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},cn.preloadModule=function(d,m){if(typeof d=="string")if(m){var _=h(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},cn.requestFormReset=function(d){r.d.r(d)},cn.unstable_batchedUpdates=function(d,m){return d(m)},cn.useFormState=function(d,m,_){return u.H.useFormState(d,m,_)},cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},cn.version="19.1.0",cn}var zE;function KP(){if(zE)return gg.exports;zE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gg.exports=$P(),gg.exports}var _g={exports:{}},rc={},yg={exports:{}},vg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function YP(){return jE||(jE=1,function(n){function e(X,ue){var pe=X.length;X.push(ue);e:for(;0<pe;){var he=pe-1>>>1,L=X[he];if(0<a(L,ue))X[he]=ue,X[pe]=L,pe=he;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ue=X[0],pe=X.pop();if(pe!==ue){X[0]=pe;e:for(var he=0,L=X.length,ee=L>>>1;he<ee;){var oe=2*(he+1)-1,le=X[oe],me=oe+1,be=X[me];if(0>a(le,pe))me<L&&0>a(be,le)?(X[he]=be,X[me]=pe,he=me):(X[he]=le,X[oe]=pe,he=oe);else if(me<L&&0>a(be,pe))X[he]=be,X[me]=pe,he=me;else break e}}return ue}function a(X,ue){var pe=X.sortIndex-ue.sortIndex;return pe!==0?pe:X.id-ue.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],m=[],_=1,v=null,T=3,w=!1,C=!1,S=!1,x=!1,O=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function z(X){for(var ue=t(m);ue!==null;){if(ue.callback===null)r(m);else if(ue.startTime<=X)r(m),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=t(m)}}function F(X){if(S=!1,z(X),!C)if(t(d)!==null)C=!0,G||(G=!0,j());else{var ue=t(m);ue!==null&&fe(F,ue.startTime-X)}}var G=!1,D=-1,A=5,R=-1;function V(){return x?!0:!(n.unstable_now()-R<A)}function U(){if(x=!1,G){var X=n.unstable_now();R=X;var ue=!0;try{e:{C=!1,S&&(S=!1,k(D),D=-1),w=!0;var pe=T;try{t:{for(z(X),v=t(d);v!==null&&!(v.expirationTime>X&&V());){var he=v.callback;if(typeof he=="function"){v.callback=null,T=v.priorityLevel;var L=he(v.expirationTime<=X);if(X=n.unstable_now(),typeof L=="function"){v.callback=L,z(X),ue=!0;break t}v===t(d)&&r(d),z(X)}else r(d);v=t(d)}if(v!==null)ue=!0;else{var ee=t(m);ee!==null&&fe(F,ee.startTime-X),ue=!1}}break e}finally{v=null,T=pe,w=!1}ue=void 0}}finally{ue?j():G=!1}}}var j;if(typeof M=="function")j=function(){M(U)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ne=N.port2;N.port1.onmessage=U,j=function(){ne.postMessage(null)}}else j=function(){O(U,0)};function fe(X,ue){D=O(function(){X(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(X){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var pe=T;T=ue;try{return X()}finally{T=pe}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=T;T=X;try{return ue()}finally{T=pe}},n.unstable_scheduleCallback=function(X,ue,pe){var he=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?he+pe:he):pe=he,X){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=pe+L,X={id:_++,callback:ue,priorityLevel:X,startTime:pe,expirationTime:L,sortIndex:-1},pe>he?(X.sortIndex=pe,e(m,X),t(d)===null&&X===t(m)&&(S?(k(D),D=-1):S=!0,fe(F,pe-he))):(X.sortIndex=L,e(d,X),C||w||(C=!0,G||(G=!0,j()))),X},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(X){var ue=T;return function(){var pe=T;T=ue;try{return X.apply(this,arguments)}finally{T=pe}}}}(vg)),vg}var BE;function XP(){return BE||(BE=1,yg.exports=YP()),yg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function QP(){if(FE)return rc;FE=1;var n=XP(),e=Ul(),t=KP();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return h(p),i;if(g===c)return h(p),s;g=g.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=g;else{for(var b=!1,I=p.child;I;){if(I===l){b=!0,l=p,c=g;break}if(I===c){b=!0,c=p,l=g;break}I=I.sibling}if(!b){for(I=g.child;I;){if(I===l){b=!0,l=g,c=p;break}if(I===c){b=!0,c=g,l=p;break}I=I.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),M=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function j(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case x:return"Profiler";case S:return"StrictMode";case F:return"Suspense";case G:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case M:return(i.displayName||"Context")+".Provider";case k:return(i._context.displayName||"Context")+".Consumer";case z:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return s=i.displayName||null,s!==null?s:ne(i.type)||"Memo";case A:s=i._payload,i=i._init;try{return ne(i(s))}catch{}}return null}var fe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},he=[],L=-1;function ee(i){return{current:i}}function oe(i){0>L||(i.current=he[L],he[L]=null,L--)}function le(i,s){L++,he[L]=i.current,i.current=s}var me=ee(null),be=ee(null),Se=ee(null),Et=ee(null);function Ke(i,s){switch(le(Se,s),le(be,i),le(me,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?nE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=nE(s),i=rE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}oe(me),le(me,i)}function Ht(){oe(me),oe(be),oe(Se)}function Jn(i){i.memoizedState!==null&&le(Et,i);var s=me.current,l=rE(s,i.type);s!==l&&(le(be,i),le(me,l))}function fi(i){be.current===i&&(oe(me),oe(be)),Et.current===i&&(oe(Et),Xu._currentValue=pe)}var aa=Object.prototype.hasOwnProperty,oa=n.unstable_scheduleCallback,la=n.unstable_cancelCallback,$l=n.unstable_shouldYield,ah=n.unstable_requestPaint,er=n.unstable_now,hp=n.unstable_getCurrentPriorityLevel,Kl=n.unstable_ImmediatePriority,To=n.unstable_UserBlockingPriority,ua=n.unstable_NormalPriority,fp=n.unstable_LowPriority,Eo=n.unstable_IdlePriority,Yl=n.log,oh=n.unstable_setDisableYieldValue,mt=null,Ye=null;function Vn(i){if(typeof Yl=="function"&&oh(i),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(mt,i)}catch{}}var ln=Math.clz32?Math.clz32:ca,lh=Math.log,dp=Math.LN2;function ca(i){return i>>>=0,i===0?32:31-(lh(i)/dp|0)|0}var ha=256,fa=4194304;function br(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function bo(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var p=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var I=c&134217727;return I!==0?(c=I&~g,c!==0?p=br(c):(b&=I,b!==0?p=br(b):l||(l=I&~i,l!==0&&(p=br(l))))):(I=c&~g,I!==0?p=br(I):b!==0?p=br(b):l||(l=c&~i,l!==0&&(p=br(l)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:p}function da(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Xl(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ql(){var i=ha;return ha<<=1,(ha&4194048)===0&&(ha=256),i}function Wl(){var i=fa;return fa<<=1,(fa&62914560)===0&&(fa=4194304),i}function di(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function pi(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Zl(i,s,l,c,p,g){var b=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var I=i.entanglements,B=i.expirationTimes,Q=i.hiddenUpdates;for(l=b&~l;0<l;){var re=31-ln(l),se=1<<re;I[re]=0,B[re]=-1;var Z=Q[re];if(Z!==null)for(Q[re]=null,re=0;re<Z.length;re++){var J=Z[re];J!==null&&(J.lane&=-536870913)}l&=~se}c!==0&&Nr(i,c,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~s))}function Nr(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-ln(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Jl(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-ln(l),p=1<<c;p&s|i[c]&s&&(i[c]|=s),l&=~p}}function Ji(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function wo(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function es(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:bE(i.type))}function uh(i,s){var l=ue.p;try{return ue.p=i,s()}finally{ue.p=l}}var ot=Math.random().toString(36).slice(2),Vt="__reactFiber$"+ot,It="__reactProps$"+ot,tr="__reactContainer$"+ot,eu="__reactEvents$"+ot,pp="__reactListeners$"+ot,ts="__reactHandles$"+ot,ch="__reactResources$"+ot,pa="__reactMarker$"+ot;function ns(i){delete i[Vt],delete i[It],delete i[eu],delete i[pp],delete i[ts]}function mi(i){var s=i[Vt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[tr]||l[Vt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=oE(i);i!==null;){if(l=i[Vt])return l;i=oE(i)}return s}i=l,l=i.parentNode}return null}function Mr(i){if(i=i[Vt]||i[tr]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function kr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function _n(i){var s=i[ch];return s||(s=i[ch]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(i){i[pa]=!0}var tu=new Set,So={};function wr(i,s){gi(i,s),gi(i+"Capture",s)}function gi(i,s){for(So[i]=s,i=0;i<s.length;i++)tu.add(s[i])}var hh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fh={},ma={};function dh(i){return aa.call(ma,i)?!0:aa.call(fh,i)?!1:hh.test(i)?ma[i]=!0:(fh[i]=!0,!1)}function rs(i,s,l){if(dh(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Vr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Zt(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}var ga,ph;function _i(i){if(ga===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ga=s&&s[1]||"",ph=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ga+i+ph}var Ao=!1;function Ro(i,s){if(!i||Ao)return"";Ao=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var Z=J}Reflect.construct(i,[],se)}else{try{se.call()}catch(J){Z=J}i.call(se.prototype)}}else{try{throw Error()}catch(J){Z=J}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],I=g[1];if(b&&I){var B=b.split(`
`),Q=I.split(`
`);for(p=c=0;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(c===B.length||p===Q.length)for(c=B.length-1,p=Q.length-1;1<=c&&0<=p&&B[c]!==Q[p];)p--;for(;1<=c&&0<=p;c--,p--)if(B[c]!==Q[p]){if(c!==1||p!==1)do if(c--,p--,0>p||B[c]!==Q[p]){var re=`
`+B[c].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=c&&0<=p);break}}}finally{Ao=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?_i(l):""}function nu(i){switch(i.tag){case 26:case 27:case 5:return _i(i.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Ro(i.type,!1);case 11:return Ro(i.type.render,!1);case 1:return Ro(i.type,!0);case 31:return _i("Activity");default:return""}}function Io(i){try{var s="";do s+=nu(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function yn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ru(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function mp(i){var s=ru(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Co(i){i._valueTracker||(i._valueTracker=mp(i))}function iu(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=ru(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function _a(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var gp=/[\n"\\]/g;function Ct(i){return i.replace(gp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ln(i,s,l,c,p,g,b,I){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+yn(s)):i.value!==""+yn(s)&&(i.value=""+yn(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?is(i,b,yn(s)):l!=null?is(i,b,yn(l)):c!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+yn(I):i.removeAttribute("name")}function ya(i,s,l,c,p,g,b,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;l=l!=null?""+yn(l):"",s=s!=null?""+yn(s):l,I||s===i.value||(i.value=s),i.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=I?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function is(i,s,l){s==="number"&&_a(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function yi(i,s,l,c){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+yn(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function We(i,s,l){if(s!=null&&(s=""+yn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+yn(l):""}function va(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(fe(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=yn(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function nr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Ta=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mh(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||Ta.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function su(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&l[p]!==c&&mh(i,p,c)}else for(var g in s)s.hasOwnProperty(g)&&mh(i,g,s[g])}function au(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _p=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oo(i){return yp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var vi=null;function rr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ti=null,Ei=null;function ou(i){var s=Mr(i);if(s&&(i=s.stateNode)){var l=i[It]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ln(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ct(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var p=c[It]||null;if(!p)throw Error(r(90));Ln(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&iu(c)}break e;case"textarea":We(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&yi(i,!!l.multiple,s,!1)}}}var Lr=!1;function gh(i,s,l){if(Lr)return i(s,l);Lr=!0;try{var c=i(s);return c}finally{if(Lr=!1,(Ti!==null||Ei!==null)&&(cf(),Ti&&(s=Ti,i=Ei,Ei=Ti=null,ou(s),i)))for(s=0;s<i.length;s++)ou(i[s])}}function Ea(i,s){var l=i.stateNode;if(l===null)return null;var c=l[It]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ir=!1;if(Sr)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){ir=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{ir=!1}var Ur=null,ss=null,bi=null;function lu(){if(bi)return bi;var i,s=ss,l=s.length,c,p="value"in Ur?Ur.value:Ur.textContent,g=p.length;for(i=0;i<l&&s[i]===p[i];i++);var b=l-i;for(c=1;c<=b&&s[l-c]===p[g-c];c++);return bi=p.slice(i,1<c?1-c:void 0)}function zr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function jr(){return!0}function uu(){return!1}function Gt(i){function s(l,c,p,g,b){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(l=i[I],this[I]=l?l(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?jr:uu,this.isPropagationStopped=uu,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),s}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=Gt(Ge),wa=_({},Ge,{view:0,detail:0}),_h=Gt(wa),Do,xo,Br,Sa=_({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Br&&(Br&&i.type==="mousemove"?(Do=i.screenX-Br.screenX,xo=i.screenY-Br.screenY):xo=Do=0,Br=i),Do)},movementY:function(i){return"movementY"in i?i.movementY:xo}}),sr=Gt(Sa),yh=_({},Sa,{dataTransfer:0}),vp=Gt(yh),Aa=_({},wa,{relatedTarget:0}),No=Gt(Aa),cu=_({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Mo=Gt(cu),vh=_({},Ge,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ko=Gt(vh),Tp=_({},Ge,{data:0}),hu=Gt(Tp),Ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Eh[i])?!!s[i]:!1}function Ia(){return fu}var bh=_({},wa,{key:function(i){if(i.key){var s=Ra[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=zr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Th[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(i){return i.type==="keypress"?zr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?zr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Vo=Gt(bh),wh=_({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),du=Gt(wh),wi=_({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),Sh=Gt(wi),Ah=_({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rh=Gt(Ah),Ih=_({},Sa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Lo=Gt(Ih),vn=_({},Ge,{newState:0,oldState:0}),Ch=Gt(vn),Oh=[9,13,27,32],Fr=Sr&&"CompositionEvent"in window,f=null;Sr&&"documentMode"in document&&(f=document.documentMode);var y=Sr&&"TextEvent"in window&&!f,E=Sr&&(!Fr||f&&8<f&&11>=f),P=" ",K=!1;function te(i,s){switch(i){case"keyup":return Oh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ze=!1;function Lt(i,s){switch(i){case"compositionend":return de(s);case"keypress":return s.which!==32?null:(K=!0,P);case"textInput":return i=s.data,i===P&&K?null:i;default:return null}}function je(i,s){if(ze)return i==="compositionend"||!Fr&&te(i,s)?(i=lu(),bi=ss=Ur=null,ze=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!$t[i.type]:s==="textarea"}function Si(i,s,l,c){Ti?Ei?Ei.push(c):Ei=[c]:Ti=c,s=gf(s,"onChange"),0<s.length&&(l=new Po("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var Jt=null,qr=null;function pu(i){WT(i,0)}function Ph(i){var s=kr(i);if(iu(s))return i}function yv(i,s){if(i==="change")return s}var vv=!1;if(Sr){var Ep;if(Sr){var bp="oninput"in document;if(!bp){var Tv=document.createElement("div");Tv.setAttribute("oninput","return;"),bp=typeof Tv.oninput=="function"}Ep=bp}else Ep=!1;vv=Ep&&(!document.documentMode||9<document.documentMode)}function Ev(){Jt&&(Jt.detachEvent("onpropertychange",bv),qr=Jt=null)}function bv(i){if(i.propertyName==="value"&&Ph(qr)){var s=[];Si(s,qr,i,rr(i)),gh(pu,s)}}function YI(i,s,l){i==="focusin"?(Ev(),Jt=s,qr=l,Jt.attachEvent("onpropertychange",bv)):i==="focusout"&&Ev()}function XI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ph(qr)}function QI(i,s){if(i==="click")return Ph(s)}function WI(i,s){if(i==="input"||i==="change")return Ph(s)}function ZI(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Un=typeof Object.is=="function"?Object.is:ZI;function mu(i,s){if(Un(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!aa.call(s,p)||!Un(i[p],s[p]))return!1}return!0}function wv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Sv(i,s){var l=wv(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wv(l)}}function Av(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Av(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Rv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=_a(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=_a(i.document)}return s}function wp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var JI=Sr&&"documentMode"in document&&11>=document.documentMode,Uo=null,Sp=null,gu=null,Ap=!1;function Iv(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ap||Uo==null||Uo!==_a(c)||(c=Uo,"selectionStart"in c&&wp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),gu&&mu(gu,c)||(gu=c,c=gf(Sp,"onSelect"),0<c.length&&(s=new Po("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=Uo)))}function Ca(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var zo={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},Rp={},Cv={};Sr&&(Cv=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function Oa(i){if(Rp[i])return Rp[i];if(!zo[i])return i;var s=zo[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Cv)return Rp[i]=s[l];return i}var Ov=Oa("animationend"),Pv=Oa("animationiteration"),Dv=Oa("animationstart"),eC=Oa("transitionrun"),tC=Oa("transitionstart"),nC=Oa("transitioncancel"),xv=Oa("transitionend"),Nv=new Map,Ip="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ip.push("scrollEnd");function Ar(i,s){Nv.set(i,s),wr(s,[i])}var Mv=new WeakMap;function ar(i,s){if(typeof i=="object"&&i!==null){var l=Mv.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Io(s)},Mv.set(i,s),s)}return{value:i,source:s,stack:Io(s)}}var or=[],jo=0,Cp=0;function Dh(){for(var i=jo,s=Cp=jo=0;s<i;){var l=or[s];or[s++]=null;var c=or[s];or[s++]=null;var p=or[s];or[s++]=null;var g=or[s];if(or[s++]=null,c!==null&&p!==null){var b=c.pending;b===null?p.next=p:(p.next=b.next,b.next=p),c.pending=p}g!==0&&kv(l,p,g)}}function xh(i,s,l,c){or[jo++]=i,or[jo++]=s,or[jo++]=l,or[jo++]=c,Cp|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Op(i,s,l,c){return xh(i,s,l,c),Nh(i)}function Bo(i,s){return xh(i,null,null,s),Nh(i)}function kv(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,g=i.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&s!==null&&(p=31-ln(l),i=g.hiddenUpdates,c=i[p],c===null?i[p]=[s]:c.push(s),s.lane=l|536870912),g):null}function Nh(i){if(50<Bu)throw Bu=0,km=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Fo={};function rC(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(i,s,l,c){return new rC(i,s,l,c)}function Pp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ai(i,s){var l=i.alternate;return l===null?(l=zn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Vv(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Mh(i,s,l,c,p,g){var b=0;if(c=i,typeof i=="function")Pp(i)&&(b=1);else if(typeof i=="string")b=sO(i,l,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=zn(31,l,s,p),i.elementType=R,i.lanes=g,i;case C:return Pa(l.children,p,g,s);case S:b=8,p|=24;break;case x:return i=zn(12,l,s,p|2),i.elementType=x,i.lanes=g,i;case F:return i=zn(13,l,s,p),i.elementType=F,i.lanes=g,i;case G:return i=zn(19,l,s,p),i.elementType=G,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:case M:b=10;break e;case k:b=9;break e;case z:b=11;break e;case D:b=14;break e;case A:b=16,c=null;break e}b=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=zn(b,l,s,p),s.elementType=i,s.type=c,s.lanes=g,s}function Pa(i,s,l,c){return i=zn(7,i,c,s),i.lanes=l,i}function Dp(i,s,l){return i=zn(6,i,null,s),i.lanes=l,i}function xp(i,s,l){return s=zn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var qo=[],Ho=0,kh=null,Vh=0,lr=[],ur=0,Da=null,Ri=1,Ii="";function xa(i,s){qo[Ho++]=Vh,qo[Ho++]=kh,kh=i,Vh=s}function Lv(i,s,l){lr[ur++]=Ri,lr[ur++]=Ii,lr[ur++]=Da,Da=i;var c=Ri;i=Ii;var p=32-ln(c)-1;c&=~(1<<p),l+=1;var g=32-ln(s)+p;if(30<g){var b=p-p%5;g=(c&(1<<b)-1).toString(32),c>>=b,p-=b,Ri=1<<32-ln(s)+p|l<<p|c,Ii=g+i}else Ri=1<<g|l<<p|c,Ii=i}function Np(i){i.return!==null&&(xa(i,1),Lv(i,1,0))}function Mp(i){for(;i===kh;)kh=qo[--Ho],qo[Ho]=null,Vh=qo[--Ho],qo[Ho]=null;for(;i===Da;)Da=lr[--ur],lr[ur]=null,Ii=lr[--ur],lr[ur]=null,Ri=lr[--ur],lr[ur]=null}var Tn=null,gt=null,He=!1,Na=null,Hr=!1,kp=Error(r(519));function Ma(i){var s=Error(r(418,""));throw vu(ar(s,i)),kp}function Uv(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[Vt]=i,s[It]=c,l){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(l=0;l<qu.length;l++)ke(qu[l],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),ya(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Co(s);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),va(s,c.value,c.defaultValue,c.children),Co(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||tE(s.textContent,l)?(c.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),c.onScroll!=null&&ke("scroll",s),c.onScrollEnd!=null&&ke("scrollend",s),c.onClick!=null&&(s.onclick=_f),s=!0):s=!1,s||Ma(i)}function zv(i){for(Tn=i.return;Tn;)switch(Tn.tag){case 5:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:Tn=Tn.return}}function _u(i){if(i!==Tn)return!1;if(!He)return zv(i),He=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Wm(i.type,i.memoizedProps)),l=!l),l&&gt&&Ma(i),zv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){gt=Ir(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}gt=null}}else s===27?(s=gt,Es(i.type)?(i=tg,tg=null,gt=i):gt=s):gt=Tn?Ir(i.stateNode.nextSibling):null;return!0}function yu(){gt=Tn=null,He=!1}function jv(){var i=Na;return i!==null&&(An===null?An=i:An.push.apply(An,i),Na=null),i}function vu(i){Na===null?Na=[i]:Na.push(i)}var Vp=ee(null),ka=null,Ci=null;function as(i,s,l){le(Vp,s._currentValue),s._currentValue=l}function Oi(i){i._currentValue=Vp.current,oe(Vp)}function Lp(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function Up(i,s,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var b=p.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=p;for(var B=0;B<s.length;B++)if(I.context===s[B]){g.lanes|=l,I=g.alternate,I!==null&&(I.lanes|=l),Lp(g.return,l,i),c||(b=null);break e}g=I.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(r(341));b.lanes|=l,g=b.alternate,g!==null&&(g.lanes|=l),Lp(b,l,i),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===i){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function Tu(i,s,l,c){i=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var I=p.type;Un(p.pendingProps.value,b.value)||(i!==null?i.push(I):i=[I])}}else if(p===Et.current){if(b=p.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Xu):i=[Xu])}p=p.return}i!==null&&Up(s,i,l,c),s.flags|=262144}function Lh(i){for(i=i.firstContext;i!==null;){if(!Un(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Va(i){ka=i,Ci=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function un(i){return Bv(ka,i)}function Uh(i,s){return ka===null&&Va(i),Bv(i,s)}function Bv(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ci===null){if(i===null)throw Error(r(308));Ci=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ci=Ci.next=s;return l}var iC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},sC=n.unstable_scheduleCallback,aC=n.unstable_NormalPriority,zt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zp(){return{controller:new iC,data:new Map,refCount:0}}function Eu(i){i.refCount--,i.refCount===0&&sC(aC,function(){i.controller.abort()})}var bu=null,jp=0,Go=0,$o=null;function oC(i,s){if(bu===null){var l=bu=[];jp=0,Go=Fm(),$o={status:"pending",value:void 0,then:function(c){l.push(c)}}}return jp++,s.then(Fv,Fv),s}function Fv(){if(--jp===0&&bu!==null){$o!==null&&($o.status="fulfilled");var i=bu;bu=null,Go=0,$o=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function lC(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var qv=X.S;X.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&oC(i,s),qv!==null&&qv(i,s)};var La=ee(null);function Bp(){var i=La.current;return i!==null?i:it.pooledCache}function zh(i,s){s===null?le(La,La.current):le(La,s.pool)}function Hv(){var i=Bp();return i===null?null:{parent:zt._currentValue,pool:i}}var wu=Error(r(460)),Gv=Error(r(474)),jh=Error(r(542)),Fp={then:function(){}};function $v(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Bh(){}function Kv(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Bh,Bh),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Xv(i),i;default:if(typeof s.status=="string")s.then(Bh,Bh);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Xv(i),i}throw Su=s,wu}}var Su=null;function Yv(){if(Su===null)throw Error(r(459));var i=Su;return Su=null,i}function Xv(i){if(i===wu||i===jh)throw Error(r(483))}var os=!1;function qp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ls(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function us(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=Nh(i),kv(i,null,l),s}return xh(i,c,s,l),Nh(i)}function Au(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Jl(i,l)}}function Gp(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=b:g=g.next=b,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var $p=!1;function Ru(){if($p){var i=$o;if(i!==null)throw i}}function Iu(i,s,l,c){$p=!1;var p=i.updateQueue;os=!1;var g=p.firstBaseUpdate,b=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var B=I,Q=B.next;B.next=null,b===null?g=Q:b.next=Q,b=B;var re=i.alternate;re!==null&&(re=re.updateQueue,I=re.lastBaseUpdate,I!==b&&(I===null?re.firstBaseUpdate=Q:I.next=Q,re.lastBaseUpdate=B))}if(g!==null){var se=p.baseState;b=0,re=Q=B=null,I=g;do{var Z=I.lane&-536870913,J=Z!==I.lane;if(J?(Be&Z)===Z:(c&Z)===Z){Z!==0&&Z===Go&&($p=!0),re!==null&&(re=re.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ie=i,Ee=I;Z=s;var et=l;switch(Ee.tag){case 1:if(Ie=Ee.payload,typeof Ie=="function"){se=Ie.call(et,se,Z);break e}se=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ee.payload,Z=typeof Ie=="function"?Ie.call(et,se,Z):Ie,Z==null)break e;se=_({},se,Z);break e;case 2:os=!0}}Z=I.callback,Z!==null&&(i.flags|=64,J&&(i.flags|=8192),J=p.callbacks,J===null?p.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:I.tag,payload:I.payload,callback:I.callback,next:null},re===null?(Q=re=J,B=se):re=re.next=J,b|=Z;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;J=I,I=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);re===null&&(B=se),p.baseState=B,p.firstBaseUpdate=Q,p.lastBaseUpdate=re,g===null&&(p.shared.lanes=0),_s|=b,i.lanes=b,i.memoizedState=se}}function Qv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Wv(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Qv(l[i],s)}var Ko=ee(null),Fh=ee(0);function Zv(i,s){i=Vi,le(Fh,i),le(Ko,s),Vi=i|s.baseLanes}function Kp(){le(Fh,Vi),le(Ko,Ko.current)}function Yp(){Vi=Fh.current,oe(Ko),oe(Fh)}var cs=0,De=null,Ze=null,Ot=null,qh=!1,Yo=!1,Ua=!1,Hh=0,Cu=0,Xo=null,uC=0;function wt(){throw Error(r(321))}function Xp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Un(i[l],s[l]))return!1;return!0}function Qp(i,s,l,c,p,g){return cs=g,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=i===null||i.memoizedState===null?k0:V0,Ua=!1,g=l(c,p),Ua=!1,Yo&&(g=e0(s,l,c,p)),Jv(i),g}function Jv(i){X.H=Qh;var s=Ze!==null&&Ze.next!==null;if(cs=0,Ot=Ze=De=null,qh=!1,Cu=0,Xo=null,s)throw Error(r(300));i===null||Kt||(i=i.dependencies,i!==null&&Lh(i)&&(Kt=!0))}function e0(i,s,l,c){De=i;var p=0;do{if(Yo&&(Xo=null),Cu=0,Yo=!1,25<=p)throw Error(r(301));if(p+=1,Ot=Ze=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=gC,g=s(l,c)}while(Yo);return g}function cC(){var i=X.H,s=i.useState()[0];return s=typeof s.then=="function"?Ou(s):s,i=i.useState()[0],(Ze!==null?Ze.memoizedState:null)!==i&&(De.flags|=1024),s}function Wp(){var i=Hh!==0;return Hh=0,i}function Zp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Jp(i){if(qh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}qh=!1}cs=0,Ot=Ze=De=null,Yo=!1,Cu=Hh=0,Xo=null}function wn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?De.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function Pt(){if(Ze===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=Ze.next;var s=Ot===null?De.memoizedState:Ot.next;if(s!==null)Ot=s,Ze=i;else{if(i===null)throw De.alternate===null?Error(r(467)):Error(r(310));Ze=i,i={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ot===null?De.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function em(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ou(i){var s=Cu;return Cu+=1,Xo===null&&(Xo=[]),i=Kv(Xo,i,s),s=De,(Ot===null?s.memoizedState:Ot.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?k0:V0),i}function Gh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ou(i);if(i.$$typeof===M)return un(i)}throw Error(r(438,String(i)))}function tm(i){var s=null,l=De.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=em(),De.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=V;return s.index++,l}function Pi(i,s){return typeof s=="function"?s(i):s}function $h(i){var s=Pt();return nm(s,Ze,i)}function nm(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=i.baseQueue,g=c.pending;if(g!==null){if(p!==null){var b=p.next;p.next=g.next,g.next=b}s.baseQueue=p=g,c.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{s=p.next;var I=b=null,B=null,Q=s,re=!1;do{var se=Q.lane&-536870913;if(se!==Q.lane?(Be&se)===se:(cs&se)===se){var Z=Q.revertLane;if(Z===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),se===Go&&(re=!0);else if((cs&Z)===Z){Q=Q.next,Z===Go&&(re=!0);continue}else se={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},B===null?(I=B=se,b=g):B=B.next=se,De.lanes|=Z,_s|=Z;se=Q.action,Ua&&l(g,se),g=Q.hasEagerState?Q.eagerState:l(g,se)}else Z={lane:se,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},B===null?(I=B=Z,b=g):B=B.next=Z,De.lanes|=se,_s|=se;Q=Q.next}while(Q!==null&&Q!==s);if(B===null?b=g:B.next=I,!Un(g,i.memoizedState)&&(Kt=!0,re&&(l=$o,l!==null)))throw l;i.memoizedState=g,i.baseState=b,i.baseQueue=B,c.lastRenderedState=g}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function rm(i){var s=Pt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do g=i(g,b.action),b=b.next;while(b!==p);Un(g,s.memoizedState)||(Kt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,c]}function t0(i,s,l){var c=De,p=Pt(),g=He;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=s();var b=!Un((Ze||p).memoizedState,l);b&&(p.memoizedState=l,Kt=!0),p=p.queue;var I=i0.bind(null,c,p,i);if(Pu(2048,8,I,[i]),p.getSnapshot!==s||b||Ot!==null&&Ot.memoizedState.tag&1){if(c.flags|=2048,Qo(9,Kh(),r0.bind(null,c,p,l,s),null),it===null)throw Error(r(349));g||(cs&124)!==0||n0(c,s,l)}return l}function n0(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=De.updateQueue,s===null?(s=em(),De.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function r0(i,s,l,c){s.value=l,s.getSnapshot=c,s0(s)&&a0(i)}function i0(i,s,l){return l(function(){s0(s)&&a0(i)})}function s0(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Un(i,l)}catch{return!0}}function a0(i){var s=Bo(i,2);s!==null&&Hn(s,i,2)}function im(i){var s=wn();if(typeof i=="function"){var l=i;if(i=l(),Ua){Vn(!0);try{l()}finally{Vn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:i},s}function o0(i,s,l,c){return i.baseState=l,nm(i,Ze,typeof c=="function"?c:Pi)}function hC(i,s,l,c,p){if(Xh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};X.T!==null?l(!0):g.isTransition=!1,c(g),l=s.pending,l===null?(g.next=s.pending=g,l0(s,g)):(g.next=l.next,s.pending=l.next=g)}}function l0(i,s){var l=s.action,c=s.payload,p=i.state;if(s.isTransition){var g=X.T,b={};X.T=b;try{var I=l(p,c),B=X.S;B!==null&&B(b,I),u0(i,s,I)}catch(Q){sm(i,s,Q)}finally{X.T=g}}else try{g=l(p,c),u0(i,s,g)}catch(Q){sm(i,s,Q)}}function u0(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){c0(i,s,c)},function(c){return sm(i,s,c)}):c0(i,s,l)}function c0(i,s,l){s.status="fulfilled",s.value=l,h0(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,l0(i,l)))}function sm(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,h0(s),s=s.next;while(s!==c)}i.action=null}function h0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function f0(i,s){return s}function d0(i,s){if(He){var l=it.formState;if(l!==null){e:{var c=De;if(He){if(gt){t:{for(var p=gt,g=Hr;p.nodeType!==8;){if(!g){p=null;break t}if(p=Ir(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){gt=Ir(p.nextSibling),c=p.data==="F!";break e}}Ma(c)}c=!1}c&&(s=l[0])}}return l=wn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f0,lastRenderedState:s},l.queue=c,l=x0.bind(null,De,c),c.dispatch=l,c=im(!1),g=cm.bind(null,De,!1,c.queue),c=wn(),p={state:s,dispatch:null,action:i,pending:null},c.queue=p,l=hC.bind(null,De,p,g,l),p.dispatch=l,c.memoizedState=i,[s,l,!1]}function p0(i){var s=Pt();return m0(s,Ze,i)}function m0(i,s,l){if(s=nm(i,s,f0)[0],i=$h(Pi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Ou(s)}catch(b){throw b===wu?jh:b}else c=s;s=Pt();var p=s.queue,g=p.dispatch;return l!==s.memoizedState&&(De.flags|=2048,Qo(9,Kh(),fC.bind(null,p,l),null)),[c,g,i]}function fC(i,s){i.action=s}function g0(i){var s=Pt(),l=Ze;if(l!==null)return m0(s,l,i);Pt(),s=s.memoizedState,l=Pt();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function Qo(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=De.updateQueue,s===null&&(s=em(),De.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function Kh(){return{destroy:void 0,resource:void 0}}function _0(){return Pt().memoizedState}function Yh(i,s,l,c){var p=wn();c=c===void 0?null:c,De.flags|=i,p.memoizedState=Qo(1|s,Kh(),l,c)}function Pu(i,s,l,c){var p=Pt();c=c===void 0?null:c;var g=p.memoizedState.inst;Ze!==null&&c!==null&&Xp(c,Ze.memoizedState.deps)?p.memoizedState=Qo(s,g,l,c):(De.flags|=i,p.memoizedState=Qo(1|s,g,l,c))}function y0(i,s){Yh(8390656,8,i,s)}function v0(i,s){Pu(2048,8,i,s)}function T0(i,s){return Pu(4,2,i,s)}function E0(i,s){return Pu(4,4,i,s)}function b0(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function w0(i,s,l){l=l!=null?l.concat([i]):null,Pu(4,4,b0.bind(null,s,i),l)}function am(){}function S0(i,s){var l=Pt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Xp(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function A0(i,s){var l=Pt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Xp(s,c[1]))return c[0];if(c=i(),Ua){Vn(!0);try{i()}finally{Vn(!1)}}return l.memoizedState=[c,s],c}function om(i,s,l){return l===void 0||(cs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=CT(),De.lanes|=i,_s|=i,l)}function R0(i,s,l,c){return Un(l,s)?l:Ko.current!==null?(i=om(i,l,c),Un(i,s)||(Kt=!0),i):(cs&42)===0?(Kt=!0,i.memoizedState=l):(i=CT(),De.lanes|=i,_s|=i,s)}function I0(i,s,l,c,p){var g=ue.p;ue.p=g!==0&&8>g?g:8;var b=X.T,I={};X.T=I,cm(i,!1,s,l);try{var B=p(),Q=X.S;if(Q!==null&&Q(I,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var re=lC(B,c);Du(i,s,re,qn(i))}else Du(i,s,c,qn(i))}catch(se){Du(i,s,{then:function(){},status:"rejected",reason:se},qn())}finally{ue.p=g,X.T=b}}function dC(){}function lm(i,s,l,c){if(i.tag!==5)throw Error(r(476));var p=C0(i).queue;I0(i,p,s,pe,l===null?dC:function(){return O0(i),l(c)})}function C0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:pe},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function O0(i){var s=C0(i).next.queue;Du(i,s,{},qn())}function um(){return un(Xu)}function P0(){return Pt().memoizedState}function D0(){return Pt().memoizedState}function pC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=qn();i=ls(l);var c=us(s,i,l);c!==null&&(Hn(c,s,l),Au(c,s,l)),s={cache:zp()},i.payload=s;return}s=s.return}}function mC(i,s,l){var c=qn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Xh(i)?N0(s,l):(l=Op(i,s,l,c),l!==null&&(Hn(l,i,c),M0(l,s,c)))}function x0(i,s,l){var c=qn();Du(i,s,l,c)}function Du(i,s,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xh(i))N0(s,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,I=g(b,l);if(p.hasEagerState=!0,p.eagerState=I,Un(I,b))return xh(i,s,p,0),it===null&&Dh(),!1}catch{}finally{}if(l=Op(i,s,p,c),l!==null)return Hn(l,i,c),M0(l,s,c),!0}return!1}function cm(i,s,l,c){if(c={lane:2,revertLane:Fm(),action:c,hasEagerState:!1,eagerState:null,next:null},Xh(i)){if(s)throw Error(r(479))}else s=Op(i,l,c,2),s!==null&&Hn(s,i,2)}function Xh(i){var s=i.alternate;return i===De||s!==null&&s===De}function N0(i,s){Yo=qh=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function M0(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Jl(i,l)}}var Qh={readContext:un,use:Gh,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},k0={readContext:un,use:Gh,useCallback:function(i,s){return wn().memoizedState=[i,s===void 0?null:s],i},useContext:un,useEffect:y0,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Yh(4194308,4,b0.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Yh(4194308,4,i,s)},useInsertionEffect:function(i,s){Yh(4,2,i,s)},useMemo:function(i,s){var l=wn();s=s===void 0?null:s;var c=i();if(Ua){Vn(!0);try{i()}finally{Vn(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=wn();if(l!==void 0){var p=l(s);if(Ua){Vn(!0);try{l(s)}finally{Vn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=mC.bind(null,De,i),[c.memoizedState,i]},useRef:function(i){var s=wn();return i={current:i},s.memoizedState=i},useState:function(i){i=im(i);var s=i.queue,l=x0.bind(null,De,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:am,useDeferredValue:function(i,s){var l=wn();return om(l,i,s)},useTransition:function(){var i=im(!1);return i=I0.bind(null,De,i.queue,!0,!1),wn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=De,p=wn();if(He){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),it===null)throw Error(r(349));(Be&124)!==0||n0(c,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,y0(i0.bind(null,c,g,i),[i]),c.flags|=2048,Qo(9,Kh(),r0.bind(null,c,g,l,s),null),l},useId:function(){var i=wn(),s=it.identifierPrefix;if(He){var l=Ii,c=Ri;l=(c&~(1<<32-ln(c)-1)).toString(32)+l,s="«"+s+"R"+l,l=Hh++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=uC++,s="«"+s+"r"+l.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:um,useFormState:d0,useActionState:d0,useOptimistic:function(i){var s=wn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=cm.bind(null,De,!0,l),l.dispatch=s,[i,s]},useMemoCache:tm,useCacheRefresh:function(){return wn().memoizedState=pC.bind(null,De)}},V0={readContext:un,use:Gh,useCallback:S0,useContext:un,useEffect:v0,useImperativeHandle:w0,useInsertionEffect:T0,useLayoutEffect:E0,useMemo:A0,useReducer:$h,useRef:_0,useState:function(){return $h(Pi)},useDebugValue:am,useDeferredValue:function(i,s){var l=Pt();return R0(l,Ze.memoizedState,i,s)},useTransition:function(){var i=$h(Pi)[0],s=Pt().memoizedState;return[typeof i=="boolean"?i:Ou(i),s]},useSyncExternalStore:t0,useId:P0,useHostTransitionStatus:um,useFormState:p0,useActionState:p0,useOptimistic:function(i,s){var l=Pt();return o0(l,Ze,i,s)},useMemoCache:tm,useCacheRefresh:D0},gC={readContext:un,use:Gh,useCallback:S0,useContext:un,useEffect:v0,useImperativeHandle:w0,useInsertionEffect:T0,useLayoutEffect:E0,useMemo:A0,useReducer:rm,useRef:_0,useState:function(){return rm(Pi)},useDebugValue:am,useDeferredValue:function(i,s){var l=Pt();return Ze===null?om(l,i,s):R0(l,Ze.memoizedState,i,s)},useTransition:function(){var i=rm(Pi)[0],s=Pt().memoizedState;return[typeof i=="boolean"?i:Ou(i),s]},useSyncExternalStore:t0,useId:P0,useHostTransitionStatus:um,useFormState:g0,useActionState:g0,useOptimistic:function(i,s){var l=Pt();return Ze!==null?o0(l,Ze,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:tm,useCacheRefresh:D0},Wo=null,xu=0;function Wh(i){var s=xu;return xu+=1,Wo===null&&(Wo=[]),Kv(Wo,i,s)}function Nu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Zh(i,s){throw s.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function L0(i){var s=i._init;return s(i._payload)}function U0(i){function s(H,q){if(i){var Y=H.deletions;Y===null?(H.deletions=[q],H.flags|=16):Y.push(q)}}function l(H,q){if(!i)return null;for(;q!==null;)s(H,q),q=q.sibling;return null}function c(H){for(var q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function p(H,q){return H=Ai(H,q),H.index=0,H.sibling=null,H}function g(H,q,Y){return H.index=Y,i?(Y=H.alternate,Y!==null?(Y=Y.index,Y<q?(H.flags|=67108866,q):Y):(H.flags|=67108866,q)):(H.flags|=1048576,q)}function b(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function I(H,q,Y,ie){return q===null||q.tag!==6?(q=Dp(Y,H.mode,ie),q.return=H,q):(q=p(q,Y),q.return=H,q)}function B(H,q,Y,ie){var _e=Y.type;return _e===C?re(H,q,Y.props.children,ie,Y.key):q!==null&&(q.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&L0(_e)===q.type)?(q=p(q,Y.props),Nu(q,Y),q.return=H,q):(q=Mh(Y.type,Y.key,Y.props,null,H.mode,ie),Nu(q,Y),q.return=H,q)}function Q(H,q,Y,ie){return q===null||q.tag!==4||q.stateNode.containerInfo!==Y.containerInfo||q.stateNode.implementation!==Y.implementation?(q=xp(Y,H.mode,ie),q.return=H,q):(q=p(q,Y.children||[]),q.return=H,q)}function re(H,q,Y,ie,_e){return q===null||q.tag!==7?(q=Pa(Y,H.mode,ie,_e),q.return=H,q):(q=p(q,Y),q.return=H,q)}function se(H,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Dp(""+q,H.mode,Y),q.return=H,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return Y=Mh(q.type,q.key,q.props,null,H.mode,Y),Nu(Y,q),Y.return=H,Y;case w:return q=xp(q,H.mode,Y),q.return=H,q;case A:var ie=q._init;return q=ie(q._payload),se(H,q,Y)}if(fe(q)||j(q))return q=Pa(q,H.mode,Y,null),q.return=H,q;if(typeof q.then=="function")return se(H,Wh(q),Y);if(q.$$typeof===M)return se(H,Uh(H,q),Y);Zh(H,q)}return null}function Z(H,q,Y,ie){var _e=q!==null?q.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return _e!==null?null:I(H,q,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return Y.key===_e?B(H,q,Y,ie):null;case w:return Y.key===_e?Q(H,q,Y,ie):null;case A:return _e=Y._init,Y=_e(Y._payload),Z(H,q,Y,ie)}if(fe(Y)||j(Y))return _e!==null?null:re(H,q,Y,ie,null);if(typeof Y.then=="function")return Z(H,q,Wh(Y),ie);if(Y.$$typeof===M)return Z(H,q,Uh(H,Y),ie);Zh(H,Y)}return null}function J(H,q,Y,ie,_e){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get(Y)||null,I(q,H,""+ie,_e);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case T:return H=H.get(ie.key===null?Y:ie.key)||null,B(q,H,ie,_e);case w:return H=H.get(ie.key===null?Y:ie.key)||null,Q(q,H,ie,_e);case A:var Ne=ie._init;return ie=Ne(ie._payload),J(H,q,Y,ie,_e)}if(fe(ie)||j(ie))return H=H.get(Y)||null,re(q,H,ie,_e,null);if(typeof ie.then=="function")return J(H,q,Y,Wh(ie),_e);if(ie.$$typeof===M)return J(H,q,Y,Uh(q,ie),_e);Zh(q,ie)}return null}function Ie(H,q,Y,ie){for(var _e=null,Ne=null,ve=q,we=q=0,Xt=null;ve!==null&&we<Y.length;we++){ve.index>we?(Xt=ve,ve=null):Xt=ve.sibling;var qe=Z(H,ve,Y[we],ie);if(qe===null){ve===null&&(ve=Xt);break}i&&ve&&qe.alternate===null&&s(H,ve),q=g(qe,q,we),Ne===null?_e=qe:Ne.sibling=qe,Ne=qe,ve=Xt}if(we===Y.length)return l(H,ve),He&&xa(H,we),_e;if(ve===null){for(;we<Y.length;we++)ve=se(H,Y[we],ie),ve!==null&&(q=g(ve,q,we),Ne===null?_e=ve:Ne.sibling=ve,Ne=ve);return He&&xa(H,we),_e}for(ve=c(ve);we<Y.length;we++)Xt=J(ve,H,we,Y[we],ie),Xt!==null&&(i&&Xt.alternate!==null&&ve.delete(Xt.key===null?we:Xt.key),q=g(Xt,q,we),Ne===null?_e=Xt:Ne.sibling=Xt,Ne=Xt);return i&&ve.forEach(function(Rs){return s(H,Rs)}),He&&xa(H,we),_e}function Ee(H,q,Y,ie){if(Y==null)throw Error(r(151));for(var _e=null,Ne=null,ve=q,we=q=0,Xt=null,qe=Y.next();ve!==null&&!qe.done;we++,qe=Y.next()){ve.index>we?(Xt=ve,ve=null):Xt=ve.sibling;var Rs=Z(H,ve,qe.value,ie);if(Rs===null){ve===null&&(ve=Xt);break}i&&ve&&Rs.alternate===null&&s(H,ve),q=g(Rs,q,we),Ne===null?_e=Rs:Ne.sibling=Rs,Ne=Rs,ve=Xt}if(qe.done)return l(H,ve),He&&xa(H,we),_e;if(ve===null){for(;!qe.done;we++,qe=Y.next())qe=se(H,qe.value,ie),qe!==null&&(q=g(qe,q,we),Ne===null?_e=qe:Ne.sibling=qe,Ne=qe);return He&&xa(H,we),_e}for(ve=c(ve);!qe.done;we++,qe=Y.next())qe=J(ve,H,we,qe.value,ie),qe!==null&&(i&&qe.alternate!==null&&ve.delete(qe.key===null?we:qe.key),q=g(qe,q,we),Ne===null?_e=qe:Ne.sibling=qe,Ne=qe);return i&&ve.forEach(function(_O){return s(H,_O)}),He&&xa(H,we),_e}function et(H,q,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===C&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:e:{for(var _e=Y.key;q!==null;){if(q.key===_e){if(_e=Y.type,_e===C){if(q.tag===7){l(H,q.sibling),ie=p(q,Y.props.children),ie.return=H,H=ie;break e}}else if(q.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&L0(_e)===q.type){l(H,q.sibling),ie=p(q,Y.props),Nu(ie,Y),ie.return=H,H=ie;break e}l(H,q);break}else s(H,q);q=q.sibling}Y.type===C?(ie=Pa(Y.props.children,H.mode,ie,Y.key),ie.return=H,H=ie):(ie=Mh(Y.type,Y.key,Y.props,null,H.mode,ie),Nu(ie,Y),ie.return=H,H=ie)}return b(H);case w:e:{for(_e=Y.key;q!==null;){if(q.key===_e)if(q.tag===4&&q.stateNode.containerInfo===Y.containerInfo&&q.stateNode.implementation===Y.implementation){l(H,q.sibling),ie=p(q,Y.children||[]),ie.return=H,H=ie;break e}else{l(H,q);break}else s(H,q);q=q.sibling}ie=xp(Y,H.mode,ie),ie.return=H,H=ie}return b(H);case A:return _e=Y._init,Y=_e(Y._payload),et(H,q,Y,ie)}if(fe(Y))return Ie(H,q,Y,ie);if(j(Y)){if(_e=j(Y),typeof _e!="function")throw Error(r(150));return Y=_e.call(Y),Ee(H,q,Y,ie)}if(typeof Y.then=="function")return et(H,q,Wh(Y),ie);if(Y.$$typeof===M)return et(H,q,Uh(H,Y),ie);Zh(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,q!==null&&q.tag===6?(l(H,q.sibling),ie=p(q,Y),ie.return=H,H=ie):(l(H,q),ie=Dp(Y,H.mode,ie),ie.return=H,H=ie),b(H)):l(H,q)}return function(H,q,Y,ie){try{xu=0;var _e=et(H,q,Y,ie);return Wo=null,_e}catch(ve){if(ve===wu||ve===jh)throw ve;var Ne=zn(29,ve,null,H.mode);return Ne.lanes=ie,Ne.return=H,Ne}finally{}}}var Zo=U0(!0),z0=U0(!1),cr=ee(null),Gr=null;function hs(i){var s=i.alternate;le(jt,jt.current&1),le(cr,i),Gr===null&&(s===null||Ko.current!==null||s.memoizedState!==null)&&(Gr=i)}function j0(i){if(i.tag===22){if(le(jt,jt.current),le(cr,i),Gr===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Gr=i)}}else fs()}function fs(){le(jt,jt.current),le(cr,cr.current)}function Di(i){oe(cr),Gr===i&&(Gr=null),oe(jt)}var jt=ee(0);function Jh(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||eg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function hm(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:_({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var fm={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=qn(),p=ls(c);p.payload=s,l!=null&&(p.callback=l),s=us(i,p,c),s!==null&&(Hn(s,i,c),Au(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=qn(),p=ls(c);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=us(i,p,c),s!==null&&(Hn(s,i,c),Au(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=qn(),c=ls(l);c.tag=2,s!=null&&(c.callback=s),s=us(i,c,l),s!==null&&(Hn(s,i,l),Au(s,i,l))}};function B0(i,s,l,c,p,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,b):s.prototype&&s.prototype.isPureReactComponent?!mu(l,c)||!mu(p,g):!0}function F0(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&fm.enqueueReplaceState(s,s.state,null)}function za(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=_({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var ef=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function q0(i){ef(i)}function H0(i){console.error(i)}function G0(i){ef(i)}function tf(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function $0(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function dm(i,s,l){return l=ls(l),l.tag=3,l.payload={element:null},l.callback=function(){tf(i,s)},l}function K0(i){return i=ls(i),i.tag=3,i}function Y0(i,s,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;i.payload=function(){return p(g)},i.callback=function(){$0(s,l,c)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){$0(s,l,c),typeof p!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function _C(i,s,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Tu(s,l,p,!0),l=cr.current,l!==null){switch(l.tag){case 13:return Gr===null?Lm():l.alternate===null&&_t===0&&(_t=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Fp?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),zm(i,c,p)),!1;case 22:return l.flags|=65536,c===Fp?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),zm(i,c,p)),!1}throw Error(r(435,l.tag))}return zm(i,c,p),Lm(),!1}if(He)return s=cr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==kp&&(i=Error(r(422),{cause:c}),vu(ar(i,l)))):(c!==kp&&(s=Error(r(423),{cause:c}),vu(ar(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=ar(c,l),p=dm(i.stateNode,c,p),Gp(i,p),_t!==4&&(_t=2)),!1;var g=Error(r(520),{cause:c});if(g=ar(g,l),ju===null?ju=[g]:ju.push(g),_t!==4&&(_t=2),s===null)return!0;c=ar(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=dm(l.stateNode,c,i),Gp(l,i),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ys===null||!ys.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=K0(p),Y0(p,i,l,c),Gp(l,p),!1}l=l.return}while(l!==null);return!1}var X0=Error(r(461)),Kt=!1;function en(i,s,l,c){s.child=i===null?z0(s,null,l,c):Zo(s,i.child,l,c)}function Q0(i,s,l,c,p){l=l.render;var g=s.ref;if("ref"in c){var b={};for(var I in c)I!=="ref"&&(b[I]=c[I])}else b=c;return Va(s),c=Qp(i,s,l,b,g,p),I=Wp(),i!==null&&!Kt?(Zp(i,s,p),xi(i,s,p)):(He&&I&&Np(s),s.flags|=1,en(i,s,c,p),s.child)}function W0(i,s,l,c,p){if(i===null){var g=l.type;return typeof g=="function"&&!Pp(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,Z0(i,s,g,c,p)):(i=Mh(l.type,null,c,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Em(i,p)){var b=g.memoizedProps;if(l=l.compare,l=l!==null?l:mu,l(b,c)&&i.ref===s.ref)return xi(i,s,p)}return s.flags|=1,i=Ai(g,c),i.ref=s.ref,i.return=s,s.child=i}function Z0(i,s,l,c,p){if(i!==null){var g=i.memoizedProps;if(mu(g,c)&&i.ref===s.ref)if(Kt=!1,s.pendingProps=c=g,Em(i,p))(i.flags&131072)!==0&&(Kt=!0);else return s.lanes=i.lanes,xi(i,s,p)}return pm(i,s,l,c,p)}function J0(i,s,l){var c=s.pendingProps,p=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|l:l,i!==null){for(p=s.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return eT(i,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&zh(s,g!==null?g.cachePool:null),g!==null?Zv(s,g):Kp(),j0(s);else return s.lanes=s.childLanes=536870912,eT(i,s,g!==null?g.baseLanes|l:l,l)}else g!==null?(zh(s,g.cachePool),Zv(s,g),fs(),s.memoizedState=null):(i!==null&&zh(s,null),Kp(),fs());return en(i,s,p,l),s.child}function eT(i,s,l,c){var p=Bp();return p=p===null?null:{parent:zt._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},i!==null&&zh(s,null),Kp(),j0(s),i!==null&&Tu(i,s,c,!0),null}function nf(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function pm(i,s,l,c,p){return Va(s),l=Qp(i,s,l,c,void 0,p),c=Wp(),i!==null&&!Kt?(Zp(i,s,p),xi(i,s,p)):(He&&c&&Np(s),s.flags|=1,en(i,s,l,p),s.child)}function tT(i,s,l,c,p,g){return Va(s),s.updateQueue=null,l=e0(s,c,l,p),Jv(i),c=Wp(),i!==null&&!Kt?(Zp(i,s,g),xi(i,s,g)):(He&&c&&Np(s),s.flags|=1,en(i,s,l,g),s.child)}function nT(i,s,l,c,p){if(Va(s),s.stateNode===null){var g=Fo,b=l.contextType;typeof b=="object"&&b!==null&&(g=un(b)),g=new l(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=fm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},qp(s),b=l.contextType,g.context=typeof b=="object"&&b!==null?un(b):Fo,g.state=s.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(hm(s,l,b,c),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&fm.enqueueReplaceState(g,g.state,null),Iu(s,c,g,p),Ru(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var I=s.memoizedProps,B=za(l,I);g.props=B;var Q=g.context,re=l.contextType;b=Fo,typeof re=="object"&&re!==null&&(b=un(re));var se=l.getDerivedStateFromProps;re=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||Q!==b)&&F0(s,g,c,b),os=!1;var Z=s.memoizedState;g.state=Z,Iu(s,c,g,p),Ru(),Q=s.memoizedState,I||Z!==Q||os?(typeof se=="function"&&(hm(s,l,se,c),Q=s.memoizedState),(B=os||B0(s,l,B,c,Z,Q,b))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Q),g.props=c,g.state=Q,g.context=b,c=B):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Hp(i,s),b=s.memoizedProps,re=za(l,b),g.props=re,se=s.pendingProps,Z=g.context,Q=l.contextType,B=Fo,typeof Q=="object"&&Q!==null&&(B=un(Q)),I=l.getDerivedStateFromProps,(Q=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==se||Z!==B)&&F0(s,g,c,B),os=!1,Z=s.memoizedState,g.state=Z,Iu(s,c,g,p),Ru();var J=s.memoizedState;b!==se||Z!==J||os||i!==null&&i.dependencies!==null&&Lh(i.dependencies)?(typeof I=="function"&&(hm(s,l,I,c),J=s.memoizedState),(re=os||B0(s,l,re,c,Z,J,B)||i!==null&&i.dependencies!==null&&Lh(i.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,J,B),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,J,B)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=J),g.props=c,g.state=J,g.context=B,c=re):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,nf(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Zo(s,i.child,null,p),s.child=Zo(s,null,l,p)):en(i,s,l,p),s.memoizedState=g.state,i=s.child):i=xi(i,s,p),i}function rT(i,s,l,c){return yu(),s.flags|=256,en(i,s,l,c),s.child}var mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gm(i){return{baseLanes:i,cachePool:Hv()}}function _m(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=hr),i}function iT(i,s,l){var c=s.pendingProps,p=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(jt.current&2)!==0),b&&(p=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(He){if(p?hs(s):fs(),He){var I=gt,B;if(B=I){e:{for(B=I,I=Hr;B.nodeType!==8;){if(!I){I=null;break e}if(B=Ir(B.nextSibling),B===null){I=null;break e}}I=B}I!==null?(s.memoizedState={dehydrated:I,treeContext:Da!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},B=zn(18,null,null,0),B.stateNode=I,B.return=s,s.child=B,Tn=s,gt=null,B=!0):B=!1}B||Ma(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return eg(I)?s.lanes=32:s.lanes=536870912,null;Di(s)}return I=c.children,c=c.fallback,p?(fs(),p=s.mode,I=rf({mode:"hidden",children:I},p),c=Pa(c,p,l,null),I.return=s,c.return=s,I.sibling=c,s.child=I,p=s.child,p.memoizedState=gm(l),p.childLanes=_m(i,b,l),s.memoizedState=mm,c):(hs(s),ym(s,I))}if(B=i.memoizedState,B!==null&&(I=B.dehydrated,I!==null)){if(g)s.flags&256?(hs(s),s.flags&=-257,s=vm(i,s,l)):s.memoizedState!==null?(fs(),s.child=i.child,s.flags|=128,s=null):(fs(),p=c.fallback,I=s.mode,c=rf({mode:"visible",children:c.children},I),p=Pa(p,I,l,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,Zo(s,i.child,null,l),c=s.child,c.memoizedState=gm(l),c.childLanes=_m(i,b,l),s.memoizedState=mm,s=p);else if(hs(s),eg(I)){if(b=I.nextSibling&&I.nextSibling.dataset,b)var Q=b.dgst;b=Q,c=Error(r(419)),c.stack="",c.digest=b,vu({value:c,source:null,stack:null}),s=vm(i,s,l)}else if(Kt||Tu(i,s,l,!1),b=(l&i.childLanes)!==0,Kt||b){if(b=it,b!==null&&(c=l&-l,c=(c&42)!==0?1:Ji(c),c=(c&(b.suspendedLanes|l))!==0?0:c,c!==0&&c!==B.retryLane))throw B.retryLane=c,Bo(i,c),Hn(b,i,c),X0;I.data==="$?"||Lm(),s=vm(i,s,l)}else I.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=B.treeContext,gt=Ir(I.nextSibling),Tn=s,He=!0,Na=null,Hr=!1,i!==null&&(lr[ur++]=Ri,lr[ur++]=Ii,lr[ur++]=Da,Ri=i.id,Ii=i.overflow,Da=s),s=ym(s,c.children),s.flags|=4096);return s}return p?(fs(),p=c.fallback,I=s.mode,B=i.child,Q=B.sibling,c=Ai(B,{mode:"hidden",children:c.children}),c.subtreeFlags=B.subtreeFlags&65011712,Q!==null?p=Ai(Q,p):(p=Pa(p,I,l,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,I=i.child.memoizedState,I===null?I=gm(l):(B=I.cachePool,B!==null?(Q=zt._currentValue,B=B.parent!==Q?{parent:Q,pool:Q}:B):B=Hv(),I={baseLanes:I.baseLanes|l,cachePool:B}),p.memoizedState=I,p.childLanes=_m(i,b,l),s.memoizedState=mm,c):(hs(s),l=i.child,i=l.sibling,l=Ai(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=l,s.memoizedState=null,l)}function ym(i,s){return s=rf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function rf(i,s){return i=zn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function vm(i,s,l){return Zo(s,i.child,null,l),i=ym(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function sT(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Lp(i.return,s,l)}function Tm(i,s,l,c,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=p)}function aT(i,s,l){var c=s.pendingProps,p=c.revealOrder,g=c.tail;if(en(i,s,c.children,l),c=jt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&sT(i,l,s);else if(i.tag===19)sT(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(le(jt,c),p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Jh(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Tm(s,!1,p,l,g);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Jh(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Tm(s,!0,l,null,g);break;case"together":Tm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xi(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),_s|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Tu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Ai(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ai(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Em(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Lh(i)))}function yC(i,s,l){switch(s.tag){case 3:Ke(s,s.stateNode.containerInfo),as(s,zt,i.memoizedState.cache),yu();break;case 27:case 5:Jn(s);break;case 4:Ke(s,s.stateNode.containerInfo);break;case 10:as(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(hs(s),s.flags|=128,null):(l&s.child.childLanes)!==0?iT(i,s,l):(hs(s),i=xi(i,s,l),i!==null?i.sibling:null);hs(s);break;case 19:var p=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Tu(i,s,l,!1),c=(l&s.childLanes)!==0),p){if(c)return aT(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),le(jt,jt.current),c)break;return null;case 22:case 23:return s.lanes=0,J0(i,s,l);case 24:as(s,zt,i.memoizedState.cache)}return xi(i,s,l)}function oT(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Kt=!0;else{if(!Em(i,l)&&(s.flags&128)===0)return Kt=!1,yC(i,s,l);Kt=(i.flags&131072)!==0}else Kt=!1,He&&(s.flags&1048576)!==0&&Lv(s,Vh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")Pp(c)?(i=za(c,i),s.tag=1,s=nT(null,s,c,i,l)):(s.tag=0,s=pm(null,s,c,i,l));else{if(c!=null){if(p=c.$$typeof,p===z){s.tag=11,s=Q0(null,s,c,i,l);break e}else if(p===D){s.tag=14,s=W0(null,s,c,i,l);break e}}throw s=ne(c)||c,Error(r(306,s,""))}}return s;case 0:return pm(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,p=za(c,s.pendingProps),nT(i,s,c,p,l);case 3:e:{if(Ke(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;p=g.element,Hp(i,s),Iu(s,c,null,l);var b=s.memoizedState;if(c=b.cache,as(s,zt,c),c!==g.cache&&Up(s,[zt],l,!0),Ru(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=rT(i,s,c,l);break e}else if(c!==p){p=ar(Error(r(424)),s),vu(p),s=rT(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(gt=Ir(i.firstChild),Tn=s,He=!0,Na=null,Hr=!0,l=z0(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(yu(),c===p){s=xi(i,s,l);break e}en(i,s,c,l)}s=s.child}return s;case 26:return nf(i,s),i===null?(l=hE(s.type,null,s.pendingProps,null))?s.memoizedState=l:He||(l=s.type,i=s.pendingProps,c=yf(Se.current).createElement(l),c[Vt]=s,c[It]=i,nn(c,l,i),bt(c),s.stateNode=c):s.memoizedState=hE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Jn(s),i===null&&He&&(c=s.stateNode=lE(s.type,s.pendingProps,Se.current),Tn=s,Hr=!0,p=gt,Es(s.type)?(tg=p,gt=Ir(c.firstChild)):gt=p),en(i,s,s.pendingProps.children,l),nf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&He&&((p=c=gt)&&(c=$C(c,s.type,s.pendingProps,Hr),c!==null?(s.stateNode=c,Tn=s,gt=Ir(c.firstChild),Hr=!1,p=!0):p=!1),p||Ma(s)),Jn(s),p=s.type,g=s.pendingProps,b=i!==null?i.memoizedProps:null,c=g.children,Wm(p,g)?c=null:b!==null&&Wm(p,b)&&(s.flags|=32),s.memoizedState!==null&&(p=Qp(i,s,cC,null,null,l),Xu._currentValue=p),nf(i,s),en(i,s,c,l),s.child;case 6:return i===null&&He&&((i=l=gt)&&(l=KC(l,s.pendingProps,Hr),l!==null?(s.stateNode=l,Tn=s,gt=null,i=!0):i=!1),i||Ma(s)),null;case 13:return iT(i,s,l);case 4:return Ke(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Zo(s,null,c,l):en(i,s,c,l),s.child;case 11:return Q0(i,s,s.type,s.pendingProps,l);case 7:return en(i,s,s.pendingProps,l),s.child;case 8:return en(i,s,s.pendingProps.children,l),s.child;case 12:return en(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,as(s,s.type,c.value),en(i,s,c.children,l),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Va(s),p=un(p),c=c(p),s.flags|=1,en(i,s,c,l),s.child;case 14:return W0(i,s,s.type,s.pendingProps,l);case 15:return Z0(i,s,s.type,s.pendingProps,l);case 19:return aT(i,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},i===null?(l=rf(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Ai(i.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return J0(i,s,l);case 24:return Va(s),c=un(zt),i===null?(p=Bp(),p===null&&(p=it,g=zp(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),s.memoizedState={parent:c,cache:p},qp(s),as(s,zt,p)):((i.lanes&l)!==0&&(Hp(i,s),Iu(s,null,null,l),Ru()),p=i.memoizedState,g=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),as(s,zt,c)):(c=g.cache,as(s,zt,c),c!==p.cache&&Up(s,[zt],l,!0))),en(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ni(i){i.flags|=4}function lT(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!gE(s)){if(s=cr.current,s!==null&&((Be&4194048)===Be?Gr!==null:(Be&62914560)!==Be&&(Be&536870912)===0||s!==Gr))throw Su=Fp,Gv;i.flags|=8192}}function sf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Wl():536870912,i.lanes|=s,nl|=s)}function Mu(i,s){if(!He)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ct(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function vC(i,s,l){var c=s.pendingProps;switch(Mp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(s),null;case 1:return ct(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Oi(zt),Ht(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(_u(s)?Ni(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,jv())),ct(s),null;case 26:return l=s.memoizedState,i===null?(Ni(s),l!==null?(ct(s),lT(s,l)):(ct(s),s.flags&=-16777217)):l?l!==i.memoizedState?(Ni(s),ct(s),lT(s,l)):(ct(s),s.flags&=-16777217):(i.memoizedProps!==c&&Ni(s),ct(s),s.flags&=-16777217),null;case 27:fi(s),l=Se.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Ni(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return ct(s),null}i=me.current,_u(s)?Uv(s):(i=lE(p,c,l),s.stateNode=i,Ni(s))}return ct(s),null;case 5:if(fi(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Ni(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return ct(s),null}if(i=me.current,_u(s))Uv(s);else{switch(p=yf(Se.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}i[Vt]=s,i[It]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(nn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ni(s)}}return ct(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Ni(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=Se.current,_u(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,p=Tn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Vt]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||tE(i.nodeValue,l)),i||Ma(s)}else i=yf(i).createTextNode(c),i[Vt]=s,s.stateNode=i}return ct(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=_u(s),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Vt]=s}else yu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),p=!1}else p=jv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Di(s),s):(Di(s),null)}if(Di(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),sf(s,s.updateQueue),ct(s),null;case 4:return Ht(),i===null&&$m(s.stateNode.containerInfo),ct(s),null;case 10:return Oi(s.type),ct(s),null;case 19:if(oe(jt),p=s.memoizedState,p===null)return ct(s),null;if(c=(s.flags&128)!==0,g=p.rendering,g===null)if(c)Mu(p,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Jh(i),g!==null){for(s.flags|=128,Mu(p,!1),i=g.updateQueue,s.updateQueue=i,sf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Vv(l,i),l=l.sibling;return le(jt,jt.current&1|2),s.child}i=i.sibling}p.tail!==null&&er()>lf&&(s.flags|=128,c=!0,Mu(p,!1),s.lanes=4194304)}else{if(!c)if(i=Jh(g),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,sf(s,i),Mu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!He)return ct(s),null}else 2*er()-p.renderingStartTime>lf&&l!==536870912&&(s.flags|=128,c=!0,Mu(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(i=p.last,i!==null?i.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=er(),s.sibling=null,i=jt.current,le(jt,c?i&1|2:i&1),s):(ct(s),null);case 22:case 23:return Di(s),Yp(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(ct(s),s.subtreeFlags&6&&(s.flags|=8192)):ct(s),l=s.updateQueue,l!==null&&sf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&oe(La),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Oi(zt),ct(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function TC(i,s){switch(Mp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Oi(zt),Ht(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return fi(s),null;case 13:if(Di(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));yu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return oe(jt),null;case 4:return Ht(),null;case 10:return Oi(s.type),null;case 22:case 23:return Di(s),Yp(),i!==null&&oe(La),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Oi(zt),null;case 25:return null;default:return null}}function uT(i,s){switch(Mp(s),s.tag){case 3:Oi(zt),Ht();break;case 26:case 27:case 5:fi(s);break;case 4:Ht();break;case 13:Di(s);break;case 19:oe(jt);break;case 10:Oi(s.type);break;case 22:case 23:Di(s),Yp(),i!==null&&oe(La);break;case 24:Oi(zt)}}function ku(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var g=l.create,b=l.inst;c=g(),b.destroy=c}l=l.next}while(l!==p)}}catch(I){tt(s,s.return,I)}}function ds(i,s,l){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&i)===i){var b=c.inst,I=b.destroy;if(I!==void 0){b.destroy=void 0,p=s;var B=l,Q=I;try{Q()}catch(re){tt(p,B,re)}}}c=c.next}while(c!==g)}}catch(re){tt(s,s.return,re)}}function cT(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Wv(s,l)}catch(c){tt(i,i.return,c)}}}function hT(i,s,l){l.props=za(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){tt(i,s,c)}}function Vu(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(p){tt(i,s,p)}}function $r(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){tt(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){tt(i,s,p)}else l.current=null}function fT(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){tt(i,i.return,p)}}function bm(i,s,l){try{var c=i.stateNode;BC(c,i.type,l,s),c[It]=s}catch(p){tt(i,i.return,p)}}function dT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Es(i.type)||i.tag===4}function wm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||dT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Es(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sm(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=_f));else if(c!==4&&(c===27&&Es(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Sm(i,s,l),i=i.sibling;i!==null;)Sm(i,s,l),i=i.sibling}function af(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&Es(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(af(i,s,l),i=i.sibling;i!==null;)af(i,s,l),i=i.sibling}function pT(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);nn(s,c,l),s[Vt]=i,s[It]=l}catch(g){tt(i,i.return,g)}}var Mi=!1,St=!1,Am=!1,mT=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function EC(i,s){if(i=i.containerInfo,Xm=Sf,i=Rv(i),wp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var b=0,I=-1,B=-1,Q=0,re=0,se=i,Z=null;t:for(;;){for(var J;se!==l||p!==0&&se.nodeType!==3||(I=b+p),se!==g||c!==0&&se.nodeType!==3||(B=b+c),se.nodeType===3&&(b+=se.nodeValue.length),(J=se.firstChild)!==null;)Z=se,se=J;for(;;){if(se===i)break t;if(Z===l&&++Q===p&&(I=b),Z===g&&++re===c&&(B=b),(J=se.nextSibling)!==null)break;se=Z,Z=se.parentNode}se=J}l=I===-1||B===-1?null:{start:I,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qm={focusedElem:i,selectionRange:l},Sf=!1,Yt=s;Yt!==null;)if(s=Yt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Yt=i;else for(;Yt!==null;){switch(s=Yt,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=s,p=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var Ie=za(l.type,p,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Ie,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ee){tt(l,l.return,Ee)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Jm(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Yt=i;break}Yt=s.return}}function gT(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ps(i,l),c&4&&ku(5,l);break;case 1:if(ps(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(b){tt(l,l.return,b)}else{var p=za(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){tt(l,l.return,b)}}c&64&&cT(l),c&512&&Vu(l,l.return);break;case 3:if(ps(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Wv(i,s)}catch(b){tt(l,l.return,b)}}break;case 27:s===null&&c&4&&pT(l);case 26:case 5:ps(i,l),s===null&&c&4&&fT(l),c&512&&Vu(l,l.return);break;case 12:ps(i,l);break;case 13:ps(i,l),c&4&&vT(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=PC.bind(null,l),YC(i,l))));break;case 22:if(c=l.memoizedState!==null||Mi,!c){s=s!==null&&s.memoizedState!==null||St,p=Mi;var g=St;Mi=c,(St=s)&&!g?ms(i,l,(l.subtreeFlags&8772)!==0):ps(i,l),Mi=p,St=g}break;case 30:break;default:ps(i,l)}}function _T(i){var s=i.alternate;s!==null&&(i.alternate=null,_T(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ns(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var lt=null,Sn=!1;function ki(i,s,l){for(l=l.child;l!==null;)yT(i,s,l),l=l.sibling}function yT(i,s,l){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(mt,l)}catch{}switch(l.tag){case 26:St||$r(l,s),ki(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:St||$r(l,s);var c=lt,p=Sn;Es(l.type)&&(lt=l.stateNode,Sn=!1),ki(i,s,l),Gu(l.stateNode),lt=c,Sn=p;break;case 5:St||$r(l,s);case 6:if(c=lt,p=Sn,lt=null,ki(i,s,l),lt=c,Sn=p,lt!==null)if(Sn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(l.stateNode)}catch(g){tt(l,s,g)}else try{lt.removeChild(l.stateNode)}catch(g){tt(l,s,g)}break;case 18:lt!==null&&(Sn?(i=lt,aE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Ju(i)):aE(lt,l.stateNode));break;case 4:c=lt,p=Sn,lt=l.stateNode.containerInfo,Sn=!0,ki(i,s,l),lt=c,Sn=p;break;case 0:case 11:case 14:case 15:St||ds(2,l,s),St||ds(4,l,s),ki(i,s,l);break;case 1:St||($r(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&hT(l,s,c)),ki(i,s,l);break;case 21:ki(i,s,l);break;case 22:St=(c=St)||l.memoizedState!==null,ki(i,s,l),St=c;break;default:ki(i,s,l)}}function vT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ju(i)}catch(l){tt(s,s.return,l)}}function bC(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new mT),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new mT),s;default:throw Error(r(435,i.tag))}}function Rm(i,s){var l=bC(i);s.forEach(function(c){var p=DC.bind(null,i,c);l.has(c)||(l.add(c),c.then(p,p))})}function jn(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],g=i,b=s,I=b;e:for(;I!==null;){switch(I.tag){case 27:if(Es(I.type)){lt=I.stateNode,Sn=!1;break e}break;case 5:lt=I.stateNode,Sn=!1;break e;case 3:case 4:lt=I.stateNode.containerInfo,Sn=!0;break e}I=I.return}if(lt===null)throw Error(r(160));yT(g,b,p),lt=null,Sn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)TT(s,i),s=s.sibling}var Rr=null;function TT(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:jn(s,i),Bn(i),c&4&&(ds(3,i,i.return),ku(3,i),ds(5,i,i.return));break;case 1:jn(s,i),Bn(i),c&512&&(St||l===null||$r(l,l.return)),c&64&&Mi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Rr;if(jn(s,i),Bn(i),c&512&&(St||l===null||$r(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[pa]||g[Vt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),nn(g,c,l),g[Vt]=i,bt(g),c=g;break e;case"link":var b=pE("link","href",p).get(c+(l.href||""));if(b){for(var I=0;I<b.length;I++)if(g=b[I],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(I,1);break t}}g=p.createElement(c),nn(g,c,l),p.head.appendChild(g);break;case"meta":if(b=pE("meta","content",p).get(c+(l.content||""))){for(I=0;I<b.length;I++)if(g=b[I],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(I,1);break t}}g=p.createElement(c),nn(g,c,l),p.head.appendChild(g);break;default:throw Error(r(468,c))}g[Vt]=i,bt(g),c=g}i.stateNode=c}else mE(p,i.type,i.stateNode);else i.stateNode=dE(p,c,i.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?mE(p,i.type,i.stateNode):dE(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&bm(i,i.memoizedProps,l.memoizedProps)}break;case 27:jn(s,i),Bn(i),c&512&&(St||l===null||$r(l,l.return)),l!==null&&c&4&&bm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(jn(s,i),Bn(i),c&512&&(St||l===null||$r(l,l.return)),i.flags&32){p=i.stateNode;try{nr(p,"")}catch(J){tt(i,i.return,J)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,bm(i,p,l!==null?l.memoizedProps:p)),c&1024&&(Am=!0);break;case 6:if(jn(s,i),Bn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(J){tt(i,i.return,J)}}break;case 3:if(Ef=null,p=Rr,Rr=vf(s.containerInfo),jn(s,i),Rr=p,Bn(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Ju(s.containerInfo)}catch(J){tt(i,i.return,J)}Am&&(Am=!1,ET(i));break;case 4:c=Rr,Rr=vf(i.stateNode.containerInfo),jn(s,i),Bn(i),Rr=c;break;case 12:jn(s,i),Bn(i);break;case 13:jn(s,i),Bn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(xm=er()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Rm(i,c)));break;case 22:p=i.memoizedState!==null;var B=l!==null&&l.memoizedState!==null,Q=Mi,re=St;if(Mi=Q||p,St=re||B,jn(s,i),St=re,Mi=Q,Bn(i),c&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||B||Mi||St||ja(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){B=l=s;try{if(g=B.stateNode,p)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{I=B.stateNode;var se=B.memoizedProps.style,Z=se!=null&&se.hasOwnProperty("display")?se.display:null;I.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){tt(B,B.return,J)}}}else if(s.tag===6){if(l===null){B=s;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(J){tt(B,B.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Rm(i,l))));break;case 19:jn(s,i),Bn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Rm(i,c)));break;case 30:break;case 21:break;default:jn(s,i),Bn(i)}}function Bn(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(dT(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,g=wm(i);af(i,g,p);break;case 5:var b=l.stateNode;l.flags&32&&(nr(b,""),l.flags&=-33);var I=wm(i);af(i,I,b);break;case 3:case 4:var B=l.stateNode.containerInfo,Q=wm(i);Sm(i,Q,B);break;default:throw Error(r(161))}}catch(re){tt(i,i.return,re)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ET(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;ET(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ps(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)gT(i,s.alternate,s),s=s.sibling}function ja(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ds(4,s,s.return),ja(s);break;case 1:$r(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&hT(s,s.return,l),ja(s);break;case 27:Gu(s.stateNode);case 26:case 5:$r(s,s.return),ja(s);break;case 22:s.memoizedState===null&&ja(s);break;case 30:ja(s);break;default:ja(s)}i=i.sibling}}function ms(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=i,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:ms(p,g,l),ku(4,g);break;case 1:if(ms(p,g,l),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){tt(c,c.return,Q)}if(c=g,p=c.updateQueue,p!==null){var I=c.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)Qv(B[p],I)}catch(Q){tt(c,c.return,Q)}}l&&b&64&&cT(g),Vu(g,g.return);break;case 27:pT(g);case 26:case 5:ms(p,g,l),l&&c===null&&b&4&&fT(g),Vu(g,g.return);break;case 12:ms(p,g,l);break;case 13:ms(p,g,l),l&&b&4&&vT(p,g);break;case 22:g.memoizedState===null&&ms(p,g,l),Vu(g,g.return);break;case 30:break;default:ms(p,g,l)}s=s.sibling}}function Im(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Eu(l))}function Cm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Eu(i))}function Kr(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bT(i,s,l,c),s=s.sibling}function bT(i,s,l,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Kr(i,s,l,c),p&2048&&ku(9,s);break;case 1:Kr(i,s,l,c);break;case 3:Kr(i,s,l,c),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Eu(i)));break;case 12:if(p&2048){Kr(i,s,l,c),i=s.stateNode;try{var g=s.memoizedProps,b=g.id,I=g.onPostCommit;typeof I=="function"&&I(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){tt(s,s.return,B)}}else Kr(i,s,l,c);break;case 13:Kr(i,s,l,c);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?Kr(i,s,l,c):Lu(i,s):g._visibility&2?Kr(i,s,l,c):(g._visibility|=2,Jo(i,s,l,c,(s.subtreeFlags&10256)!==0)),p&2048&&Im(b,s);break;case 24:Kr(i,s,l,c),p&2048&&Cm(s.alternate,s);break;default:Kr(i,s,l,c)}}function Jo(i,s,l,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,b=s,I=l,B=c,Q=b.flags;switch(b.tag){case 0:case 11:case 15:Jo(g,b,I,B,p),ku(8,b);break;case 23:break;case 22:var re=b.stateNode;b.memoizedState!==null?re._visibility&2?Jo(g,b,I,B,p):Lu(g,b):(re._visibility|=2,Jo(g,b,I,B,p)),p&&Q&2048&&Im(b.alternate,b);break;case 24:Jo(g,b,I,B,p),p&&Q&2048&&Cm(b.alternate,b);break;default:Jo(g,b,I,B,p)}s=s.sibling}}function Lu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,p=c.flags;switch(c.tag){case 22:Lu(l,c),p&2048&&Im(c.alternate,c);break;case 24:Lu(l,c),p&2048&&Cm(c.alternate,c);break;default:Lu(l,c)}s=s.sibling}}var Uu=8192;function el(i){if(i.subtreeFlags&Uu)for(i=i.child;i!==null;)wT(i),i=i.sibling}function wT(i){switch(i.tag){case 26:el(i),i.flags&Uu&&i.memoizedState!==null&&oO(Rr,i.memoizedState,i.memoizedProps);break;case 5:el(i);break;case 3:case 4:var s=Rr;Rr=vf(i.stateNode.containerInfo),el(i),Rr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Uu,Uu=16777216,el(i),Uu=s):el(i));break;default:el(i)}}function ST(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function zu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Yt=c,RT(c,i)}ST(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)AT(i),i=i.sibling}function AT(i){switch(i.tag){case 0:case 11:case 15:zu(i),i.flags&2048&&ds(9,i,i.return);break;case 3:zu(i);break;case 12:zu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,of(i)):zu(i);break;default:zu(i)}}function of(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Yt=c,RT(c,i)}ST(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ds(8,s,s.return),of(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,of(s));break;default:of(s)}i=i.sibling}}function RT(i,s){for(;Yt!==null;){var l=Yt;switch(l.tag){case 0:case 11:case 15:ds(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Eu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Yt=c;else e:for(l=i;Yt!==null;){c=Yt;var p=c.sibling,g=c.return;if(_T(c),c===l){Yt=null;break e}if(p!==null){p.return=g,Yt=p;break e}Yt=g}}}var wC={getCacheForType:function(i){var s=un(zt),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},SC=typeof WeakMap=="function"?WeakMap:Map,Xe=0,it=null,Me=null,Be=0,Qe=0,Fn=null,gs=!1,tl=!1,Om=!1,Vi=0,_t=0,_s=0,Ba=0,Pm=0,hr=0,nl=0,ju=null,An=null,Dm=!1,xm=0,lf=1/0,uf=null,ys=null,tn=0,vs=null,rl=null,il=0,Nm=0,Mm=null,IT=null,Bu=0,km=null;function qn(){if((Xe&2)!==0&&Be!==0)return Be&-Be;if(X.T!==null){var i=Go;return i!==0?i:Fm()}return es()}function CT(){hr===0&&(hr=(Be&536870912)===0||He?Ql():536870912);var i=cr.current;return i!==null&&(i.flags|=32),hr}function Hn(i,s,l){(i===it&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)&&(sl(i,0),Ts(i,Be,hr,!1)),pi(i,l),((Xe&2)===0||i!==it)&&(i===it&&((Xe&2)===0&&(Ba|=l),_t===4&&Ts(i,Be,hr,!1)),Yr(i))}function OT(i,s,l){if((Xe&6)!==0)throw Error(r(327));var c=!l&&(s&124)===0&&(s&i.expiredLanes)===0||da(i,s),p=c?IC(i,s):Um(i,s,!0),g=c;do{if(p===0){tl&&!c&&Ts(i,s,0,!1);break}else{if(l=i.current.alternate,g&&!AC(l)){p=Um(i,s,!1),g=!1;continue}if(p===2){if(g=s,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var I=i;p=ju;var B=I.current.memoizedState.isDehydrated;if(B&&(sl(I,b).flags|=256),b=Um(I,b,!1),b!==2){if(Om&&!B){I.errorRecoveryDisabledLanes|=g,Ba|=g,p=4;break e}g=An,An=p,g!==null&&(An===null?An=g:An.push.apply(An,g))}p=b}if(g=!1,p!==2)continue}}if(p===1){sl(i,0),Ts(i,s,0,!0);break}e:{switch(c=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ts(c,s,hr,!gs);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=xm+300-er(),10<p)){if(Ts(c,s,hr,!gs),bo(c,0,!0)!==0)break e;c.timeoutHandle=iE(PT.bind(null,c,l,An,uf,Dm,s,hr,Ba,nl,gs,g,2,-0,0),p);break e}PT(c,l,An,uf,Dm,s,hr,Ba,nl,gs,g,0,-0,0)}}break}while(!0);Yr(i)}function PT(i,s,l,c,p,g,b,I,B,Q,re,se,Z,J){if(i.timeoutHandle=-1,se=s.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Yu={stylesheets:null,count:0,unsuspend:aO},wT(s),se=lO(),se!==null)){i.cancelPendingCommit=se(LT.bind(null,i,s,g,l,c,p,b,I,B,re,1,Z,J)),Ts(i,g,b,!Q);return}LT(i,s,g,l,c,p,b,I,B)}function AC(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],g=p.getSnapshot;p=p.value;try{if(!Un(g(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ts(i,s,l,c){s&=~Pm,s&=~Ba,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var p=s;0<p;){var g=31-ln(p),b=1<<g;c[g]=-1,p&=~b}l!==0&&Nr(i,l,s)}function cf(){return(Xe&6)===0?(Fu(0),!1):!0}function Vm(){if(Me!==null){if(Qe===0)var i=Me.return;else i=Me,Ci=ka=null,Jp(i),Wo=null,xu=0,i=Me;for(;i!==null;)uT(i.alternate,i),i=i.return;Me=null}}function sl(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,qC(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Vm(),it=i,Me=l=Ai(i.current,null),Be=s,Qe=0,Fn=null,gs=!1,tl=da(i,s),Om=!1,nl=hr=Pm=Ba=_s=_t=0,An=ju=null,Dm=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var p=31-ln(c),g=1<<p;s|=i[p],c&=~g}return Vi=s,Dh(),l}function DT(i,s){De=null,X.H=Qh,s===wu||s===jh?(s=Yv(),Qe=3):s===Gv?(s=Yv(),Qe=4):Qe=s===X0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fn=s,Me===null&&(_t=1,tf(i,ar(s,i.current)))}function xT(){var i=X.H;return X.H=Qh,i===null?Qh:i}function NT(){var i=X.A;return X.A=wC,i}function Lm(){_t=4,gs||(Be&4194048)!==Be&&cr.current!==null||(tl=!0),(_s&134217727)===0&&(Ba&134217727)===0||it===null||Ts(it,Be,hr,!1)}function Um(i,s,l){var c=Xe;Xe|=2;var p=xT(),g=NT();(it!==i||Be!==s)&&(uf=null,sl(i,s)),s=!1;var b=_t;e:do try{if(Qe!==0&&Me!==null){var I=Me,B=Fn;switch(Qe){case 8:Vm(),b=6;break e;case 3:case 2:case 9:case 6:cr.current===null&&(s=!0);var Q=Qe;if(Qe=0,Fn=null,al(i,I,B,Q),l&&tl){b=0;break e}break;default:Q=Qe,Qe=0,Fn=null,al(i,I,B,Q)}}RC(),b=_t;break}catch(re){DT(i,re)}while(!0);return s&&i.shellSuspendCounter++,Ci=ka=null,Xe=c,X.H=p,X.A=g,Me===null&&(it=null,Be=0,Dh()),b}function RC(){for(;Me!==null;)MT(Me)}function IC(i,s){var l=Xe;Xe|=2;var c=xT(),p=NT();it!==i||Be!==s?(uf=null,lf=er()+500,sl(i,s)):tl=da(i,s);e:do try{if(Qe!==0&&Me!==null){s=Me;var g=Fn;t:switch(Qe){case 1:Qe=0,Fn=null,al(i,s,g,1);break;case 2:case 9:if($v(g)){Qe=0,Fn=null,kT(s);break}s=function(){Qe!==2&&Qe!==9||it!==i||(Qe=7),Yr(i)},g.then(s,s);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:$v(g)?(Qe=0,Fn=null,kT(s)):(Qe=0,Fn=null,al(i,s,g,7));break;case 5:var b=null;switch(Me.tag){case 26:b=Me.memoizedState;case 5:case 27:var I=Me;if(!b||gE(b)){Qe=0,Fn=null;var B=I.sibling;if(B!==null)Me=B;else{var Q=I.return;Q!==null?(Me=Q,hf(Q)):Me=null}break t}}Qe=0,Fn=null,al(i,s,g,5);break;case 6:Qe=0,Fn=null,al(i,s,g,6);break;case 8:Vm(),_t=6;break e;default:throw Error(r(462))}}CC();break}catch(re){DT(i,re)}while(!0);return Ci=ka=null,X.H=c,X.A=p,Xe=l,Me!==null?0:(it=null,Be=0,Dh(),_t)}function CC(){for(;Me!==null&&!$l();)MT(Me)}function MT(i){var s=oT(i.alternate,i,Vi);i.memoizedProps=i.pendingProps,s===null?hf(i):Me=s}function kT(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=tT(l,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=tT(l,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:Jp(s);default:uT(l,s),s=Me=Vv(s,Vi),s=oT(l,s,Vi)}i.memoizedProps=i.pendingProps,s===null?hf(i):Me=s}function al(i,s,l,c){Ci=ka=null,Jp(s),Wo=null,xu=0;var p=s.return;try{if(_C(i,p,s,l,Be)){_t=1,tf(i,ar(l,i.current)),Me=null;return}}catch(g){if(p!==null)throw Me=p,g;_t=1,tf(i,ar(l,i.current)),Me=null;return}s.flags&32768?(He||c===1?i=!0:tl||(Be&536870912)!==0?i=!1:(gs=i=!0,(c===2||c===9||c===3||c===6)&&(c=cr.current,c!==null&&c.tag===13&&(c.flags|=16384))),VT(s,i)):hf(s)}function hf(i){var s=i;do{if((s.flags&32768)!==0){VT(s,gs);return}i=s.return;var l=vC(s.alternate,s,Vi);if(l!==null){Me=l;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=i}while(s!==null);_t===0&&(_t=5)}function VT(i,s){do{var l=TC(i.alternate,i);if(l!==null){l.flags&=32767,Me=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Me=i;return}Me=i=l}while(i!==null);_t=6,Me=null}function LT(i,s,l,c,p,g,b,I,B){i.cancelPendingCommit=null;do ff();while(tn!==0);if((Xe&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Cp,Zl(i,l,g,b,I,B),i===it&&(Me=it=null,Be=0),rl=s,vs=i,il=l,Nm=g,Mm=p,IT=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,xC(ua,function(){return FT(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,p=ue.p,ue.p=2,b=Xe,Xe|=4;try{EC(i,s,l)}finally{Xe=b,ue.p=p,X.T=c}}tn=1,UT(),zT(),jT()}}function UT(){if(tn===1){tn=0;var i=vs,s=rl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var c=ue.p;ue.p=2;var p=Xe;Xe|=4;try{TT(s,i);var g=Qm,b=Rv(i.containerInfo),I=g.focusedElem,B=g.selectionRange;if(b!==I&&I&&I.ownerDocument&&Av(I.ownerDocument.documentElement,I)){if(B!==null&&wp(I)){var Q=B.start,re=B.end;if(re===void 0&&(re=Q),"selectionStart"in I)I.selectionStart=Q,I.selectionEnd=Math.min(re,I.value.length);else{var se=I.ownerDocument||document,Z=se&&se.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),Ie=I.textContent.length,Ee=Math.min(B.start,Ie),et=B.end===void 0?Ee:Math.min(B.end,Ie);!J.extend&&Ee>et&&(b=et,et=Ee,Ee=b);var H=Sv(I,Ee),q=Sv(I,et);if(H&&q&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==q.node||J.focusOffset!==q.offset)){var Y=se.createRange();Y.setStart(H.node,H.offset),J.removeAllRanges(),Ee>et?(J.addRange(Y),J.extend(q.node,q.offset)):(Y.setEnd(q.node,q.offset),J.addRange(Y))}}}}for(se=[],J=I;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<se.length;I++){var ie=se[I];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Sf=!!Xm,Qm=Xm=null}finally{Xe=p,ue.p=c,X.T=l}}i.current=s,tn=2}}function zT(){if(tn===2){tn=0;var i=vs,s=rl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var c=ue.p;ue.p=2;var p=Xe;Xe|=4;try{gT(i,s.alternate,s)}finally{Xe=p,ue.p=c,X.T=l}}tn=3}}function jT(){if(tn===4||tn===3){tn=0,ah();var i=vs,s=rl,l=il,c=IT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?tn=5:(tn=0,rl=vs=null,BT(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(ys=null),wo(l),s=s.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(mt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=X.T,p=ue.p,ue.p=2,X.T=null;try{for(var g=i.onRecoverableError,b=0;b<c.length;b++){var I=c[b];g(I.value,{componentStack:I.stack})}}finally{X.T=s,ue.p=p}}(il&3)!==0&&ff(),Yr(i),p=i.pendingLanes,(l&4194090)!==0&&(p&42)!==0?i===km?Bu++:(Bu=0,km=i):Bu=0,Fu(0)}}function BT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Eu(s)))}function ff(i){return UT(),zT(),jT(),FT()}function FT(){if(tn!==5)return!1;var i=vs,s=Nm;Nm=0;var l=wo(il),c=X.T,p=ue.p;try{ue.p=32>l?32:l,X.T=null,l=Mm,Mm=null;var g=vs,b=il;if(tn=0,rl=vs=null,il=0,(Xe&6)!==0)throw Error(r(331));var I=Xe;if(Xe|=4,AT(g.current),bT(g,g.current,b,l),Xe=I,Fu(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(mt,g)}catch{}return!0}finally{ue.p=p,X.T=c,BT(i,s)}}function qT(i,s,l){s=ar(l,s),s=dm(i.stateNode,s,2),i=us(i,s,2),i!==null&&(pi(i,2),Yr(i))}function tt(i,s,l){if(i.tag===3)qT(i,i,l);else for(;s!==null;){if(s.tag===3){qT(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ys===null||!ys.has(c))){i=ar(l,i),l=K0(2),c=us(s,l,2),c!==null&&(Y0(l,c,s,i),pi(c,2),Yr(c));break}}s=s.return}}function zm(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new SC;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(l)||(Om=!0,p.add(l),i=OC.bind(null,i,s,l),s.then(i,i))}function OC(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,it===i&&(Be&l)===l&&(_t===4||_t===3&&(Be&62914560)===Be&&300>er()-xm?(Xe&2)===0&&sl(i,0):Pm|=l,nl===Be&&(nl=0)),Yr(i)}function HT(i,s){s===0&&(s=Wl()),i=Bo(i,s),i!==null&&(pi(i,s),Yr(i))}function PC(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),HT(i,l)}function DC(i,s){var l=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),HT(i,l)}function xC(i,s){return oa(i,s)}var df=null,ol=null,jm=!1,pf=!1,Bm=!1,Fa=0;function Yr(i){i!==ol&&i.next===null&&(ol===null?df=ol=i:ol=ol.next=i),pf=!0,jm||(jm=!0,MC())}function Fu(i,s){if(!Bm&&pf){Bm=!0;do for(var l=!1,c=df;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var b=c.suspendedLanes,I=c.pingedLanes;g=(1<<31-ln(42|i)+1)-1,g&=p&~(b&~I),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,YT(c,g))}else g=Be,g=bo(c,c===it?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||da(c,g)||(l=!0,YT(c,g));c=c.next}while(l);Bm=!1}}function NC(){GT()}function GT(){pf=jm=!1;var i=0;Fa!==0&&(FC()&&(i=Fa),Fa=0);for(var s=er(),l=null,c=df;c!==null;){var p=c.next,g=$T(c,s);g===0?(c.next=null,l===null?df=p:l.next=p,p===null&&(ol=l)):(l=c,(i!==0||(g&3)!==0)&&(pf=!0)),c=p}Fu(i)}function $T(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-ln(g),I=1<<b,B=p[b];B===-1?((I&l)===0||(I&c)!==0)&&(p[b]=Xl(I,s)):B<=s&&(i.expiredLanes|=I),g&=~I}if(s=it,l=Be,l=bo(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&la(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||da(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&la(c),wo(l)){case 2:case 8:l=To;break;case 32:l=ua;break;case 268435456:l=Eo;break;default:l=ua}return c=KT.bind(null,i),l=oa(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&la(c),i.callbackPriority=2,i.callbackNode=null,2}function KT(i,s){if(tn!==0&&tn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(ff()&&i.callbackNode!==l)return null;var c=Be;return c=bo(i,i===it?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(OT(i,c,s),$T(i,er()),i.callbackNode!=null&&i.callbackNode===l?KT.bind(null,i):null)}function YT(i,s){if(ff())return null;OT(i,s,!0)}function MC(){HC(function(){(Xe&6)!==0?oa(Kl,NC):GT()})}function Fm(){return Fa===0&&(Fa=Ql()),Fa}function XT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Oo(""+i)}function QT(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function kC(i,s,l,c,p){if(s==="submit"&&l&&l.stateNode===p){var g=XT((p[It]||null).action),b=c.submitter;b&&(s=(s=b[It]||null)?XT(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var I=new Po("action","action",null,c,p);i.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Fa!==0){var B=b?QT(p,b):new FormData(p);lm(l,{pending:!0,data:B,method:p.method,action:g},null,B)}}else typeof g=="function"&&(I.preventDefault(),B=b?QT(p,b):new FormData(p),lm(l,{pending:!0,data:B,method:p.method,action:g},g,B))},currentTarget:p}]})}}for(var qm=0;qm<Ip.length;qm++){var Hm=Ip[qm],VC=Hm.toLowerCase(),LC=Hm[0].toUpperCase()+Hm.slice(1);Ar(VC,"on"+LC)}Ar(Ov,"onAnimationEnd"),Ar(Pv,"onAnimationIteration"),Ar(Dv,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(eC,"onTransitionRun"),Ar(tC,"onTransitionStart"),Ar(nC,"onTransitionCancel"),Ar(xv,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qu));function WT(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var b=c.length-1;0<=b;b--){var I=c[b],B=I.instance,Q=I.currentTarget;if(I=I.listener,B!==g&&p.isPropagationStopped())break e;g=I,p.currentTarget=Q;try{g(p)}catch(re){ef(re)}p.currentTarget=null,g=B}else for(b=0;b<c.length;b++){if(I=c[b],B=I.instance,Q=I.currentTarget,I=I.listener,B!==g&&p.isPropagationStopped())break e;g=I,p.currentTarget=Q;try{g(p)}catch(re){ef(re)}p.currentTarget=null,g=B}}}}function ke(i,s){var l=s[eu];l===void 0&&(l=s[eu]=new Set);var c=i+"__bubble";l.has(c)||(ZT(s,i,2,!1),l.add(c))}function Gm(i,s,l){var c=0;s&&(c|=4),ZT(l,i,c,s)}var mf="_reactListening"+Math.random().toString(36).slice(2);function $m(i){if(!i[mf]){i[mf]=!0,tu.forEach(function(l){l!=="selectionchange"&&(UC.has(l)||Gm(l,!1,i),Gm(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[mf]||(s[mf]=!0,Gm("selectionchange",!1,s))}}function ZT(i,s,l,c){switch(bE(s)){case 2:var p=hO;break;case 8:p=fO;break;default:p=ag}l=p.bind(null,s,l,i),p=void 0,!ir||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function Km(i,s,l,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var I=c.stateNode.containerInfo;if(I===p)break;if(b===4)for(b=c.return;b!==null;){var B=b.tag;if((B===3||B===4)&&b.stateNode.containerInfo===p)return;b=b.return}for(;I!==null;){if(b=mi(I),b===null)return;if(B=b.tag,B===5||B===6||B===26||B===27){c=g=b;continue e}I=I.parentNode}}c=c.return}gh(function(){var Q=g,re=rr(l),se=[];e:{var Z=Nv.get(i);if(Z!==void 0){var J=Po,Ie=i;switch(i){case"keypress":if(zr(l)===0)break e;case"keydown":case"keyup":J=Vo;break;case"focusin":Ie="focus",J=No;break;case"focusout":Ie="blur",J=No;break;case"beforeblur":case"afterblur":J=No;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Sh;break;case Ov:case Pv:case Dv:J=Mo;break;case xv:J=Rh;break;case"scroll":case"scrollend":J=_h;break;case"wheel":J=Lo;break;case"copy":case"cut":case"paste":J=ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=du;break;case"toggle":case"beforetoggle":J=Ch}var Ee=(s&4)!==0,et=!Ee&&(i==="scroll"||i==="scrollend"),H=Ee?Z!==null?Z+"Capture":null:Z;Ee=[];for(var q=Q,Y;q!==null;){var ie=q;if(Y=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Y===null||H===null||(ie=Ea(q,H),ie!=null&&Ee.push(Hu(q,ie,Y))),et)break;q=q.return}0<Ee.length&&(Z=new J(Z,Ie,null,l,re),se.push({event:Z,listeners:Ee}))}}if((s&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",Z&&l!==vi&&(Ie=l.relatedTarget||l.fromElement)&&(mi(Ie)||Ie[tr]))break e;if((J||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(Ie=l.relatedTarget||l.toElement,J=Q,Ie=Ie?mi(Ie):null,Ie!==null&&(et=o(Ie),Ee=Ie.tag,Ie!==et||Ee!==5&&Ee!==27&&Ee!==6)&&(Ie=null)):(J=null,Ie=Q),J!==Ie)){if(Ee=sr,ie="onMouseLeave",H="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=du,ie="onPointerLeave",H="onPointerEnter",q="pointer"),et=J==null?Z:kr(J),Y=Ie==null?Z:kr(Ie),Z=new Ee(ie,q+"leave",J,l,re),Z.target=et,Z.relatedTarget=Y,ie=null,mi(re)===Q&&(Ee=new Ee(H,q+"enter",Ie,l,re),Ee.target=Y,Ee.relatedTarget=et,ie=Ee),et=ie,J&&Ie)t:{for(Ee=J,H=Ie,q=0,Y=Ee;Y;Y=ll(Y))q++;for(Y=0,ie=H;ie;ie=ll(ie))Y++;for(;0<q-Y;)Ee=ll(Ee),q--;for(;0<Y-q;)H=ll(H),Y--;for(;q--;){if(Ee===H||H!==null&&Ee===H.alternate)break t;Ee=ll(Ee),H=ll(H)}Ee=null}else Ee=null;J!==null&&JT(se,Z,J,Ee,!1),Ie!==null&&et!==null&&JT(se,et,Ie,Ee,!0)}}e:{if(Z=Q?kr(Q):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var _e=yv;else if(Ut(Z))if(vv)_e=WI;else{_e=XI;var Ne=YI}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&au(Q.elementType)&&(_e=yv):_e=QI;if(_e&&(_e=_e(i,Q))){Si(se,_e,l,re);break e}Ne&&Ne(i,Z,Q),i==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&is(Z,"number",Z.value)}switch(Ne=Q?kr(Q):window,i){case"focusin":(Ut(Ne)||Ne.contentEditable==="true")&&(Uo=Ne,Sp=Q,gu=null);break;case"focusout":gu=Sp=Uo=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,Iv(se,l,re);break;case"selectionchange":if(JI)break;case"keydown":case"keyup":Iv(se,l,re)}var ve;if(Fr)e:{switch(i){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ze?te(i,l)&&(we="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(we="onCompositionStart");we&&(E&&l.locale!=="ko"&&(ze||we!=="onCompositionStart"?we==="onCompositionEnd"&&ze&&(ve=lu()):(Ur=re,ss="value"in Ur?Ur.value:Ur.textContent,ze=!0)),Ne=gf(Q,we),0<Ne.length&&(we=new hu(we,i,null,l,re),se.push({event:we,listeners:Ne}),ve?we.data=ve:(ve=de(l),ve!==null&&(we.data=ve)))),(ve=y?Lt(i,l):je(i,l))&&(we=gf(Q,"onBeforeInput"),0<we.length&&(Ne=new hu("onBeforeInput","beforeinput",null,l,re),se.push({event:Ne,listeners:we}),Ne.data=ve)),kC(se,i,Q,l,re)}WT(se,s)})}function Hu(i,s,l){return{instance:i,listener:s,currentTarget:l}}function gf(i,s){for(var l=s+"Capture",c=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Ea(i,l),p!=null&&c.unshift(Hu(i,p,g)),p=Ea(i,s),p!=null&&c.push(Hu(i,p,g))),i.tag===3)return c;i=i.return}return[]}function ll(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function JT(i,s,l,c,p){for(var g=s._reactName,b=[];l!==null&&l!==c;){var I=l,B=I.alternate,Q=I.stateNode;if(I=I.tag,B!==null&&B===c)break;I!==5&&I!==26&&I!==27||Q===null||(B=Q,p?(Q=Ea(l,g),Q!=null&&b.unshift(Hu(l,Q,B))):p||(Q=Ea(l,g),Q!=null&&b.push(Hu(l,Q,B)))),l=l.return}b.length!==0&&i.push({event:s,listeners:b})}var zC=/\r\n?/g,jC=/\u0000|\uFFFD/g;function eE(i){return(typeof i=="string"?i:""+i).replace(zC,`
`).replace(jC,"")}function tE(i,s){return s=eE(s),eE(i)===s}function _f(){}function Je(i,s,l,c,p,g){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||nr(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&nr(i,""+c);break;case"className":Vr(i,"class",c);break;case"tabIndex":Vr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vr(i,l,c);break;case"style":su(i,c,g);break;case"data":if(s!=="object"){Vr(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Oo(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&Je(i,s,"name",p.name,p,null),Je(i,s,"formEncType",p.formEncType,p,null),Je(i,s,"formMethod",p.formMethod,p,null),Je(i,s,"formTarget",p.formTarget,p,null)):(Je(i,s,"encType",p.encType,p,null),Je(i,s,"method",p.method,p,null),Je(i,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Oo(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=_f);break;case"onScroll":c!=null&&ke("scroll",i);break;case"onScrollEnd":c!=null&&ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Oo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":ke("beforetoggle",i),ke("toggle",i),rs(i,"popover",c);break;case"xlinkActuate":Zt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Zt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Zt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Zt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Zt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Zt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":rs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=_p.get(l)||l,rs(i,l,c))}}function Ym(i,s,l,c,p,g){switch(l){case"style":su(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?nr(i,c):(typeof c=="number"||typeof c=="bigint")&&nr(i,""+c);break;case"onScroll":c!=null&&ke("scroll",i);break;case"onScrollEnd":c!=null&&ke("scrollend",i);break;case"onClick":c!=null&&(i.onclick=_f);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),g=i[It]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(s,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):rs(i,l,c)}}}function nn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",i),ke("load",i);var c=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var b=l[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Je(i,s,g,b,l,null)}}p&&Je(i,s,"srcSet",l.srcSet,l,null),c&&Je(i,s,"src",l.src,l,null);return;case"input":ke("invalid",i);var I=g=b=p=null,B=null,Q=null;for(c in l)if(l.hasOwnProperty(c)){var re=l[c];if(re!=null)switch(c){case"name":p=re;break;case"type":b=re;break;case"checked":B=re;break;case"defaultChecked":Q=re;break;case"value":g=re;break;case"defaultValue":I=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:Je(i,s,c,re,l,null)}}ya(i,g,I,B,Q,b,p,!1),Co(i);return;case"select":ke("invalid",i),c=b=g=null;for(p in l)if(l.hasOwnProperty(p)&&(I=l[p],I!=null))switch(p){case"value":g=I;break;case"defaultValue":b=I;break;case"multiple":c=I;default:Je(i,s,p,I,l,null)}s=g,l=b,i.multiple=!!c,s!=null?yi(i,!!c,s,!1):l!=null&&yi(i,!!c,l,!0);return;case"textarea":ke("invalid",i),g=p=c=null;for(b in l)if(l.hasOwnProperty(b)&&(I=l[b],I!=null))switch(b){case"value":c=I;break;case"defaultValue":p=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Je(i,s,b,I,l,null)}va(i,c,p,g),Co(i);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(c=l[B],c!=null))switch(B){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Je(i,s,B,c,l,null)}return;case"dialog":ke("beforetoggle",i),ke("toggle",i),ke("cancel",i),ke("close",i);break;case"iframe":case"object":ke("load",i);break;case"video":case"audio":for(c=0;c<qu.length;c++)ke(qu[c],i);break;case"image":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"embed":case"source":case"link":ke("error",i),ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(c=l[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Je(i,s,Q,c,l,null)}return;default:if(au(s)){for(re in l)l.hasOwnProperty(re)&&(c=l[re],c!==void 0&&Ym(i,s,re,c,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(c=l[I],c!=null&&Je(i,s,I,c,l,null))}function BC(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,b=null,I=null,B=null,Q=null,re=null;for(J in l){var se=l[J];if(l.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":B=se;default:c.hasOwnProperty(J)||Je(i,s,J,null,c,se)}}for(var Z in c){var J=c[Z];if(se=l[Z],c.hasOwnProperty(Z)&&(J!=null||se!=null))switch(Z){case"type":g=J;break;case"name":p=J;break;case"checked":Q=J;break;case"defaultChecked":re=J;break;case"value":b=J;break;case"defaultValue":I=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==se&&Je(i,s,Z,J,c,se)}}Ln(i,b,I,B,Q,re,g,p);return;case"select":J=b=I=Z=null;for(g in l)if(B=l[g],l.hasOwnProperty(g)&&B!=null)switch(g){case"value":break;case"multiple":J=B;default:c.hasOwnProperty(g)||Je(i,s,g,null,c,B)}for(p in c)if(g=c[p],B=l[p],c.hasOwnProperty(p)&&(g!=null||B!=null))switch(p){case"value":Z=g;break;case"defaultValue":I=g;break;case"multiple":b=g;default:g!==B&&Je(i,s,p,g,c,B)}s=I,l=b,c=J,Z!=null?yi(i,!!l,Z,!1):!!c!=!!l&&(s!=null?yi(i,!!l,s,!0):yi(i,!!l,l?[]:"",!1));return;case"textarea":J=Z=null;for(I in l)if(p=l[I],l.hasOwnProperty(I)&&p!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Je(i,s,I,null,c,p)}for(b in c)if(p=c[b],g=l[b],c.hasOwnProperty(b)&&(p!=null||g!=null))switch(b){case"value":Z=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&Je(i,s,b,p,c,g)}We(i,Z,J);return;case"option":for(var Ie in l)if(Z=l[Ie],l.hasOwnProperty(Ie)&&Z!=null&&!c.hasOwnProperty(Ie))switch(Ie){case"selected":i.selected=!1;break;default:Je(i,s,Ie,null,c,Z)}for(B in c)if(Z=c[B],J=l[B],c.hasOwnProperty(B)&&Z!==J&&(Z!=null||J!=null))switch(B){case"selected":i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Je(i,s,B,Z,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)Z=l[Ee],l.hasOwnProperty(Ee)&&Z!=null&&!c.hasOwnProperty(Ee)&&Je(i,s,Ee,null,c,Z);for(Q in c)if(Z=c[Q],J=l[Q],c.hasOwnProperty(Q)&&Z!==J&&(Z!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Je(i,s,Q,Z,c,J)}return;default:if(au(s)){for(var et in l)Z=l[et],l.hasOwnProperty(et)&&Z!==void 0&&!c.hasOwnProperty(et)&&Ym(i,s,et,void 0,c,Z);for(re in c)Z=c[re],J=l[re],!c.hasOwnProperty(re)||Z===J||Z===void 0&&J===void 0||Ym(i,s,re,Z,c,J);return}}for(var H in l)Z=l[H],l.hasOwnProperty(H)&&Z!=null&&!c.hasOwnProperty(H)&&Je(i,s,H,null,c,Z);for(se in c)Z=c[se],J=l[se],!c.hasOwnProperty(se)||Z===J||Z==null&&J==null||Je(i,s,se,Z,c,J)}var Xm=null,Qm=null;function yf(i){return i.nodeType===9?i:i.ownerDocument}function nE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Wm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zm=null;function FC(){var i=window.event;return i&&i.type==="popstate"?i===Zm?!1:(Zm=i,!0):(Zm=null,!1)}var iE=typeof setTimeout=="function"?setTimeout:void 0,qC=typeof clearTimeout=="function"?clearTimeout:void 0,sE=typeof Promise=="function"?Promise:void 0,HC=typeof queueMicrotask=="function"?queueMicrotask:typeof sE<"u"?function(i){return sE.resolve(null).then(i).catch(GC)}:iE;function GC(i){setTimeout(function(){throw i})}function Es(i){return i==="head"}function aE(i,s){var l=s,c=0,p=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<c&&8>c){l=c;var b=i.ownerDocument;if(l&1&&Gu(b.documentElement),l&2&&Gu(b.body),l&4)for(l=b.head,Gu(l),b=l.firstChild;b;){var I=b.nextSibling,B=b.nodeName;b[pa]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=I}}if(p===0){i.removeChild(g),Ju(s);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=g}while(l);Ju(s)}function Jm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Jm(l),ns(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function $C(i,s,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[pa])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Ir(i.nextSibling),i===null)break}return null}function KC(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ir(i.nextSibling),i===null))return null;return i}function eg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function YC(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Ir(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var tg=null;function oE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function lE(i,s,l){switch(s=yf(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Gu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ns(i)}var fr=new Map,uE=new Set;function vf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Li=ue.d;ue.d={f:XC,r:QC,D:WC,C:ZC,L:JC,m:eO,X:nO,S:tO,M:rO};function XC(){var i=Li.f(),s=cf();return i||s}function QC(i){var s=Mr(i);s!==null&&s.tag===5&&s.type==="form"?O0(s):Li.r(i)}var ul=typeof document>"u"?null:document;function cE(i,s,l){var c=ul;if(c&&typeof s=="string"&&s){var p=Ct(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),uE.has(p)||(uE.add(p),i={rel:i,crossOrigin:l,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),nn(s,"link",i),bt(s),c.head.appendChild(s)))}}function WC(i){Li.D(i),cE("dns-prefetch",i,null)}function ZC(i,s){Li.C(i,s),cE("preconnect",i,s)}function JC(i,s,l){Li.L(i,s,l);var c=ul;if(c&&i&&s){var p='link[rel="preload"][as="'+Ct(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ct(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ct(l.imageSizes)+'"]')):p+='[href="'+Ct(i)+'"]';var g=p;switch(s){case"style":g=cl(i);break;case"script":g=hl(i)}fr.has(g)||(i=_({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),fr.set(g,i),c.querySelector(p)!==null||s==="style"&&c.querySelector($u(g))||s==="script"&&c.querySelector(Ku(g))||(s=c.createElement("link"),nn(s,"link",i),bt(s),c.head.appendChild(s)))}}function eO(i,s){Li.m(i,s);var l=ul;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Ct(c)+'"][href="'+Ct(i)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=hl(i)}if(!fr.has(g)&&(i=_({rel:"modulepreload",href:i},s),fr.set(g,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ku(g)))return}c=l.createElement("link"),nn(c,"link",i),bt(c),l.head.appendChild(c)}}}function tO(i,s,l){Li.S(i,s,l);var c=ul;if(c&&i){var p=_n(c).hoistableStyles,g=cl(i);s=s||"default";var b=p.get(g);if(!b){var I={loading:0,preload:null};if(b=c.querySelector($u(g)))I.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},l),(l=fr.get(g))&&ng(i,l);var B=b=c.createElement("link");bt(B),nn(B,"link",i),B._p=new Promise(function(Q,re){B.onload=Q,B.onerror=re}),B.addEventListener("load",function(){I.loading|=1}),B.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Tf(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:I},p.set(g,b)}}}function nO(i,s){Li.X(i,s);var l=ul;if(l&&i){var c=_n(l).hoistableScripts,p=hl(i),g=c.get(p);g||(g=l.querySelector(Ku(p)),g||(i=_({src:i,async:!0},s),(s=fr.get(p))&&rg(i,s),g=l.createElement("script"),bt(g),nn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function rO(i,s){Li.M(i,s);var l=ul;if(l&&i){var c=_n(l).hoistableScripts,p=hl(i),g=c.get(p);g||(g=l.querySelector(Ku(p)),g||(i=_({src:i,async:!0,type:"module"},s),(s=fr.get(p))&&rg(i,s),g=l.createElement("script"),bt(g),nn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function hE(i,s,l,c){var p=(p=Se.current)?vf(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=cl(l.href),l=_n(p).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=cl(l.href);var g=_n(p).hoistableStyles,b=g.get(i);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=p.querySelector($u(i)))&&!g._p&&(b.instance=g,b.state.loading=5),fr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},fr.set(i,l),g||iO(p,i,l,b.state))),s&&c===null)throw Error(r(528,""));return b}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=hl(l),l=_n(p).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function cl(i){return'href="'+Ct(i)+'"'}function $u(i){return'link[rel="stylesheet"]['+i+"]"}function fE(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function iO(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),nn(s,"link",l),bt(s),i.head.appendChild(s))}function hl(i){return'[src="'+Ct(i)+'"]'}function Ku(i){return"script[async]"+i}function dE(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Ct(l.href)+'"]');if(c)return s.instance=c,bt(c),c;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),bt(c),nn(c,"style",p),Tf(c,l.precedence,i),s.instance=c;case"stylesheet":p=cl(l.href);var g=i.querySelector($u(p));if(g)return s.state.loading|=4,s.instance=g,bt(g),g;c=fE(l),(p=fr.get(p))&&ng(c,p),g=(i.ownerDocument||i).createElement("link"),bt(g);var b=g;return b._p=new Promise(function(I,B){b.onload=I,b.onerror=B}),nn(g,"link",c),s.state.loading|=4,Tf(g,l.precedence,i),s.instance=g;case"script":return g=hl(l.src),(p=i.querySelector(Ku(g)))?(s.instance=p,bt(p),p):(c=l,(p=fr.get(g))&&(c=_({},l),rg(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),bt(p),nn(p,"link",c),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Tf(c,l.precedence,i));return s.instance}function Tf(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,b=0;b<c.length;b++){var I=c[b];if(I.dataset.precedence===s)g=I;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function ng(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function rg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Ef=null;function pE(i,s,l){if(Ef===null){var c=new Map,p=Ef=new Map;p.set(l,c)}else p=Ef,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var g=l[p];if(!(g[pa]||g[Vt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=i+b;var I=c.get(b);I?I.push(g):c.set(b,[g])}}return c}function mE(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function sO(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function gE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Yu=null;function aO(){}function oO(i,s,l){if(Yu===null)throw Error(r(475));var c=Yu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=cl(l.href),g=i.querySelector($u(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=bf.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=g,bt(g);return}g=i.ownerDocument||i,l=fE(l),(p=fr.get(p))&&ng(l,p),g=g.createElement("link"),bt(g);var b=g;b._p=new Promise(function(I,B){b.onload=I,b.onerror=B}),nn(g,"link",l),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=bf.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function lO(){if(Yu===null)throw Error(r(475));var i=Yu;return i.stylesheets&&i.count===0&&ig(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&ig(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function bf(){if(this.count--,this.count===0){if(this.stylesheets)ig(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var wf=null;function ig(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,wf=new Map,s.forEach(uO,i),wf=null,bf.call(i))}function uO(i,s){if(!(s.state.loading&4)){var l=wf.get(i);if(l)var c=l.get(null);else{l=new Map,wf.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var b=p[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),c=b)}c&&l.set(null,c)}p=s.instance,b=p.getAttribute("data-precedence"),g=l.get(b)||c,g===c&&l.set(null,p),l.set(b,p),this.count++,c=bf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Xu={$$typeof:M,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function cO(i,s,l,c,p,g,b,I){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function _E(i,s,l,c,p,g,b,I,B,Q,re,se){return i=new cO(i,s,l,b,I,B,Q,se),s=1,g===!0&&(s|=24),g=zn(3,null,null,s),i.current=g,g.stateNode=i,s=zp(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:s},qp(g),i}function yE(i){return i?(i=Fo,i):Fo}function vE(i,s,l,c,p,g){p=yE(p),c.context===null?c.context=p:c.pendingContext=p,c=ls(s),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=us(i,c,s),l!==null&&(Hn(l,i,s),Au(l,i,s))}function TE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function sg(i,s){TE(i,s),(i=i.alternate)&&TE(i,s)}function EE(i){if(i.tag===13){var s=Bo(i,67108864);s!==null&&Hn(s,i,67108864),sg(i,67108864)}}var Sf=!0;function hO(i,s,l,c){var p=X.T;X.T=null;var g=ue.p;try{ue.p=2,ag(i,s,l,c)}finally{ue.p=g,X.T=p}}function fO(i,s,l,c){var p=X.T;X.T=null;var g=ue.p;try{ue.p=8,ag(i,s,l,c)}finally{ue.p=g,X.T=p}}function ag(i,s,l,c){if(Sf){var p=og(c);if(p===null)Km(i,s,c,Af,l),wE(i,c);else if(pO(p,i,s,l,c))c.stopPropagation();else if(wE(i,c),s&4&&-1<dO.indexOf(i)){for(;p!==null;){var g=Mr(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=br(g.pendingLanes);if(b!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;b;){var B=1<<31-ln(b);I.entanglements[1]|=B,b&=~B}Yr(g),(Xe&6)===0&&(lf=er()+500,Fu(0))}}break;case 13:I=Bo(g,2),I!==null&&Hn(I,g,2),cf(),sg(g,2)}if(g=og(c),g===null&&Km(i,s,c,Af,l),g===p)break;p=g}p!==null&&c.stopPropagation()}else Km(i,s,c,null,l)}}function og(i){return i=rr(i),lg(i)}var Af=null;function lg(i){if(Af=null,i=mi(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Af=i,null}function bE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hp()){case Kl:return 2;case To:return 8;case ua:case fp:return 32;case Eo:return 268435456;default:return 32}default:return 32}}var ug=!1,bs=null,ws=null,Ss=null,Qu=new Map,Wu=new Map,As=[],dO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wE(i,s){switch(i){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Qu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(s.pointerId)}}function Zu(i,s,l,c,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Mr(s),s!==null&&EE(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function pO(i,s,l,c,p){switch(s){case"focusin":return bs=Zu(bs,i,s,l,c,p),!0;case"dragenter":return ws=Zu(ws,i,s,l,c,p),!0;case"mouseover":return Ss=Zu(Ss,i,s,l,c,p),!0;case"pointerover":var g=p.pointerId;return Qu.set(g,Zu(Qu.get(g)||null,i,s,l,c,p)),!0;case"gotpointercapture":return g=p.pointerId,Wu.set(g,Zu(Wu.get(g)||null,i,s,l,c,p)),!0}return!1}function SE(i){var s=mi(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,uh(i.priority,function(){if(l.tag===13){var c=qn();c=Ji(c);var p=Bo(l,c);p!==null&&Hn(p,l,c),sg(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Rf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=og(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);vi=c,l.target.dispatchEvent(c),vi=null}else return s=Mr(l),s!==null&&EE(s),i.blockedOn=l,!1;s.shift()}return!0}function AE(i,s,l){Rf(i)&&l.delete(s)}function mO(){ug=!1,bs!==null&&Rf(bs)&&(bs=null),ws!==null&&Rf(ws)&&(ws=null),Ss!==null&&Rf(Ss)&&(Ss=null),Qu.forEach(AE),Wu.forEach(AE)}function If(i,s){i.blockedOn===s&&(i.blockedOn=null,ug||(ug=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,mO)))}var Cf=null;function RE(i){Cf!==i&&(Cf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Cf===i&&(Cf=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],p=i[s+2];if(typeof c!="function"){if(lg(c||l)===null)continue;break}var g=Mr(l);g!==null&&(i.splice(s,3),s-=3,lm(g,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function Ju(i){function s(B){return If(B,i)}bs!==null&&If(bs,i),ws!==null&&If(ws,i),Ss!==null&&If(Ss,i),Qu.forEach(s),Wu.forEach(s);for(var l=0;l<As.length;l++){var c=As[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<As.length&&(l=As[0],l.blockedOn===null);)SE(l),l.blockedOn===null&&As.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],g=l[c+1],b=p[It]||null;if(typeof g=="function")b||RE(l);else if(b){var I=null;if(g&&g.hasAttribute("formAction")){if(p=g,b=g[It]||null)I=b.formAction;else if(lg(p)!==null)continue}else I=b.action;typeof I=="function"?l[c+1]=I:(l.splice(c,3),c-=3),RE(l)}}}function cg(i){this._internalRoot=i}Of.prototype.render=cg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=qn();vE(l,c,i,s,null,null)},Of.prototype.unmount=cg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;vE(i.current,2,null,i,null,null),cf(),s[tr]=null}};function Of(i){this._internalRoot=i}Of.prototype.unstable_scheduleHydration=function(i){if(i){var s=es();i={blockedOn:null,target:i,priority:s};for(var l=0;l<As.length&&s!==0&&s<As[l].priority;l++);As.splice(l,0,i),l===0&&SE(i)}};var IE=e.version;if(IE!=="19.1.0")throw Error(r(527,IE,"19.1.0"));ue.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var gO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{mt=Pf.inject(gO),Ye=Pf}catch{}}return rc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",p=q0,g=H0,b=G0,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=_E(i,1,!1,null,null,l,c,p,g,b,I,null),i[tr]=s.current,$m(i),new cg(s)},rc.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,p="",g=q0,b=H0,I=G0,B=null,Q=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks),l.formState!==void 0&&(Q=l.formState)),s=_E(i,1,!0,s,l??null,c,p,g,b,I,B,Q),s.context=yE(null),l=s.current,c=qn(),c=Ji(c),p=ls(c),p.callback=null,us(l,p,c),l=c,s.current.lanes=l,pi(s,l),Yr(s),i[tr]=s.current,$m(i),new Of(s)},rc.version="19.1.0",rc}var qE;function WP(){if(qE)return _g.exports;qE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_g.exports=QP(),_g.exports}var ZP=WP();const JP=()=>{};var HE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},eD=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],h=n[t++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},PS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,d=a+2<n.length,m=d?n[a+2]:0,_=o>>2,v=(o&3)<<4|h>>4;let T=(h&15)<<2|m>>6,w=m&63;d||(w=64,u||(T=64)),r.push(t[_],t[v],t[T],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(OS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):eD(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||v==null)throw new tD;const T=o<<2|h>>4;if(r.push(T),m!==64){const w=h<<4&240|m>>2;if(r.push(w),v!==64){const C=m<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nD=function(n){const e=OS(n);return PS.encodeByteArray(e,!0)},id=function(n){return nD(n).replace(/\./g,"")},DS=function(n){try{return PS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=()=>rD().__FIREBASE_DEFAULTS__,sD=()=>{if(typeof process>"u"||typeof HE>"u")return;const n=HE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&DS(n[1]);return e&&JSON.parse(e)},Ud=()=>{try{return JP()||iD()||sD()||aD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xS=n=>{var e,t;return(t=(e=Ud())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},NS=n=>{const e=xS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},MS=()=>{var n;return(n=Ud())===null||n===void 0?void 0:n.config},kS=n=>{var e;return(e=Ud())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ty(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[id(JSON.stringify(t)),id(JSON.stringify(u)),""].join(".")}const mc={};function lD(){const n={prod:[],emulator:[]};for(const e of Object.keys(mc))mc[e]?n.emulator.push(e):n.prod.push(e);return n}function uD(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let GE=!1;function ny(n,e){if(typeof window>"u"||typeof document>"u"||!ea(window.location.host)||mc[n]===e||mc[n]||GE)return;mc[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",o=lD().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,w){T.setAttribute("width","24"),T.setAttribute("id",w),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{GE=!0,u()},T}function _(T,w){T.setAttribute("id",w),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=uD(r),w=t("text"),C=document.getElementById(w)||document.createElement("span"),S=t("learnmore"),x=document.getElementById(S)||document.createElement("a"),O=t("preprendIcon"),k=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const M=T.element;h(M),_(x,S);const z=m();d(k,O),M.append(k,C,x,z),document.body.appendChild(M)}o?(C.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function hD(){var n;const e=(n=Ud())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pD(){const n=gn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function mD(){return!hD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function US(){try{return typeof indexedDB=="object"}catch{return!1}}function zS(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function gD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="FirebaseError";class Er extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=_D,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fo.prototype.create)}}class fo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?yD(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Er(a,h,r)}}function yD(n,e){return n.replace(vD,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const vD=/\{\$([^}]+)}/g;function TD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Hs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if($E(o)&&$E(u)){if(!Hs(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function $E(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function lc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ED(n,e){const t=new bD(n,e);return t.subscribe.bind(t)}class bD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");wD(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Tg),a.error===void 0&&(a.error=Tg),a.complete===void 0&&(a.complete=Tg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Tg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=1e3,AD=2,RD=4*60*60*1e3,ID=.5;function KE(n,e=SD,t=AD){const r=e*Math.pow(t,n),a=Math.round(ID*r*(Math.random()-.5)*2);return Math.min(RD,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(n){return n&&n._delegate?n._delegate:n}class vr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new oD;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),a=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PD(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OD(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OD(n){return n===Ga?void 0:n}function PD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const xD={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},ND=Ve.INFO,MD={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},kD=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=MD[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zd{constructor(e){this.name=e,this._logLevel=ND,this._logHandler=kD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const VD=(n,e)=>e.some(t=>n instanceof t);let YE,XE;function LD(){return YE||(YE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UD(){return XE||(XE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jS=new WeakMap,a_=new WeakMap,BS=new WeakMap,Eg=new WeakMap,ry=new WeakMap;function zD(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Ls(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&jS.set(t,n)}).catch(()=>{}),ry.set(e,n),e}function jD(n){if(a_.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});a_.set(n,e)}let o_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return a_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||BS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ls(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function BD(n){o_=n(o_)}function FD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(bg(this),e,...t);return BS.set(r,e.sort?e.sort():[e]),Ls(r)}:UD().includes(n)?function(...e){return n.apply(bg(this),e),Ls(jS.get(this))}:function(...e){return Ls(n.apply(bg(this),e))}}function qD(n){return typeof n=="function"?FD(n):(n instanceof IDBTransaction&&jD(n),VD(n,LD())?new Proxy(n,o_):n)}function Ls(n){if(n instanceof IDBRequest)return zD(n);if(Eg.has(n))return Eg.get(n);const e=qD(n);return e!==n&&(Eg.set(n,e),ry.set(e,n)),e}const bg=n=>ry.get(n);function FS(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),h=Ls(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Ls(u.result),d.oldVersion,d.newVersion,Ls(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const HD=["get","getKey","getAll","getAllKeys","count"],GD=["put","add","delete","clear"],wg=new Map;function QE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wg.get(e))return wg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=GD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||HD.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),a&&d.done]))[0]};return wg.set(e,o),o}BD(n=>({...n,get:(e,t,r)=>QE(e,t)||n.get(e,t,r),has:(e,t)=>!!QE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(KD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function KD(n){const e=n.getComponent();return e?.type==="VERSION"}const l_="@firebase/app",WE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new zd("@firebase/app"),YD="@firebase/app-compat",XD="@firebase/analytics-compat",QD="@firebase/analytics",WD="@firebase/app-check-compat",ZD="@firebase/app-check",JD="@firebase/auth",e2="@firebase/auth-compat",t2="@firebase/database",n2="@firebase/data-connect",r2="@firebase/database-compat",i2="@firebase/functions",s2="@firebase/functions-compat",a2="@firebase/installations",o2="@firebase/installations-compat",l2="@firebase/messaging",u2="@firebase/messaging-compat",c2="@firebase/performance",h2="@firebase/performance-compat",f2="@firebase/remote-config",d2="@firebase/remote-config-compat",p2="@firebase/storage",m2="@firebase/storage-compat",g2="@firebase/firestore",_2="@firebase/ai",y2="@firebase/firestore-compat",v2="firebase",T2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="[DEFAULT]",E2={[l_]:"fire-core",[YD]:"fire-core-compat",[QD]:"fire-analytics",[XD]:"fire-analytics-compat",[ZD]:"fire-app-check",[WD]:"fire-app-check-compat",[JD]:"fire-auth",[e2]:"fire-auth-compat",[t2]:"fire-rtdb",[n2]:"fire-data-connect",[r2]:"fire-rtdb-compat",[i2]:"fire-fn",[s2]:"fire-fn-compat",[a2]:"fire-iid",[o2]:"fire-iid-compat",[l2]:"fire-fcm",[u2]:"fire-fcm-compat",[c2]:"fire-perf",[h2]:"fire-perf-compat",[f2]:"fire-rc",[d2]:"fire-rc-compat",[p2]:"fire-gcs",[m2]:"fire-gcs-compat",[g2]:"fire-fst",[y2]:"fire-fst-compat",[_2]:"fire-vertex","fire-js":"fire-js",[v2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=new Map,b2=new Map,c_=new Map;function ZE(n,e){try{n.container.addComponent(e)}catch(t){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xr(n){const e=n.name;if(c_.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;c_.set(e,n);for(const t of sd.values())ZE(t,n);for(const t of b2.values())ZE(t,n);return!0}function ta(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Cn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new fo("app","Firebase",w2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=T2;function qS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:u_,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw Us.create("bad-app-name",{appName:String(a)});if(t||(t=MS()),!t)throw Us.create("no-options");const o=sd.get(a);if(o){if(Hs(t,o.options)&&Hs(r,o.config))return o;throw Us.create("duplicate-app",{appName:a})}const u=new DD(a);for(const d of c_.values())u.addComponent(d);const h=new S2(t,r,u);return sd.set(a,h),h}function jd(n=u_){const e=sd.get(n);if(!e&&n===u_&&MS())return qS();if(!e)throw Us.create("no-app",{appName:n});return e}function On(n,e,t){var r;let a=(r=E2[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(h.join(" "));return}xr(new vr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="firebase-heartbeat-database",R2=1,Oc="firebase-heartbeat-store";let Sg=null;function HS(){return Sg||(Sg=FS(A2,R2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Oc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Us.create("idb-open",{originalErrorMessage:n.message})})),Sg}async function I2(n){try{const t=(await HS()).transaction(Oc),r=await t.objectStore(Oc).get(GS(n));return await t.done,r}catch(e){if(e instanceof Er)$i.warn(e.message);else{const t=Us.create("idb-get",{originalErrorMessage:e?.message});$i.warn(t.message)}}}async function JE(n,e){try{const r=(await HS()).transaction(Oc,"readwrite");await r.objectStore(Oc).put(e,GS(n)),await r.done}catch(t){if(t instanceof Er)$i.warn(t.message);else{const r=Us.create("idb-set",{originalErrorMessage:t?.message});$i.warn(r.message)}}}function GS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=1024,O2=30;class P2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new x2(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=eb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>O2){const u=N2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=eb(),{heartbeatsToSend:r,unsentEntries:a}=D2(this._heartbeatsCache.heartbeats),o=id(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return $i.warn(t),""}}}function eb(){return new Date().toISOString().substring(0,10)}function D2(n,e=C2){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),tb(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),tb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class x2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return US()?zS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await I2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return JE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return JE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function tb(n){return id(JSON.stringify({version:2,heartbeats:n})).length}function N2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(n){xr(new vr("platform-logger",e=>new $D(e),"PRIVATE")),xr(new vr("heartbeat",e=>new P2(e),"PRIVATE")),On(l_,WE,n),On(l_,WE,"esm2017"),On("fire-js","")}M2("");function iy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function $S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k2=$S,KS=new fo("auth","Firebase",$S());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=new zd("@firebase/auth");function V2(n,...e){ad.logLevel<=Ve.WARN&&ad.warn(`Auth (${po}): ${n}`,...e)}function qf(n,...e){ad.logLevel<=Ve.ERROR&&ad.error(`Auth (${po}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(n,...e){throw ay(n,...e)}function Pr(n,...e){return ay(n,...e)}function sy(n,e,t){const r=Object.assign(Object.assign({},k2()),{[e]:t});return new fo("auth","Firebase",r).create(e,{appName:n.name})}function Hi(n){return sy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L2(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tr(n,"argument-error"),sy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ay(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return KS.create(n,...e)}function Ae(n,e,...t){if(!n)throw ay(e,...t)}function Bi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw qf(e),new Error(e)}function Ki(n,e){n||Bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function U2(){return nb()==="http:"||nb()==="https:"}function nb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U2()||LS()||"connection"in navigator)?navigator.onLine:!0}function j2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ki(t>e,"Short delay should be less than long delay!"),this.isMobile=cD()||dD()}get(){return z2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(n,e){Ki(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q2=new Xc(3e4,6e4);function na(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ra(n,e,t,r,a={}){return XS(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Yc(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:d},o);return fD()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&ea(n.emulatorConfig.host)&&(m.credentials="include"),YS.fetch()(await QS(n,n.config.apiHost,t,h),m)})}async function XS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},B2),e);try{const a=new G2(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw xf(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw xf(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw xf(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw xf(n,"user-disabled",u);const _=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw sy(n,_,m);Tr(n,_)}}catch(a){if(a instanceof Er)throw a;Tr(n,"network-request-failed",{message:String(a)})}}async function Qc(n,e,t,r,a={}){const o=await ra(n,e,t,r,a);return"mfaPendingCredential"in o&&Tr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function QS(n,e,t,r){const a=`${e}${t}?${r}`,o=n,u=o.config.emulator?oy(n.config,a):`${n.config.apiScheme}://${a}`;return F2.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function H2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class G2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),q2.get())})}}function xf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Pr(n,e,r);return a.customData._tokenResponse=t,a}function rb(n){return n!==void 0&&n.enterprise!==void 0}class $2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return H2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K2(n,e){return ra(n,"GET","/v2/recaptchaConfig",na(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(n,e){return ra(n,"POST","/v1/accounts:delete",e)}async function od(n,e){return ra(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X2(n,e=!1){const t=kt(n),r=await t.getIdToken(e),a=ly(r);Ae(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:gc(Ag(a.auth_time)),issuedAtTime:gc(Ag(a.iat)),expirationTime:gc(Ag(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ag(n){return Number(n)*1e3}function ly(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return qf("JWT malformed, contained fewer than 3 sections"),null;try{const a=DS(t);return a?JSON.parse(a):(qf("Failed to decode base64 JWT payload"),null)}catch(a){return qf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ib(n){const e=ly(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Er&&Q2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Q2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(n){var e;const t=n.auth,r=await n.getIdToken(),a=await Pc(n,od(t,{idToken:r}));Ae(a?.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?WS(o.providerUserInfo):[],h=J2(n.providerData,u),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!h?.length,_=d?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new f_(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(n,v)}async function Z2(n){const e=kt(n);await ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J2(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function WS(n){return n.map(e=>{var{providerId:t}=e,r=iy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(n,e){const t=await XS(n,{},async()=>{const r=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await QS(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return n.emulatorConfig&&ea(n.emulatorConfig.host)&&(d.credentials="include"),YS.fetch()(u,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tx(n,e){return ra(n,"POST","/v2/accounts:revokeToken",na(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ib(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=ib(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await ex(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new vl;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ae(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ae(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Cr{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=iy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new f_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Pc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return X2(this,e)}reload(){return Z2(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await Pc(this,Y2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,u,h,d,m,_;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(a=t.email)!==null&&a!==void 0?a:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(u=t.photoURL)!==null&&u!==void 0?u:void 0,S=(h=t.tenantId)!==null&&h!==void 0?h:void 0,x=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,O=(m=t.createdAt)!==null&&m!==void 0?m:void 0,k=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:M,emailVerified:z,isAnonymous:F,providerData:G,stsTokenManager:D}=t;Ae(M&&D,e,"internal-error");const A=vl.fromJSON(this.name,D);Ae(typeof M=="string",e,"internal-error"),Is(v,e.name),Is(T,e.name),Ae(typeof z=="boolean",e,"internal-error"),Ae(typeof F=="boolean",e,"internal-error"),Is(w,e.name),Is(C,e.name),Is(S,e.name),Is(x,e.name),Is(O,e.name),Is(k,e.name);const R=new Cr({uid:M,auth:e,email:T,emailVerified:z,displayName:v,isAnonymous:F,photoURL:C,phoneNumber:w,tenantId:S,stsTokenManager:A,createdAt:O,lastLoginAt:k});return G&&Array.isArray(G)&&(R.providerData=G.map(V=>Object.assign({},V))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,t,r=!1){const a=new vl;a.updateFromServerResponse(t);const o=new Cr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await ld(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ae(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?WS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,h=new vl;h.updateFromIdToken(r);const d=new Cr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new f_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=new Map;function Fi(n){Ki(n instanceof Function,"Expected a class definition");let e=sb.get(n);return e?(Ki(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ZS.type="NONE";const ab=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n,e,t){return`firebase:${n}:${e}:${t}`}class Tl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Hf(this.userKey,a.apiKey,o),this.fullPersistenceKey=Hf("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await od(this.auth,{idToken:e}).catch(()=>{});return t?Cr._fromGetAccountInfoResponse(this.auth,t,e):null}return Cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Tl(Fi(ab),e,r);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Fi(ab);const u=Hf(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const _=await m._get(u);if(_){let v;if(typeof _=="string"){const T=await od(e,{idToken:_}).catch(()=>{});if(!T)break;v=await Cr._fromGetAccountInfoResponse(e,T,_)}else v=Cr._fromJSON(e,_);m!==o&&(h=v),o=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Tl(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new Tl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iA(e))return"Blackberry";if(sA(e))return"Webos";if(eA(e))return"Safari";if((e.includes("chrome/")||tA(e))&&!e.includes("edge/"))return"Chrome";if(rA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function JS(n=gn()){return/firefox\//i.test(n)}function eA(n=gn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tA(n=gn()){return/crios\//i.test(n)}function nA(n=gn()){return/iemobile/i.test(n)}function rA(n=gn()){return/android/i.test(n)}function iA(n=gn()){return/blackberry/i.test(n)}function sA(n=gn()){return/webos/i.test(n)}function uy(n=gn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nx(n=gn()){var e;return uy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rx(){return pD()&&document.documentMode===10}function aA(n=gn()){return uy(n)||rA(n)||sA(n)||iA(n)||/windows phone/i.test(n)||nA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(n,e=[]){let t;switch(n){case"Browser":t=ob(gn());break;case"Worker":t=`${ob(gn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${po}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(n,e={}){return ra(n,"GET","/v2/passwordPolicy",na(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=6;class ox{constructor(e){var t,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:ax,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lb(this),this.idTokenSubscription=new lb(this),this.beforeStateQueue=new ix(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fi(t)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await od(this,{idToken:e}),r=await Cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Cn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&d?.user&&(a=d.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ld(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(Hi(this));const t=e?kt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sx(this),t=new ox(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await tx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fi(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[Fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&V2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ia(n){return kt(n)}class lb{constructor(e){this.auth=e,this.observer=null,this.addObserver=ED(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ux(n){Bd=n}function lA(n){return Bd.loadJS(n)}function cx(){return Bd.recaptchaEnterpriseScript}function hx(){return Bd.gapiScript}function fx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class dx{constructor(){this.enterprise=new px}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class px{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mx="recaptcha-enterprise",uA="NO_RECAPTCHA";class gx{constructor(e){this.type=mx,this.auth=ia(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{K2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new $2(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function a(o,u,h){const d=window.grecaptcha;rb(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(uA)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dx().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&rb(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=cx();d.length!==0&&(d+=h),lA(d).then(()=>{a(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function ub(n,e,t,r=!1,a=!1){const o=new gx(n);let u;if(a)u=uA;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function d_(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ub(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await ub(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(n,e){const t=ta(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Hs(o,e??{}))return a;Tr(a,"already-initialized")}return t.initialize({options:e})}function yx(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Fi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function vx(n,e,t){const r=ia(n);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=cA(e),{host:u,port:h}=Tx(e),d=h===null?"":`:${h}`,m={url:`${o}//${u}${d}/`},_=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(Hs(m,r.config.emulator)&&Hs(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,ea(u)?(ty(`${o}//${u}${d}`),ny("Auth",!0)):Ex()}function cA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Tx(n){const e=cA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:cb(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:cb(u)}}}function cb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Ex(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,t){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}async function bx(n,e){return ra(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(n,e){return Qc(n,"POST","/v1/accounts:signInWithPassword",na(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(n,e){return Qc(n,"POST","/v1/accounts:signInWithEmailLink",na(n,e))}async function Ax(n,e){return Qc(n,"POST","/v1/accounts:signInWithEmailLink",na(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends cy{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Dc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Dc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d_(e,t,"signInWithPassword",wx);case"emailLink":return Sx(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d_(e,r,"signUpPassword",bx);case"emailLink":return Ax(e,{idToken:t,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(n,e){return Qc(n,"POST","/v1/accounts:signInWithIdp",na(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="http://localhost";class ro extends cy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Tr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=iy(t,["providerId","signInMethod"]);if(!r||!a)return null;const u=new ro(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return El(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,El(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,El(e,t)}buildRequest(){const e={requestUri:Rx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Cx(n){const e=oc(lc(n)).link,t=e?oc(lc(e)).deep_link_id:null,r=oc(lc(n)).deep_link_id;return(r?oc(lc(r)).link:null)||r||t||e||n}class hy{constructor(e){var t,r,a,o,u,h;const d=oc(lc(e)),m=(t=d.apiKey)!==null&&t!==void 0?t:null,_=(r=d.oobCode)!==null&&r!==void 0?r:null,v=Ix((a=d.mode)!==null&&a!==void 0?a:null);Ae(m&&_&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=_,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=Cx(e);try{return new hy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.providerId=Bl.PROVIDER_ID}static credential(e,t){return Dc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=hy.parseLink(t);return Ae(r,"argument-error"),Dc._fromEmailAndCode(e,r.code,r.tenantId)}}Bl.PROVIDER_ID="password";Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends fy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Wc{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ro._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ji.credential(t,r)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Wc{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Wc{constructor(){super("twitter.com")}static credential(e,t){return ro._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ps.credential(t,r)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(n,e){return Qc(n,"POST","/v1/accounts:signUp",na(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await Cr._fromIdTokenResponse(e,r,a),u=hb(r);return new io({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=hb(r);return new io({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function hb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends Er{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,ud.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new ud(e,t,r,a)}}function hA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ud._fromErrorAndOperation(n,o,e,r):o})}async function Px(n,e,t=!1){const r=await Pc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return io._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(n,e,t=!1){const{auth:r}=n;if(Cn(r.app))return Promise.reject(Hi(r));const a="reauthenticate";try{const o=await Pc(n,hA(r,a,e,n),t);Ae(o.idToken,r,"internal-error");const u=ly(o.idToken);Ae(u,r,"internal-error");const{sub:h}=u;return Ae(n.uid===h,r,"user-mismatch"),io._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Tr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(n,e,t=!1){if(Cn(n.app))return Promise.reject(Hi(n));const r="signIn",a=await hA(n,r,e),o=await io._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function xx(n,e){return fA(ia(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(n){const e=ia(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Nx(n,e,t){if(Cn(n.app))return Promise.reject(Hi(n));const r=ia(n),u=await d_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ox).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&dA(n),d}),h=await io._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function Mx(n,e,t){return Cn(n.app)?Promise.reject(Hi(n)):xx(kt(n),Bl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dA(n),r})}function kx(n,e,t,r){return kt(n).onIdTokenChanged(e,t,r)}function Vx(n,e,t){return kt(n).beforeAuthStateChanged(e,t)}function Lx(n,e,t,r){return kt(n).onAuthStateChanged(e,t,r)}function Ux(n){return kt(n).signOut()}const cd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cd,"1"),this.storage.removeItem(cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=1e3,jx=10;class mA extends pA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);rx()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,jx):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},zx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mA.type="LOCAL";const Bx=mA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA extends pA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gA.type="SESSION";const _A=gA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Fd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async m=>m(t.origin,o)),d=await Fx(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const m=dy("",20);a.port1.start();const _=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(_),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return window}function Hx(n){ti().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function Gx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $x(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Kx(){return yA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="firebaseLocalStorageDb",Yx=1,hd="firebaseLocalStorage",TA="fbase_key";class Zc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qd(n,e){return n.transaction([hd],e?"readwrite":"readonly").objectStore(hd)}function Xx(){const n=indexedDB.deleteDatabase(vA);return new Zc(n).toPromise()}function p_(){const n=indexedDB.open(vA,Yx);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hd,{keyPath:TA})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hd)?e(r):(r.close(),await Xx(),e(await p_()))})})}async function fb(n,e,t){const r=qd(n,!0).put({[TA]:e,value:t});return new Zc(r).toPromise()}async function Qx(n,e){const t=qd(n,!1).get(e),r=await new Zc(t).toPromise();return r===void 0?null:r.value}function db(n,e){const t=qd(n,!0).delete(e);return new Zc(t).toPromise()}const Wx=800,Zx=3;class EA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await p_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Zx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fd._getInstance(Kx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Gx(),!this.activeServiceWorker)return;this.sender=new qx(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$x()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await p_();return await fb(e,cd,"1"),await db(e,cd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>fb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Qx(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>db(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=qd(a,!1).getAll();return new Zc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Wx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EA.type="LOCAL";const Jx=EA;new Xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(n,e){return e?Fi(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py extends cy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return El(e,this._buildIdpRequest())}_linkToIdToken(e,t){return El(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return El(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eN(n){return fA(n.auth,new py(n),n.bypassAuthState)}function tN(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),Dx(t,new py(n),n.bypassAuthState)}async function nN(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),Px(t,new py(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:Tr(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new Xc(2e3,1e4);async function iN(n,e,t){if(Cn(n.app))return Promise.reject(Pr(n,"operation-not-supported-in-this-environment"));const r=ia(n);L2(n,e,fy);const a=bA(r,t);return new Ka(r,"signInViaPopup",e,a).executeNotNull()}class Ka extends wA{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rN.get())};e()}}Ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="pendingRedirect",Gf=new Map;class aN extends wA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Gf.get(this.auth._key());if(!e){try{const r=await oN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Gf.set(this.auth._key(),e)}return this.bypassAuthState||Gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oN(n,e){const t=cN(e),r=uN(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function lN(n,e){Gf.set(n._key(),e)}function uN(n){return Fi(n._redirectPersistence)}function cN(n){return Hf(sN,n.config.apiKey,n.name)}async function hN(n,e,t=!1){if(Cn(n.app))return Promise.reject(Hi(n));const r=ia(n),a=bA(r,e),u=await new aN(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=10*60*1e3;class dN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!SA(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Pr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fN&&this.cachedEventUids.clear(),this.cachedEventUids.has(pb(e))}saveEventToCache(e){this.cachedEventUids.add(pb(e)),this.lastProcessedEventTime=Date.now()}}function pb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function SA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function pN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(n,e={}){return ra(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_N=/^https?/;async function yN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await mN(n);for(const t of e)try{if(vN(t))return}catch{}Tr(n,"unauthorized-domain")}function vN(n){const e=h_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!_N.test(t))return!1;if(gN.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new Xc(3e4,6e4);function mb(){const n=ti().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function EN(n){return new Promise((e,t)=>{var r,a,o;function u(){mb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mb(),t(Pr(n,"network-request-failed"))},timeout:TN.get()})}if(!((a=(r=ti().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=ti().gapi)===null||o===void 0)&&o.load)u();else{const h=fx("iframefcb");return ti()[h]=()=>{gapi.load?u():t(Pr(n,"network-request-failed"))},lA(`${hx()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw $f=null,e})}let $f=null;function bN(n){return $f=$f||EN(n),$f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new Xc(5e3,15e3),SN="__/auth/iframe",AN="emulator/auth/iframe",RN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?oy(e,AN):`https://${n.config.authDomain}/${SN}`,r={apiKey:e.apiKey,appName:n.name,v:po},a=IN.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Yc(r).slice(1)}`}async function ON(n){const e=await bN(n),t=ti().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:CN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RN,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Pr(n,"network-request-failed"),h=ti().setTimeout(()=>{o(u)},wN.get());function d(){ti().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DN=500,xN=600,NN="_blank",MN="http://localhost";class gb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kN(n,e,t,r=DN,a=xN){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},PN),{width:r.toString(),height:a.toString(),top:o,left:u}),m=gn().toLowerCase();t&&(h=tA(m)?NN:t),JS(m)&&(e=e||MN,d.scrollbars="yes");const _=Object.entries(d).reduce((T,[w,C])=>`${T}${w}=${C},`,"");if(nx(m)&&h!=="_self")return VN(e||"",h),new gb(null);const v=window.open(e||"",h,_);Ae(v,n,"popup-blocked");try{v.focus()}catch{}return new gb(v)}function VN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="__/auth/handler",UN="emulator/auth/handler",zN=encodeURIComponent("fac");async function _b(n,e,t,r,a,o){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:po,eventId:a};if(e instanceof fy){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",TD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))u[_]=v}if(e instanceof Wc){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const d=await n._getAppCheckToken(),m=d?`#${zN}=${encodeURIComponent(d)}`:"";return`${jN(n)}?${Yc(h).slice(1)}${m}`}function jN({config:n}){return n.emulator?oy(n,UN):`https://${n.authDomain}/${LN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="webStorageSupport";class BN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_A,this._completeRedirectFn=hN,this._overrideRedirectResult=lN}async _openPopup(e,t,r,a){var o;Ki((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await _b(e,t,r,h_(),a);return kN(e,u,dy())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await _b(e,t,r,h_(),a);return Hx(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Ki(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ON(e),r=new dN(e);return t.register("authEvent",a=>(Ae(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rg,{type:Rg},a=>{var o;const u=(o=a?.[0])===null||o===void 0?void 0:o[Rg];u!==void 0&&t(!!u),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return aA()||eA()||uy()}}const FN=BN;var yb="@firebase/auth",vb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GN(n){xr(new vr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oA(n)},m=new lx(r,a,o,d);return yx(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),xr(new vr("auth-internal",e=>{const t=ia(e.getProvider("auth").getImmediate());return(r=>new qN(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(yb,vb,HN(n)),On(yb,vb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=5*60,KN=kS("authIdTokenMaxAge")||$N;let Tb=null;const YN=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>KN)return;const a=t?.token;Tb!==a&&(Tb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function XN(n=jd()){const e=ta(n,"auth");if(e.isInitialized())return e.getImmediate();const t=_x(n,{popupRedirectResolver:FN,persistence:[Jx,Bx,_A]}),r=kS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=YN(o.toString());Vx(t,u,()=>u(t.currentUser)),kx(t,h=>u(h))}}const a=xS("auth");return a&&vx(t,`http://${a}`),t}function QN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ux({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Pr("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",QN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GN("Browser");var WN="firebase",ZN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On(WN,ZN,"app");const AA="@firebase/installations",my="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=1e4,IA=`w:${my}`,CA="FIS_v2",JN="https://firebaseinstallations.googleapis.com/v1",eM=60*60*1e3,tM="installations",nM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},so=new fo(tM,nM,rM);function OA(n){return n instanceof Er&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA({projectId:n}){return`${JN}/projects/${n}/installations`}function DA(n){return{token:n.token,requestStatus:2,expiresIn:sM(n.expiresIn),creationTime:Date.now()}}async function xA(n,e){const r=(await e.json()).error;return so.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function NA({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function iM(n,{refreshToken:e}){const t=NA(n);return t.append("Authorization",aM(e)),t}async function MA(n){const e=await n();return e.status>=500&&e.status<600?n():e}function sM(n){return Number(n.replace("s","000"))}function aM(n){return`${CA} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=PA(n),a=NA(n),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const u={fid:t,authVersion:CA,appId:n.appId,sdkVersion:IA},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await MA(()=>fetch(r,h));if(d.ok){const m=await d.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:DA(m.authToken)}}else throw await xA("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=/^[cdef][\w-]{21}$/,m_="";function cM(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=hM(n);return uM.test(t)?t:m_}catch{return m_}}function hM(n){return lM(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new Map;function LA(n,e){const t=Hd(n);UA(t,e),fM(t,e)}function UA(n,e){const t=VA.get(n);if(t)for(const r of t)r(e)}function fM(n,e){const t=dM();t&&t.postMessage({key:n,fid:e}),pM()}let Ya=null;function dM(){return!Ya&&"BroadcastChannel"in self&&(Ya=new BroadcastChannel("[Firebase] FID Change"),Ya.onmessage=n=>{UA(n.data.key,n.data.fid)}),Ya}function pM(){VA.size===0&&Ya&&(Ya.close(),Ya=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="firebase-installations-database",gM=1,ao="firebase-installations-store";let Ig=null;function gy(){return Ig||(Ig=FS(mM,gM,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(ao)}}})),Ig}async function fd(n,e){const t=Hd(n),a=(await gy()).transaction(ao,"readwrite"),o=a.objectStore(ao),u=await o.get(t);return await o.put(e,t),await a.done,(!u||u.fid!==e.fid)&&LA(n,e.fid),e}async function zA(n){const e=Hd(n),r=(await gy()).transaction(ao,"readwrite");await r.objectStore(ao).delete(e),await r.done}async function Gd(n,e){const t=Hd(n),a=(await gy()).transaction(ao,"readwrite"),o=a.objectStore(ao),u=await o.get(t),h=e(u);return h===void 0?await o.delete(t):await o.put(h,t),await a.done,h&&(!u||u.fid!==h.fid)&&LA(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _y(n){let e;const t=await Gd(n.appConfig,r=>{const a=_M(r),o=yM(n,a);return e=o.registrationPromise,o.installationEntry});return t.fid===m_?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function _M(n){const e=n||{fid:cM(),registrationStatus:0};return jA(e)}function yM(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(so.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=vM(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:TM(n)}:{installationEntry:e}}async function vM(n,e){try{const t=await oM(n,e);return fd(n.appConfig,t)}catch(t){throw OA(t)&&t.customData.serverCode===409?await zA(n.appConfig):await fd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function TM(n){let e=await Eb(n.appConfig);for(;e.registrationStatus===1;)await kA(100),e=await Eb(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await _y(n);return r||t}return e}function Eb(n){return Gd(n,e=>{if(!e)throw so.create("installation-not-found");return jA(e)})}function jA(n){return EM(n)?{fid:n.fid,registrationStatus:0}:n}function EM(n){return n.registrationStatus===1&&n.registrationTime+RA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM({appConfig:n,heartbeatServiceProvider:e},t){const r=wM(n,t),a=iM(n,t),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const u={installation:{sdkVersion:IA,appId:n.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await MA(()=>fetch(r,h));if(d.ok){const m=await d.json();return DA(m)}else throw await xA("Generate Auth Token",d)}function wM(n,{fid:e}){return`${PA(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yy(n,e=!1){let t;const r=await Gd(n.appConfig,o=>{if(!BA(o))throw so.create("not-registered");const u=o.authToken;if(!e&&RM(u))return o;if(u.requestStatus===1)return t=SM(n,e),o;{if(!navigator.onLine)throw so.create("app-offline");const h=CM(o);return t=AM(n,h),h}});return t?await t:r.authToken}async function SM(n,e){let t=await bb(n.appConfig);for(;t.authToken.requestStatus===1;)await kA(100),t=await bb(n.appConfig);const r=t.authToken;return r.requestStatus===0?yy(n,e):r}function bb(n){return Gd(n,e=>{if(!BA(e))throw so.create("not-registered");const t=e.authToken;return OM(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function AM(n,e){try{const t=await bM(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await fd(n.appConfig,r),t}catch(t){if(OA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await zA(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await fd(n.appConfig,r)}throw t}}function BA(n){return n!==void 0&&n.registrationStatus===2}function RM(n){return n.requestStatus===2&&!IM(n)}function IM(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+eM}function CM(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function OM(n){return n.requestStatus===1&&n.requestTime+RA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(n){const e=n,{installationEntry:t,registrationPromise:r}=await _y(e);return r?r.catch(console.error):yy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(n,e=!1){const t=n;return await xM(t),(await yy(t,e)).token}async function xM(n){const{registrationPromise:e}=await _y(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(n){if(!n||!n.options)throw Cg("App Configuration");if(!n.name)throw Cg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Cg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Cg(n){return so.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="installations",MM="installations-internal",kM=n=>{const e=n.getProvider("app").getImmediate(),t=NM(e),r=ta(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},VM=n=>{const e=n.getProvider("app").getImmediate(),t=ta(e,FA).getImmediate();return{getId:()=>PM(t),getToken:a=>DM(t,a)}};function LM(){xr(new vr(FA,kM,"PUBLIC")),xr(new vr(MM,VM,"PRIVATE"))}LM();On(AA,my);On(AA,my,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="analytics",UM="firebase_id",zM="origin",jM=60*1e3,BM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new zd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xn=new fo("analytics","Analytics",FM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(n){if(!n.startsWith(vy)){const e=Xn.create("invalid-gtag-resource",{gtagURL:n});return Pn.warn(e.message),""}return n}function qA(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function HM(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function GM(n,e){const t=HM("firebase-js-sdk-policy",{createScriptURL:qM}),r=document.createElement("script"),a=`${vy}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function $M(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function KM(n,e,t,r,a,o){const u=r[a];try{if(u)await e[u];else{const d=(await qA(t)).find(m=>m.measurementId===a);d&&await e[d.appId]}}catch(h){Pn.error(h)}n("config",a,o)}async function YM(n,e,t,r,a){try{let o=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await qA(t);for(const d of u){const m=h.find(v=>v.measurementId===d),_=m&&e[m.appId];if(_)o.push(_);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,a||{})}catch(o){Pn.error(o)}}function XM(n,e,t,r){async function a(o,...u){try{if(o==="event"){const[h,d]=u;await YM(n,e,t,h,d)}else if(o==="config"){const[h,d]=u;await KM(n,e,t,r,h,d)}else if(o==="consent"){const[h,d]=u;n("consent",h,d)}else if(o==="get"){const[h,d,m]=u;n("get",h,d,m)}else if(o==="set"){const[h]=u;n("set",h)}else n(o,...u)}catch(h){Pn.error(h)}}return a}function QM(n,e,t,r,a){let o=function(...u){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(o=window[a]),window[a]=XM(o,n,e,t),{gtagCore:o,wrappedGtag:window[a]}}function WM(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(vy)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=30,JM=1e3;class ek{constructor(e={},t=JM){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const HA=new ek;function tk(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function nk(n){var e;const{appId:t,apiKey:r}=n,a={method:"GET",headers:tk(r)},o=BM.replace("{app-id}",t),u=await fetch(o,a);if(u.status!==200&&u.status!==304){let h="";try{const d=await u.json();!((e=d.error)===null||e===void 0)&&e.message&&(h=d.error.message)}catch{}throw Xn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function rk(n,e=HA,t){const{appId:r,apiKey:a,measurementId:o}=n.options;if(!r)throw Xn.create("no-app-id");if(!a){if(o)return{measurementId:o,appId:r};throw Xn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new ak;return setTimeout(async()=>{h.abort()},jM),GA({appId:r,apiKey:a,measurementId:o},u,h,e)}async function GA(n,{throttleEndTimeMillis:e,backoffCount:t},r,a=HA){var o;const{appId:u,measurementId:h}=n;try{await ik(r,e)}catch(d){if(h)return Pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:u,measurementId:h};throw d}try{const d=await nk(n);return a.deleteThrottleMetadata(u),d}catch(d){const m=d;if(!sk(m)){if(a.deleteThrottleMetadata(u),h)return Pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:h};throw d}const _=Number((o=m?.customData)===null||o===void 0?void 0:o.httpStatus)===503?KE(t,a.intervalMillis,ZM):KE(t,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return a.setThrottleMetadata(u,v),Pn.debug(`Calling attemptFetch again in ${_} millis`),GA(n,v,r,a)}}function ik(n,e){return new Promise((t,r)=>{const a=Math.max(e-Date.now(),0),o=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(o),r(Xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function sk(n){if(!(n instanceof Er)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class ak{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function ok(n,e,t,r,a){if(a&&a.global){n("event",t,r);return}else{const o=await e,u=Object.assign(Object.assign({},r),{send_to:o});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(){if(US())try{await zS()}catch(n){return Pn.warn(Xn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Pn.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function uk(n,e,t,r,a,o,u){var h;const d=rk(n);d.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&Pn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>Pn.error(w)),e.push(d);const m=lk().then(w=>{if(w)return r.getId()}),[_,v]=await Promise.all([d,m]);WM(o)||GM(o,_.measurementId),a("js",new Date);const T=(h=u?.config)!==null&&h!==void 0?h:{};return T[zM]="firebase",T.update=!0,v!=null&&(T[UM]=v),a("config",_.measurementId,T),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.app=e}_delete(){return delete _c[this.app.options.appId],Promise.resolve()}}let _c={},wb=[];const Sb={};let Og="dataLayer",hk="gtag",Ab,$A,Rb=!1;function fk(){const n=[];if(LS()&&n.push("This is a browser extension environment."),gD()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,a)=>`(${a+1}) ${r}`).join(" "),t=Xn.create("invalid-analytics-context",{errorInfo:e});Pn.warn(t.message)}}function dk(n,e,t){fk();const r=n.options.appId;if(!r)throw Xn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xn.create("no-api-key");if(_c[r]!=null)throw Xn.create("already-exists",{id:r});if(!Rb){$M(Og);const{wrappedGtag:o,gtagCore:u}=QM(_c,wb,Sb,Og,hk);$A=o,Ab=u,Rb=!0}return _c[r]=uk(n,wb,Sb,e,Ab,Og,t),new ck(n)}function pk(n=jd()){n=kt(n);const e=ta(n,dd);return e.isInitialized()?e.getImmediate():mk(n)}function mk(n,e={}){const t=ta(n,dd);if(t.isInitialized()){const a=t.getImmediate();if(Hs(e,t.getOptions()))return a;throw Xn.create("already-initialized")}return t.initialize({options:e})}function gk(n,e,t,r){n=kt(n),ok($A,_c[n.app.options.appId],e,t,r).catch(a=>Pn.error(a))}const Ib="@firebase/analytics",Cb="0.10.17";function _k(){xr(new vr(dd,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return dk(r,a,t)},"PUBLIC")),xr(new vr("analytics-internal",n,"PRIVATE")),On(Ib,Cb),On(Ib,Cb,"esm2017");function n(e){try{const t=e.getProvider(dd).getImmediate();return{logEvent:(r,a,o)=>gk(t,r,a,o)}}catch(t){throw Xn.create("interop-component-reg-failed",{reason:t})}}}_k();var Ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,KA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function R(){}R.prototype=A.prototype,D.D=A.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(V,U,j){for(var N=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)N[ne-2]=arguments[ne];return A.prototype[U].apply(V,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,A,R){R||(R=0);var V=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)V[U]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(U=0;16>U;++U)V[U]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=D.g[0],R=D.g[1],U=D.g[2];var j=D.g[3],N=A+(j^R&(U^j))+V[0]+3614090360&4294967295;A=R+(N<<7&4294967295|N>>>25),N=j+(U^A&(R^U))+V[1]+3905402710&4294967295,j=A+(N<<12&4294967295|N>>>20),N=U+(R^j&(A^R))+V[2]+606105819&4294967295,U=j+(N<<17&4294967295|N>>>15),N=R+(A^U&(j^A))+V[3]+3250441966&4294967295,R=U+(N<<22&4294967295|N>>>10),N=A+(j^R&(U^j))+V[4]+4118548399&4294967295,A=R+(N<<7&4294967295|N>>>25),N=j+(U^A&(R^U))+V[5]+1200080426&4294967295,j=A+(N<<12&4294967295|N>>>20),N=U+(R^j&(A^R))+V[6]+2821735955&4294967295,U=j+(N<<17&4294967295|N>>>15),N=R+(A^U&(j^A))+V[7]+4249261313&4294967295,R=U+(N<<22&4294967295|N>>>10),N=A+(j^R&(U^j))+V[8]+1770035416&4294967295,A=R+(N<<7&4294967295|N>>>25),N=j+(U^A&(R^U))+V[9]+2336552879&4294967295,j=A+(N<<12&4294967295|N>>>20),N=U+(R^j&(A^R))+V[10]+4294925233&4294967295,U=j+(N<<17&4294967295|N>>>15),N=R+(A^U&(j^A))+V[11]+2304563134&4294967295,R=U+(N<<22&4294967295|N>>>10),N=A+(j^R&(U^j))+V[12]+1804603682&4294967295,A=R+(N<<7&4294967295|N>>>25),N=j+(U^A&(R^U))+V[13]+4254626195&4294967295,j=A+(N<<12&4294967295|N>>>20),N=U+(R^j&(A^R))+V[14]+2792965006&4294967295,U=j+(N<<17&4294967295|N>>>15),N=R+(A^U&(j^A))+V[15]+1236535329&4294967295,R=U+(N<<22&4294967295|N>>>10),N=A+(U^j&(R^U))+V[1]+4129170786&4294967295,A=R+(N<<5&4294967295|N>>>27),N=j+(R^U&(A^R))+V[6]+3225465664&4294967295,j=A+(N<<9&4294967295|N>>>23),N=U+(A^R&(j^A))+V[11]+643717713&4294967295,U=j+(N<<14&4294967295|N>>>18),N=R+(j^A&(U^j))+V[0]+3921069994&4294967295,R=U+(N<<20&4294967295|N>>>12),N=A+(U^j&(R^U))+V[5]+3593408605&4294967295,A=R+(N<<5&4294967295|N>>>27),N=j+(R^U&(A^R))+V[10]+38016083&4294967295,j=A+(N<<9&4294967295|N>>>23),N=U+(A^R&(j^A))+V[15]+3634488961&4294967295,U=j+(N<<14&4294967295|N>>>18),N=R+(j^A&(U^j))+V[4]+3889429448&4294967295,R=U+(N<<20&4294967295|N>>>12),N=A+(U^j&(R^U))+V[9]+568446438&4294967295,A=R+(N<<5&4294967295|N>>>27),N=j+(R^U&(A^R))+V[14]+3275163606&4294967295,j=A+(N<<9&4294967295|N>>>23),N=U+(A^R&(j^A))+V[3]+4107603335&4294967295,U=j+(N<<14&4294967295|N>>>18),N=R+(j^A&(U^j))+V[8]+1163531501&4294967295,R=U+(N<<20&4294967295|N>>>12),N=A+(U^j&(R^U))+V[13]+2850285829&4294967295,A=R+(N<<5&4294967295|N>>>27),N=j+(R^U&(A^R))+V[2]+4243563512&4294967295,j=A+(N<<9&4294967295|N>>>23),N=U+(A^R&(j^A))+V[7]+1735328473&4294967295,U=j+(N<<14&4294967295|N>>>18),N=R+(j^A&(U^j))+V[12]+2368359562&4294967295,R=U+(N<<20&4294967295|N>>>12),N=A+(R^U^j)+V[5]+4294588738&4294967295,A=R+(N<<4&4294967295|N>>>28),N=j+(A^R^U)+V[8]+2272392833&4294967295,j=A+(N<<11&4294967295|N>>>21),N=U+(j^A^R)+V[11]+1839030562&4294967295,U=j+(N<<16&4294967295|N>>>16),N=R+(U^j^A)+V[14]+4259657740&4294967295,R=U+(N<<23&4294967295|N>>>9),N=A+(R^U^j)+V[1]+2763975236&4294967295,A=R+(N<<4&4294967295|N>>>28),N=j+(A^R^U)+V[4]+1272893353&4294967295,j=A+(N<<11&4294967295|N>>>21),N=U+(j^A^R)+V[7]+4139469664&4294967295,U=j+(N<<16&4294967295|N>>>16),N=R+(U^j^A)+V[10]+3200236656&4294967295,R=U+(N<<23&4294967295|N>>>9),N=A+(R^U^j)+V[13]+681279174&4294967295,A=R+(N<<4&4294967295|N>>>28),N=j+(A^R^U)+V[0]+3936430074&4294967295,j=A+(N<<11&4294967295|N>>>21),N=U+(j^A^R)+V[3]+3572445317&4294967295,U=j+(N<<16&4294967295|N>>>16),N=R+(U^j^A)+V[6]+76029189&4294967295,R=U+(N<<23&4294967295|N>>>9),N=A+(R^U^j)+V[9]+3654602809&4294967295,A=R+(N<<4&4294967295|N>>>28),N=j+(A^R^U)+V[12]+3873151461&4294967295,j=A+(N<<11&4294967295|N>>>21),N=U+(j^A^R)+V[15]+530742520&4294967295,U=j+(N<<16&4294967295|N>>>16),N=R+(U^j^A)+V[2]+3299628645&4294967295,R=U+(N<<23&4294967295|N>>>9),N=A+(U^(R|~j))+V[0]+4096336452&4294967295,A=R+(N<<6&4294967295|N>>>26),N=j+(R^(A|~U))+V[7]+1126891415&4294967295,j=A+(N<<10&4294967295|N>>>22),N=U+(A^(j|~R))+V[14]+2878612391&4294967295,U=j+(N<<15&4294967295|N>>>17),N=R+(j^(U|~A))+V[5]+4237533241&4294967295,R=U+(N<<21&4294967295|N>>>11),N=A+(U^(R|~j))+V[12]+1700485571&4294967295,A=R+(N<<6&4294967295|N>>>26),N=j+(R^(A|~U))+V[3]+2399980690&4294967295,j=A+(N<<10&4294967295|N>>>22),N=U+(A^(j|~R))+V[10]+4293915773&4294967295,U=j+(N<<15&4294967295|N>>>17),N=R+(j^(U|~A))+V[1]+2240044497&4294967295,R=U+(N<<21&4294967295|N>>>11),N=A+(U^(R|~j))+V[8]+1873313359&4294967295,A=R+(N<<6&4294967295|N>>>26),N=j+(R^(A|~U))+V[15]+4264355552&4294967295,j=A+(N<<10&4294967295|N>>>22),N=U+(A^(j|~R))+V[6]+2734768916&4294967295,U=j+(N<<15&4294967295|N>>>17),N=R+(j^(U|~A))+V[13]+1309151649&4294967295,R=U+(N<<21&4294967295|N>>>11),N=A+(U^(R|~j))+V[4]+4149444226&4294967295,A=R+(N<<6&4294967295|N>>>26),N=j+(R^(A|~U))+V[11]+3174756917&4294967295,j=A+(N<<10&4294967295|N>>>22),N=U+(A^(j|~R))+V[2]+718787259&4294967295,U=j+(N<<15&4294967295|N>>>17),N=R+(j^(U|~A))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+j&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var R=A-this.blockSize,V=this.B,U=this.h,j=0;j<A;){if(U==0)for(;j<=R;)a(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<A;)if(V[U++]=D.charCodeAt(j++),U==this.blockSize){a(this,V),U=0;break}}else for(;j<A;)if(V[U++]=D[j++],U==this.blockSize){a(this,V),U=0;break}}this.h=U,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var R=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=R&255,R/=256;for(this.u(D),D=Array(16),A=R=0;4>A;++A)for(var V=0;32>V;V+=8)D[R++]=this.g[A]>>>V&255;return D};function o(D,A){var R=h;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=A(D)}function u(D,A){this.h=A;for(var R=[],V=!0,U=D.length-1;0<=U;U--){var j=D[U]|0;V&&j==A||(R[U]=j,V=!1)}this.g=R}var h={};function d(D){return-128<=D&&128>D?o(D,function(A){return new u([A|0],0>A?-1:0)}):new u([D|0],0>D?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return x(m(-D));for(var A=[],R=1,V=0;D>=R;V++)A[V]=D/R|0,R*=4294967296;return new u(A,0)}function _(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return x(_(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=m(Math.pow(A,8)),V=v,U=0;U<D.length;U+=8){var j=Math.min(8,D.length-U),N=parseInt(D.substring(U,U+j),A);8>j?(j=m(Math.pow(A,j)),V=V.j(j).add(m(N))):(V=V.j(R),V=V.add(m(N)))}return V}var v=d(0),T=d(1),w=d(16777216);n=u.prototype,n.m=function(){if(S(this))return-x(this).m();for(var D=0,A=1,R=0;R<this.g.length;R++){var V=this.i(R);D+=(0<=V?V:4294967296+V)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(S(this))return"-"+x(this).toString(D);for(var A=m(Math.pow(D,6)),R=this,V="";;){var U=z(R,A).g;R=O(R,U.j(A));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=U,C(R))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function S(D){return D.h==-1}n.l=function(D){return D=O(this,D),S(D)?-1:C(D)?0:1};function x(D){for(var A=D.g.length,R=[],V=0;V<A;V++)R[V]=~D.g[V];return new u(R,~D.h).add(T)}n.abs=function(){return S(this)?x(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],V=0,U=0;U<=A;U++){var j=V+(this.i(U)&65535)+(D.i(U)&65535),N=(j>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);V=N>>>16,j&=65535,N&=65535,R[U]=N<<16|j}return new u(R,R[R.length-1]&-2147483648?-1:0)};function O(D,A){return D.add(x(A))}n.j=function(D){if(C(this)||C(D))return v;if(S(this))return S(D)?x(this).j(x(D)):x(x(this).j(D));if(S(D))return x(this.j(x(D)));if(0>this.l(w)&&0>D.l(w))return m(this.m()*D.m());for(var A=this.g.length+D.g.length,R=[],V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<D.g.length;U++){var j=this.i(V)>>>16,N=this.i(V)&65535,ne=D.i(U)>>>16,fe=D.i(U)&65535;R[2*V+2*U]+=N*fe,k(R,2*V+2*U),R[2*V+2*U+1]+=j*fe,k(R,2*V+2*U+1),R[2*V+2*U+1]+=N*ne,k(R,2*V+2*U+1),R[2*V+2*U+2]+=j*ne,k(R,2*V+2*U+2)}for(V=0;V<A;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=A;V<2*A;V++)R[V]=0;return new u(R,0)};function k(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function M(D,A){this.g=D,this.h=A}function z(D,A){if(C(A))throw Error("division by zero");if(C(D))return new M(v,v);if(S(D))return A=z(x(D),A),new M(x(A.g),x(A.h));if(S(A))return A=z(D,x(A)),new M(x(A.g),A.h);if(30<D.g.length){if(S(D)||S(A))throw Error("slowDivide_ only works with positive integers.");for(var R=T,V=A;0>=V.l(D);)R=F(R),V=F(V);var U=G(R,1),j=G(V,1);for(V=G(V,2),R=G(R,2);!C(V);){var N=j.add(V);0>=N.l(D)&&(U=U.add(R),j=N),V=G(V,1),R=G(R,1)}return A=O(D,U.j(A)),new M(U,A)}for(U=v;0<=D.l(A);){for(R=Math.max(1,Math.floor(D.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=m(R),N=j.j(A);S(N)||0<N.l(D);)R-=V,j=m(R),N=j.j(A);C(j)&&(j=T),U=U.add(j),D=O(D,N)}return new M(U,D)}n.A=function(D){return z(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)&D.i(V);return new u(R,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)|D.i(V);return new u(R,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],V=0;V<A;V++)R[V]=this.i(V)^D.i(V);return new u(R,this.h^D.h)};function F(D){for(var A=D.g.length+1,R=[],V=0;V<A;V++)R[V]=D.i(V)<<1|D.i(V-1)>>>31;return new u(R,D.h)}function G(D,A){var R=A>>5;A%=32;for(var V=D.g.length-R,U=[],j=0;j<V;j++)U[j]=0<A?D.i(j+R)>>>A|D.i(j+R+1)<<32-A:D.i(j+R);return new u(U,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KA=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=_,zs=u}).apply(typeof Ob<"u"?Ob:typeof self<"u"?self:typeof window<"u"?window:{});var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YA,uc,XA,Kf,g_,QA,WA,ZA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nf=="object"&&Nf];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function a(f,y){if(y)e:{var E=r;f=f.split(".");for(var P=0;P<f.length-1;P++){var K=f[P];if(!(K in E))break e;E=E[K]}f=f[f.length-1],P=E[f],y=y(P),y!=P&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}function o(f,y){f instanceof String&&(f+="");var E=0,P=!1,K={next:function(){if(!P&&E<f.length){var te=E++;return{value:y(te,f[te]),done:!1}}return P=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}a("Array.prototype.values",function(f){return f||function(){return o(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function m(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,E){return f.call.apply(f.bind,arguments)}function v(f,y,E){if(!f)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,P),f.apply(y,K)}}return function(){return f.apply(y,arguments)}}function T(f,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,T.apply(null,arguments)}function w(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function C(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(P,K,te){for(var de=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)de[ze-2]=arguments[ze];return y.prototype[K].apply(P,de)}}function S(f){const y=f.length;if(0<y){const E=Array(y);for(let P=0;P<y;P++)E[P]=f[P];return E}return[]}function x(f,y){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(d(P)){const K=f.length||0,te=P.length||0;f.length=K+te;for(let de=0;de<te;de++)f[K+de]=P[de]}else f.push(P)}}class O{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(f){return/^[\s\xa0]*$/.test(f)}function M(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function z(f){return z[" "](f),f}z[" "]=function(){};var F=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function G(f,y,E){for(const P in f)y.call(E,f[P],P,f)}function D(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function A(f){const y={};for(const E in f)y[E]=f[E];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(f,y){let E,P;for(let K=1;K<arguments.length;K++){P=arguments[K];for(E in P)f[E]=P[E];for(let te=0;te<R.length;te++)E=R[te],Object.prototype.hasOwnProperty.call(P,E)&&(f[E]=P[E])}}function U(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function j(f){h.setTimeout(()=>{throw f},0)}function N(){var f=he;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,E){const P=fe.get();P.set(y,E),this.h?this.h.next=P:this.g=P,this.h=P}}var fe=new O(()=>new X,f=>f.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,pe=!1,he=new ne,L=()=>{const f=h.Promise.resolve(void 0);ue=()=>{f.then(ee)}};var ee=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(E){j(E)}var y=fe;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}pe=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return f}();function be(f,y){if(le.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(F){e:{try{z(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Se[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&be.aa.h.call(this)}}C(be,le);var Se={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Et="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function Ht(f,y,E,P,K){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!P,this.ha=K,this.key=++Ke,this.da=this.fa=!1}function Jn(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function fi(f){this.src=f,this.g={},this.h=0}fi.prototype.add=function(f,y,E,P,K){var te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);var de=oa(f,y,P,K);return-1<de?(y=f[de],E||(y.fa=!1)):(y=new Ht(y,this.src,te,!!P,K),y.fa=E,f.push(y)),y};function aa(f,y){var E=y.type;if(E in f.g){var P=f.g[E],K=Array.prototype.indexOf.call(P,y,void 0),te;(te=0<=K)&&Array.prototype.splice.call(P,K,1),te&&(Jn(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function oa(f,y,E,P){for(var K=0;K<f.length;++K){var te=f[K];if(!te.da&&te.listener==y&&te.capture==!!E&&te.ha==P)return K}return-1}var la="closure_lm_"+(1e6*Math.random()|0),$l={};function ah(f,y,E,P,K){if(Array.isArray(y)){for(var te=0;te<y.length;te++)ah(f,y[te],E,P,K);return null}return E=oh(E),f&&f[Et]?f.K(y,E,m(P)?!!P.capture:!1,K):er(f,y,E,!1,P,K)}function er(f,y,E,P,K,te){if(!y)throw Error("Invalid event type");var de=m(K)?!!K.capture:!!K,ze=Eo(f);if(ze||(f[la]=ze=new fi(f)),E=ze.add(y,E,P,de,te),E.proxy)return E;if(P=hp(),E.proxy=P,P.src=f,P.listener=E,f.addEventListener)me||(K=de),K===void 0&&(K=!1),f.addEventListener(y.toString(),P,K);else if(f.attachEvent)f.attachEvent(ua(y.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function hp(){function f(E){return y.call(f.src,f.listener,E)}const y=fp;return f}function Kl(f,y,E,P,K){if(Array.isArray(y))for(var te=0;te<y.length;te++)Kl(f,y[te],E,P,K);else P=m(P)?!!P.capture:!!P,E=oh(E),f&&f[Et]?(f=f.i,y=String(y).toString(),y in f.g&&(te=f.g[y],E=oa(te,E,P,K),-1<E&&(Jn(te[E]),Array.prototype.splice.call(te,E,1),te.length==0&&(delete f.g[y],f.h--)))):f&&(f=Eo(f))&&(y=f.g[y.toString()],f=-1,y&&(f=oa(y,E,P,K)),(E=-1<f?y[f]:null)&&To(E))}function To(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Et])aa(y.i,f);else{var E=f.type,P=f.proxy;y.removeEventListener?y.removeEventListener(E,P,f.capture):y.detachEvent?y.detachEvent(ua(E),P):y.addListener&&y.removeListener&&y.removeListener(P),(E=Eo(y))?(aa(E,f),E.h==0&&(E.src=null,y[la]=null)):Jn(f)}}}function ua(f){return f in $l?$l[f]:$l[f]="on"+f}function fp(f,y){if(f.da)f=!0;else{y=new be(y,this);var E=f.listener,P=f.ha||f.src;f.fa&&To(f),f=E.call(P,y)}return f}function Eo(f){return f=f[la],f instanceof fi?f:null}var Yl="__closure_events_fn_"+(1e9*Math.random()>>>0);function oh(f){return typeof f=="function"?f:(f[Yl]||(f[Yl]=function(y){return f.handleEvent(y)}),f[Yl])}function mt(){oe.call(this),this.i=new fi(this),this.M=this,this.F=null}C(mt,oe),mt.prototype[Et]=!0,mt.prototype.removeEventListener=function(f,y,E,P){Kl(this,f,y,E,P)};function Ye(f,y){var E,P=f.F;if(P)for(E=[];P;P=P.F)E.push(P);if(f=f.M,P=y.type||y,typeof y=="string")y=new le(y,f);else if(y instanceof le)y.target=y.target||f;else{var K=y;y=new le(P,f),V(y,K)}if(K=!0,E)for(var te=E.length-1;0<=te;te--){var de=y.g=E[te];K=Vn(de,P,!0,y)&&K}if(de=y.g=f,K=Vn(de,P,!0,y)&&K,K=Vn(de,P,!1,y)&&K,E)for(te=0;te<E.length;te++)de=y.g=E[te],K=Vn(de,P,!1,y)&&K}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],P=0;P<E.length;P++)Jn(E[P]);delete f.g[y],f.h--}}this.F=null},mt.prototype.K=function(f,y,E,P){return this.i.add(String(f),y,!1,E,P)},mt.prototype.L=function(f,y,E,P){return this.i.add(String(f),y,!0,E,P)};function Vn(f,y,E,P){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,te=0;te<y.length;++te){var de=y[te];if(de&&!de.da&&de.capture==E){var ze=de.listener,Lt=de.ha||de.src;de.fa&&aa(f.i,de),K=ze.call(Lt,P)!==!1&&K}}return K&&!P.defaultPrevented}function ln(f,y,E){if(typeof f=="function")E&&(f=T(f,E));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(f,y||0)}function lh(f){f.g=ln(()=>{f.g=null,f.i&&(f.i=!1,lh(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class dp extends oe{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:lh(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(f){oe.call(this),this.h=f,this.g={}}C(ca,oe);var ha=[];function fa(f){G(f.g,function(y,E){this.g.hasOwnProperty(E)&&To(y)},f),f.g={}}ca.prototype.N=function(){ca.aa.N.call(this),fa(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=h.JSON.stringify,bo=h.JSON.parse,da=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Xl(){}Xl.prototype.h=null;function Ql(f){return f.h||(f.h=f.i())}function Wl(){}var di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){le.call(this,"d")}C(pi,le);function Zl(){le.call(this,"c")}C(Zl,le);var Nr={},Jl=null;function Ji(){return Jl=Jl||new mt}Nr.La="serverreachability";function wo(f){le.call(this,Nr.La,f)}C(wo,le);function es(f){const y=Ji();Ye(y,new wo(y))}Nr.STAT_EVENT="statevent";function uh(f,y){le.call(this,Nr.STAT_EVENT,f),this.stat=y}C(uh,le);function ot(f){const y=Ji();Ye(y,new uh(y,f))}Nr.Ma="timingevent";function Vt(f,y){le.call(this,Nr.Ma,f),this.size=y}C(Vt,le);function It(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},y)}function tr(){this.g=!0}tr.prototype.xa=function(){this.g=!1};function eu(f,y,E,P,K,te){f.info(function(){if(f.g)if(te)for(var de="",ze=te.split("&"),Lt=0;Lt<ze.length;Lt++){var je=ze[Lt].split("=");if(1<je.length){var $t=je[0];je=je[1];var Ut=$t.split("_");de=2<=Ut.length&&Ut[1]=="type"?de+($t+"="+je+"&"):de+($t+"=redacted&")}}else de=null;else de=te;return"XMLHTTP REQ ("+P+") [attempt "+K+"]: "+y+`
`+E+`
`+de})}function pp(f,y,E,P,K,te,de){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+K+"]: "+y+`
`+E+`
`+te+" "+de})}function ts(f,y,E,P){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+pa(f,E)+(P?" "+P:"")})}function ch(f,y){f.info(function(){return"TIMEOUT: "+y})}tr.prototype.info=function(){};function pa(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var P=E[f];if(!(2>P.length)){var K=P[1];if(Array.isArray(K)&&!(1>K.length)){var te=K[0];if(te!="noop"&&te!="stop"&&te!="close")for(var de=1;de<K.length;de++)K[de]=""}}}}return br(E)}catch{return y}}var ns={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mr;function kr(){}C(kr,Xl),kr.prototype.g=function(){return new XMLHttpRequest},kr.prototype.i=function(){return{}},Mr=new kr;function _n(f,y,E,P){this.j=f,this.i=y,this.l=E,this.R=P||1,this.U=new ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var tu={},So={};function wr(f,y,E){f.L=1,f.v=va(Ln(y)),f.m=E,f.P=!0,gi(f,null)}function gi(f,y){f.F=Date.now(),ma(f),f.A=Ln(f.v);var E=f.A,P=f.R;Array.isArray(P)||(P=[String(P)]),ou(E.i,"t",P),f.C=0,E=f.j.J,f.h=new bt,f.g=Rh(f.j,E?y:null,!f.m),0<f.O&&(f.M=new dp(T(f.Y,f,f.g),f.O)),y=f.U,E=f.g,P=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(ha[0]=K.toString()),K=ha);for(var te=0;te<K.length;te++){var de=ah(E,K[te],P||y.handleEvent,!1,y.h||y);if(!de)break;y.g[de.key]=de}y=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),es(),eu(f.i,f.u,f.A,f.l,f.R,f.m)}_n.prototype.ca=function(f){f=f.target;const y=this.M;y&&sr(f)==3?y.j():this.Y(f)},_n.prototype.Y=function(f){try{if(f==this.g)e:{const Ut=sr(this.g);var y=this.g.Ba();const Si=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||yh(this.g)))){this.J||Ut!=4||y==7||(y==8||0>=Si?es(3):es(2)),rs(this);var E=this.g.Z();this.X=E;t:if(hh(this)){var P=yh(this.g);f="";var K=P.length,te=sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),Vr(this);var de="";break t}this.h.i=new h.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,f+=this.h.i.decode(P[y],{stream:!(te&&y==K-1)});P.length=0,this.h.g+=f,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,pp(this.i,this.u,this.A,this.l,this.R,Ut,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Lt=this.g;if((ze=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(ze)){var je=ze;break t}}je=null}if(E=je)ts(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ga(this,E);else{this.o=!1,this.s=3,ot(12),Zt(this),Vr(this);break e}}if(this.P){E=!0;let Jt;for(;!this.J&&this.C<de.length;)if(Jt=fh(this,de),Jt==So){Ut==4&&(this.s=4,ot(14),E=!1),ts(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==tu){this.s=4,ot(15),ts(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else ts(this.i,this.l,Jt,null),ga(this,Jt);if(hh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||de.length!=0||this.h.h||(this.s=1,ot(16),E=!1),this.o=this.o&&E,!E)ts(this.i,this.l,de,"[Invalid Chunked Response]"),Zt(this),Vr(this);else if(0<de.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Ia($t),$t.M=!0,ot(11))}}else ts(this.i,this.l,de,null),ga(this,de);Ut==4&&Zt(this),this.o&&!this.J&&(Ut==4?wh(this.j,this):(this.o=!1,ma(this)))}else vp(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Zt(this),Vr(this)}}}catch{}finally{}};function hh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function fh(f,y){var E=f.C,P=y.indexOf(`
`,E);return P==-1?So:(E=Number(y.substring(E,P)),isNaN(E)?tu:(P+=1,P+E>y.length?So:(y=y.slice(P,P+E),f.C=P+E,y)))}_n.prototype.cancel=function(){this.J=!0,Zt(this)};function ma(f){f.S=Date.now()+f.I,dh(f,f.I)}function dh(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=It(T(f.ba,f),y)}function rs(f){f.B&&(h.clearTimeout(f.B),f.B=null)}_n.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ch(this.i,this.A),this.L!=2&&(es(),ot(17)),Zt(this),this.s=2,Vr(this)):dh(this,this.S-f)};function Vr(f){f.j.G==0||f.J||wh(f.j,f)}function Zt(f){rs(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,fa(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function ga(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||nu(E.h,f))){if(!f.K&&nu(E.h,f)&&E.G==3){try{var P=E.Da.g.parse(y)}catch{P=null}if(Array.isArray(P)&&P.length==3){var K=P;if(K[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)Vo(E),Mo(E);else break e;fu(E),ot(18)}}else E.za=K[1],0<E.za-E.T&&37500>K[2]&&E.F&&E.v==0&&!E.C&&(E.C=It(T(E.Za,E),6e3));if(1>=Ro(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else wi(E,11)}else if((f.K||E.g==f)&&Vo(E),!k(y))for(K=E.Da.g.parse(y),y=0;y<K.length;y++){let je=K[y];if(E.T=je[0],je=je[1],E.G==2)if(je[0]=="c"){E.K=je[1],E.ia=je[2];const $t=je[3];$t!=null&&(E.la=$t,E.j.info("VER="+E.la));const Ut=je[4];Ut!=null&&(E.Aa=Ut,E.j.info("SVER="+E.Aa));const Si=je[5];Si!=null&&typeof Si=="number"&&0<Si&&(P=1.5*Si,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Jt=f.g;if(Jt){const qr=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var te=P.h;te.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Io(te,te.h),te.h=null))}if(P.D){const pu=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;pu&&(P.ya=pu,We(P.I,P.D,pu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var de=f;if(P.qa=Ah(P,P.J?P.ia:null,P.W),de.K){yn(P.h,de);var ze=de,Lt=P.L;Lt&&(ze.I=Lt),ze.B&&(rs(ze),ma(ze)),P.g=de}else Eh(P);0<E.i.length&&ko(E)}else je[0]!="stop"&&je[0]!="close"||wi(E,7);else E.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?wi(E,7):cu(E):je[0]!="noop"&&E.l&&E.l.ta(je),E.v=0)}}es(4)}catch{}}var ph=class{constructor(f,y){this.g=f,this.map=y}};function _i(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ao(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ro(f){return f.h?1:f.g?f.g.size:0}function nu(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Io(f,y){f.g?f.g.add(y):f.h=y}function yn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}_i.prototype.cancel=function(){if(this.i=ru(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ru(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return S(f.i)}function mp(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var y=[],E=f.length,P=0;P<E;P++)y.push(f[P]);return y}y=[],E=0;for(P in f)y[E++]=f[P];return y}function Co(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const P in f)y[E++]=P;return y}}}function iu(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=Co(f),P=mp(f),K=P.length,te=0;te<K;te++)y.call(void 0,P[te],E&&E[te],f)}var _a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gp(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var P=f[E].indexOf("="),K=null;if(0<=P){var te=f[E].substring(0,P);K=f[E].substring(P+1)}else te=f[E];y(te,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Ct(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ct){this.h=f.h,ya(this,f.j),this.o=f.o,this.g=f.g,is(this,f.s),this.l=f.l;var y=f.i,E=new vi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),yi(this,E),this.m=f.m}else f&&(y=String(f).match(_a))?(this.h=!1,ya(this,y[1]||"",!0),this.o=nr(y[2]||""),this.g=nr(y[3]||"",!0),is(this,y[4]),this.l=nr(y[5]||"",!0),yi(this,y[6]||"",!0),this.m=nr(y[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}Ct.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Ta(y,su,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Ta(y,su,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Ta(E,E.charAt(0)=="/"?_p:au,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Ta(E,Oo)),f.join("")};function Ln(f){return new Ct(f)}function ya(f,y,E){f.j=E?nr(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function is(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function yi(f,y,E){y instanceof vi?(f.i=y,gh(f.i,f.h)):(E||(y=Ta(y,yp)),f.i=new vi(y,f.h))}function We(f,y,E){f.i.set(y,E)}function va(f){return We(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function nr(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ta(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,mh),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function mh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var su=/[#\/\?@]/g,au=/[#\?:]/g,_p=/[#\?]/g,yp=/[#\?@]/g,Oo=/#/g;function vi(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function rr(f){f.g||(f.g=new Map,f.h=0,f.i&&gp(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=vi.prototype,n.add=function(f,y){rr(this),this.i=null,f=Lr(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function Ti(f,y){rr(f),y=Lr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Ei(f,y){return rr(f),y=Lr(f,y),f.g.has(y)}n.forEach=function(f,y){rr(this),this.g.forEach(function(E,P){E.forEach(function(K){f.call(y,K,P,this)},this)},this)},n.na=function(){rr(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let P=0;P<y.length;P++){const K=f[P];for(let te=0;te<K.length;te++)E.push(y[P])}return E},n.V=function(f){rr(this);let y=[];if(typeof f=="string")Ei(this,f)&&(y=y.concat(this.g.get(Lr(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},n.set=function(f,y){return rr(this),this.i=null,f=Lr(this,f),Ei(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function ou(f,y,E){Ti(f,y),0<E.length&&(f.i=null,f.g.set(Lr(f,y),S(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var P=y[E];const te=encodeURIComponent(String(P)),de=this.V(P);for(P=0;P<de.length;P++){var K=te;de[P]!==""&&(K+="="+encodeURIComponent(String(de[P]))),f.push(K)}}return this.i=f.join("&")};function Lr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function gh(f,y){y&&!f.j&&(rr(f),f.i=null,f.g.forEach(function(E,P){var K=P.toLowerCase();P!=K&&(Ti(this,P),ou(this,K,E))},f)),f.j=y}function Ea(f,y){const E=new tr;if(h.Image){const P=new Image;P.onload=w(ir,E,"TestLoadImage: loaded",!0,y,P),P.onerror=w(ir,E,"TestLoadImage: error",!1,y,P),P.onabort=w(ir,E,"TestLoadImage: abort",!1,y,P),P.ontimeout=w(ir,E,"TestLoadImage: timeout",!1,y,P),h.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else y(!1)}function Sr(f,y){const E=new tr,P=new AbortController,K=setTimeout(()=>{P.abort(),ir(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:P.signal}).then(te=>{clearTimeout(K),te.ok?ir(E,"TestPingServer: ok",!0,y):ir(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),ir(E,"TestPingServer: error",!1,y)})}function ir(f,y,E,P,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),P(E)}catch{}}function ba(){this.g=new da}function Ur(f,y,E){const P=E||"";try{iu(f,function(K,te){let de=K;m(K)&&(de=br(K)),y.push(P+te+"="+encodeURIComponent(de))})}catch(K){throw y.push(P+"type="+encodeURIComponent("_badmap")),K}}function ss(f){this.l=f.Ub||null,this.j=f.eb||!1}C(ss,Xl),ss.prototype.g=function(){return new bi(this.l,this.j)},ss.prototype.i=function(f){return function(){return f}}({});function bi(f,y){mt.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(bi,mt),n=bi.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,jr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function lu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?zr(this):jr(this),this.readyState==3&&lu(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,zr(this))},n.Qa=function(f){this.g&&(this.response=f,zr(this))},n.ga=function(){this.g&&zr(this)};function zr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,jr(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function jr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function uu(f){let y="";return G(f,function(E,P){y+=P,y+=":",y+=E,y+=`\r
`}),y}function Gt(f,y,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=uu(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):We(f,y,E))}function Ge(f){mt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ge,mt);var Po=/^https?$/i,wa=["POST","PUT"];n=Ge.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mr.g(),this.v=this.o?Ql(this.o):Ql(Mr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(te){_h(this,te);return}if(f=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var K in P)E.set(K,P[K]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const te of P.keys())E.set(te,P.get(te));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),K=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(wa,y,void 0))||P||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,de]of E)this.g.setRequestHeader(te,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sa(this),this.u=!0,this.g.send(f),this.u=!1}catch(te){_h(this,te)}};function _h(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Do(f),Br(f)}function Do(f){f.A||(f.A=!0,Ye(f,"complete"),Ye(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ye(this,"complete"),Ye(this,"abort"),Br(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Br(this,!0)),Ge.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?xo(this):this.bb())},n.bb=function(){xo(this)};function xo(f){if(f.h&&typeof u<"u"&&(!f.v[1]||sr(f)!=4||f.Z()!=2)){if(f.u&&sr(f)==4)ln(f.Ea,0,f);else if(Ye(f,"readystatechange"),sr(f)==4){f.h=!1;try{const de=f.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var P;if(P=de===0){var K=String(f.D).match(_a)[1]||null;!K&&h.self&&h.self.location&&(K=h.self.location.protocol.slice(0,-1)),P=!Po.test(K?K.toLowerCase():"")}E=P}if(E)Ye(f,"complete"),Ye(f,"success");else{f.m=6;try{var te=2<sr(f)?f.g.statusText:""}catch{te=""}f.l=te+" ["+f.Z()+"]",Do(f)}}finally{Br(f)}}}}function Br(f,y){if(f.g){Sa(f);const E=f.g,P=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ye(f,"ready");try{E.onreadystatechange=P}catch{}}}function Sa(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function sr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<sr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),bo(y)}};function yh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function vp(f){const y={};f=(f.g&&2<=sr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(k(f[P]))continue;var E=U(f[P]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=y[K]||[];y[K]=te,te.push(E)}D(y,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function No(f){this.Aa=0,this.i=[],this.j=new tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,f),this.cb=Aa("retryDelaySeedMs",1e4,f),this.Wa=Aa("forwardChannelMaxRetries",2,f),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new _i(f&&f.concurrentRequestLimit),this.Da=new ba,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=No.prototype,n.la=8,n.G=1,n.connect=function(f,y,E,P){ot(0),this.W=f,this.H=y||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=Ah(this,null,this.W),ko(this)};function cu(f){if(vh(f),f.G==3){var y=f.U++,E=Ln(f.I);if(We(E,"SID",f.K),We(E,"RID",y),We(E,"TYPE","terminate"),Ra(f,E),y=new _n(f,f.j,y),y.L=2,y.v=va(Ln(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.v,E=!0),E||(y.g=Rh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ma(y)}Sh(f)}function Mo(f){f.g&&(Ia(f),f.g.cancel(),f.g=null)}function vh(f){Mo(f),f.u&&(h.clearTimeout(f.u),f.u=null),Vo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function ko(f){if(!Ao(f.h)&&!f.s){f.s=!0;var y=f.Ga;ue||L(),pe||(ue(),pe=!0),he.add(y,f),f.B=0}}function Tp(f,y){return Ro(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=It(T(f.Ga,f,y),du(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new _n(this,this.j,f);let te=this.o;if(this.S&&(te?(te=A(te),V(te,this.S)):te=this.S),this.m!==null||this.O||(K.H=te,te=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(y+=P,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Th(this,K,y),E=Ln(this.I),We(E,"RID",f),We(E,"CVER",22),this.D&&We(E,"X-HTTP-Session-Id",this.D),Ra(this,E),te&&(this.O?y="headers="+encodeURIComponent(String(uu(te)))+"&"+y:this.m&&Gt(E,this.m,te)),Io(this.h,K),this.Ua&&We(E,"TYPE","init"),this.P?(We(E,"$req",y),We(E,"SID","null"),K.T=!0,wr(K,E,null)):wr(K,E,y),this.G=2}}else this.G==3&&(f?hu(this,f):this.i.length==0||Ao(this.h)||hu(this))};function hu(f,y){var E;y?E=y.l:E=f.U++;const P=Ln(f.I);We(P,"SID",f.K),We(P,"RID",E),We(P,"AID",f.T),Ra(f,P),f.m&&f.o&&Gt(P,f.m,f.o),E=new _n(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Th(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Io(f.h,E),wr(E,P,y)}function Ra(f,y){f.H&&G(f.H,function(E,P){We(y,P,E)}),f.l&&iu({},function(E,P){We(y,P,E)})}function Th(f,y,E){E=Math.min(f.i.length,E);var P=f.l?T(f.l.Na,f.l,f):null;e:{var K=f.i;let te=-1;for(;;){const de=["count="+E];te==-1?0<E?(te=K[0].g,de.push("ofs="+te)):te=0:de.push("ofs="+te);let ze=!0;for(let Lt=0;Lt<E;Lt++){let je=K[Lt].g;const $t=K[Lt].map;if(je-=te,0>je)te=Math.max(0,K[Lt].g-100),ze=!1;else try{Ur($t,de,"req"+je+"_")}catch{P&&P($t)}}if(ze){P=de.join("&");break e}}}return f=f.i.splice(0,E),y.D=f,P}function Eh(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ue||L(),pe||(ue(),pe=!0),he.add(y,f),f.v=0}}function fu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=It(T(f.Fa,f),du(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,bh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=It(T(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Mo(this),bh(this))};function Ia(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function bh(f){f.g=new _n(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Ln(f.qa);We(y,"RID","rpc"),We(y,"SID",f.K),We(y,"AID",f.T),We(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&We(y,"TO",f.ja),We(y,"TYPE","xmlhttp"),Ra(f,y),f.m&&f.o&&Gt(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=va(Ln(y)),E.m=null,E.P=!0,gi(E,f)}n.Za=function(){this.C!=null&&(this.C=null,Mo(this),fu(this),ot(19))};function Vo(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function wh(f,y){var E=null;if(f.g==y){Vo(f),Ia(f),f.g=null;var P=2}else if(nu(f.h,y))E=y.D,yn(f.h,y),P=1;else return;if(f.G!=0){if(y.o)if(P==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var K=f.B;P=Ji(),Ye(P,new Vt(P,E)),ko(f)}else Eh(f);else if(K=y.s,K==3||K==0&&0<y.X||!(P==1&&Tp(f,y)||P==2&&fu(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),K){case 1:wi(f,5);break;case 4:wi(f,10);break;case 3:wi(f,6);break;default:wi(f,2)}}}function du(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function wi(f,y){if(f.j.info("Error code "+y),y==2){var E=T(f.fb,f),P=f.Xa;const K=!P;P=new Ct(P||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ya(P,"https"),va(P),K?Ea(P.toString(),E):Sr(P.toString(),E)}else ot(2);f.G=0,f.l&&f.l.sa(y),Sh(f),vh(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Sh(f){if(f.G=0,f.ka=[],f.l){const y=ru(f.h);(y.length!=0||f.i.length!=0)&&(x(f.ka,y),x(f.ka,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.ra()}}function Ah(f,y,E){var P=E instanceof Ct?Ln(E):new Ct(E);if(P.g!="")y&&(P.g=y+"."+P.g),is(P,P.s);else{var K=h.location;P=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var te=new Ct(null);P&&ya(te,P),y&&(te.g=y),K&&is(te,K),E&&(te.l=E),P=te}return E=f.D,y=f.ya,E&&y&&We(P,E,y),We(P,"VER",f.la),Ra(f,P),P}function Rh(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Ge(new ss({eb:E})):new Ge(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ih(){}n=Ih.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Lo(){}Lo.prototype.g=function(f,y){return new vn(f,y)};function vn(f,y){mt.call(this),this.g=new No(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!k(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!k(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Fr(this)}C(vn,mt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){cu(this.g)},vn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=br(f),f=E);y.i.push(new ph(y.Ya++,f)),y.G==3&&ko(y)},vn.prototype.N=function(){this.g.l=null,delete this.j,cu(this.g),delete this.g,vn.aa.N.call(this)};function Ch(f){pi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}C(Ch,pi);function Oh(){Zl.call(this),this.status=1}C(Oh,Zl);function Fr(f){this.g=f}C(Fr,Ih),Fr.prototype.ua=function(){Ye(this.g,"a")},Fr.prototype.ta=function(f){Ye(this.g,new Ch(f))},Fr.prototype.sa=function(f){Ye(this.g,new Oh)},Fr.prototype.ra=function(){Ye(this.g,"b")},Lo.prototype.createWebChannel=Lo.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,ZA=function(){return new Lo},WA=function(){return Ji()},QA=Nr,g_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,Kf=ns,mi.COMPLETE="complete",XA=mi,Wl.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",mt.prototype.listen=mt.prototype.K,uc=Wl,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,YA=Ge}).apply(typeof Nf<"u"?Nf:typeof self<"u"?self:typeof window<"u"?window:{});const Pb="@firebase/firestore",Db="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new zd("@firebase/firestore");function dl(){return oo.logLevel}function ge(n,...e){if(oo.logLevel<=Ve.DEBUG){const t=e.map(Ty);oo.debug(`Firestore (${Fl}): ${n}`,...t)}}function Yi(n,...e){if(oo.logLevel<=Ve.ERROR){const t=e.map(Ty);oo.error(`Firestore (${Fl}): ${n}`,...t)}}function Gs(n,...e){if(oo.logLevel<=Ve.WARN){const t=e.map(Ty);oo.warn(`Firestore (${Fl}): ${n}`,...t)}}function Ty(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,JA(n,r,t)}function JA(n,e,t){let r=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Yi(r),new Error(r)}function $e(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||JA(e,a,r)}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fn.UNAUTHENTICATED))}shutdown(){}}class vk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Tk{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new js;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new js,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},h=d=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new js)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new e1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class Ek{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bk{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Ek(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);const r=o=>{o.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new xb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Sk(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function xe(n,e){return n<e?-1:n>e?1:0}function __(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return xe(r,a);{const o=t1(),u=Ak(o.encode(Nb(n,t)),o.encode(Nb(e,t)));return u!==0?u:xe(r,a)}}t+=r>65535?2:1}return xe(n.length,e.length)}function Nb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Ak(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return xe(n[t],e[t]);return xe(n.length,e.length)}function Rl(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="__name__";class Qr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Re(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Qr.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return xe(e.length,t.length)}static compareSegments(e,t){const r=Qr.isNumericId(e),a=Qr.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Qr.extractNumericId(e).compare(Qr.extractNumericId(t)):__(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zs.fromString(e.substring(4,e.length-2))}}class at extends Qr{construct(e,t,r){return new at(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new at(t)}static emptyPath(){return new at([])}}const Rk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Qr{construct(e,t,r){return new sn(e,t,r)}static isValidIdentifier(e){return Rk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mb}static keyField(){return new sn([Mb])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new ye(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ye(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ye(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new ye(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(t)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(at.fromString(e))}static fromName(e){return new Te(at.fromString(e).popFirst(5))}static empty(){return new Te(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(n,e,t){if(!t)throw new ye(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Ik(n,e,t,r){if(e===!0&&r===!0)throw new ye(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kb(n){if(!Te.isDocumentKey(n))throw new ye(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Vb(n){if(Te.isDocumentKey(n))throw new ye(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function r1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function by(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function Il(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=by(n);throw new ye(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Jc(n,e){if(!r1(n))throw new ye(ce.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(a&&typeof u!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new ye(ce.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=-62135596800,Ub=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Ub);return new st(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Lb)throw new ye(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ub}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jc(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Lb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Mt("string",st._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new st(0,0))}static max(){return new Ce(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=-1;function Ck(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(r===1e9?new st(t+1,0):new st(t,r));return new $s(a,Te.empty(),e)}function Ok(n){return new $s(n.readTime,n.key,xc)}class $s{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $s(Ce.min(),Te.empty(),xc)}static max(){return new $s(Ce.max(),Te.empty(),xc)}}function Pk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(n.documentKey,e.documentKey),t!==0?t:xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==Dk)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let a=0,o=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++o,u&&o===a&&t()},d=>r(d))}),u=!0,o===a&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(a=>a?ae.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;t(e[m]).next(_=>{u[m]=_,++h,h===o&&r(u)},_=>a(_))}})}static doWhile(e,t){return new ae((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function Nk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Hl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}$d.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=-1;function Kd(n){return n==null}function pd(n){return n===0&&1/n==-1/0}function Mk(n){return typeof n=="number"&&Number.isInteger(n)&&!pd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="";function kk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zb(e)),e=Vk(n.get(t),e);return zb(e)}function Vk(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case i1:t+="";break;default:t+=o}}return t}function zb(n){return n+i1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function s1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||rn.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mf(this.root,e,this.comparator,!0)}}class Mf{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??rn.RED,this.left=a??rn.EMPTY,this.right=o??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new rn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bb(this.data.getIterator())}getIteratorFrom(e){return new Bb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class Bb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Or([])}unionWith(e){let t=new qt(sn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new a1("Invalid base64 string: "+o):o}}(e);return new on(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new on(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const Lk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(n){if($e(!!n,39018),typeof n=="string"){let e=0;const t=Lk.exec(n);if($e(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ys(n){return typeof n=="string"?on.fromBase64String(n):on.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="server_timestamp",l1="__type__",u1="__previous_value__",c1="__local_write_time__";function Sy(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[l1])===null||t===void 0?void 0:t.stringValue)===o1}function Yd(n){const e=n.mapValue.fields[u1];return Sy(e)?Yd(e):e}function Nc(n){const e=Ks(n.mapValue.fields[c1].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t,r,a,o,u,h,d,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=_}}const md="(default)";class Mc{constructor(e,t){this.projectId=e,this.database=t||md}static empty(){return new Mc("","")}get isDefaultDatabase(){return this.database===md}isEqual(e){return e instanceof Mc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="__type__",zk="__max__",kf={mapValue:{}},f1="__vector__",gd="value";function Xs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sy(n)?4:Bk(n)?9007199254740991:jk(n)?10:11:Re(28295,{value:n})}function li(n,e){if(n===e)return!0;const t=Xs(n);if(t!==Xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nc(n).isEqual(Nc(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Ks(a.timestampValue),h=Ks(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return Ys(a.bytesValue).isEqual(Ys(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return At(a.geoPointValue.latitude)===At(o.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return At(a.integerValue)===At(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=At(a.doubleValue),h=At(o.doubleValue);return u===h?pd(u)===pd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Rl(n.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(jb(u)!==jb(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!li(u[d],h[d])))return!1;return!0}(n,e);default:return Re(52216,{left:n})}}function kc(n,e){return(n.values||[]).find(t=>li(t,e))!==void 0}function Cl(n,e){if(n===e)return 0;const t=Xs(n),r=Xs(e);if(t!==r)return xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=At(o.integerValue||o.doubleValue),d=At(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return Fb(n.timestampValue,e.timestampValue);case 4:return Fb(Nc(n),Nc(e));case 5:return __(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Ys(o),d=Ys(u);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const _=xe(h[m],d[m]);if(_!==0)return _}return xe(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=xe(At(o.latitude),At(u.latitude));return h!==0?h:xe(At(o.longitude),At(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return qb(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,d,m,_;const v=o.fields||{},T=u.fields||{},w=(h=v[gd])===null||h===void 0?void 0:h.arrayValue,C=(d=T[gd])===null||d===void 0?void 0:d.arrayValue,S=xe(((m=w?.values)===null||m===void 0?void 0:m.length)||0,((_=C?.values)===null||_===void 0?void 0:_.length)||0);return S!==0?S:qb(w,C)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===kf.mapValue&&u===kf.mapValue)return 0;if(o===kf.mapValue)return 1;if(u===kf.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=u.fields||{},_=Object.keys(m);d.sort(),_.sort();for(let v=0;v<d.length&&v<_.length;++v){const T=__(d[v],_[v]);if(T!==0)return T;const w=Cl(h[d[v]],m[_[v]]);if(w!==0)return w}return xe(d.length,_.length)}(n.mapValue,e.mapValue);default:throw Re(23264,{le:t})}}function Fb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xe(n,e);const t=Ks(n),r=Ks(e),a=xe(t.seconds,r.seconds);return a!==0?a:xe(t.nanos,r.nanos)}function qb(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=Cl(t[a],r[a]);if(o)return o}return xe(t.length,r.length)}function Ol(n){return y_(n)}function y_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ks(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ys(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=y_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${y_(t.fields[u])}`;return a+"}"}(n.mapValue):Re(61005,{value:n})}function Yf(n){switch(Xs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yd(n);return e?16+Yf(e):16;case 5:return 2*n.stringValue.length;case 6:return Ys(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+Yf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return mo(r.fields,(o,u)=>{a+=o.length+Yf(u)}),a}(n.mapValue);default:throw Re(13486,{value:n})}}function v_(n){return!!n&&"integerValue"in n}function Ay(n){return!!n&&"arrayValue"in n}function Hb(n){return!!n&&"nullValue"in n}function Gb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xf(n){return!!n&&"mapValue"in n}function jk(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[h1])===null||t===void 0?void 0:t.stringValue)===f1}function yc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return mo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Bk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Xf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yc(t)}setAll(e){let t=sn.emptyPath(),r={},a=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,a),r={},a=[],t=h.popLast()}u?r[h.lastSegment()]=yc(u):a.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());Xf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Xf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){mo(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new pr(yc(this.value))}}function d1(n){const e=[];return mo(n.fields,(t,r)=>{const a=new sn([t]);if(Xf(r)){const o=d1(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new Or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,r,a,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new dn(e,0,Ce.min(),Ce.min(),Ce.min(),pr.empty(),0)}static newFoundDocument(e,t,r,a){return new dn(e,1,t,Ce.min(),r,a,0)}static newNoDocument(e,t){return new dn(e,2,t,Ce.min(),Ce.min(),pr.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Ce.min(),Ce.min(),pr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t){this.position=e,this.inclusive=t}}function $b(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=Te.comparator(Te.fromName(u.referenceValue),t.key):r=Cl(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!li(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function Fk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{}class Bt extends p1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Hk(e,t,r):t==="array-contains"?new Kk(e,r):t==="in"?new Yk(e,r):t==="not-in"?new Xk(e,r):t==="array-contains-any"?new Qk(e,r):new Bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Gk(e,r):new $k(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Cl(t,this.value)):t!==null&&Xs(this.value)===Xs(t)&&this.matchesComparison(Cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends p1{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ui(e,t)}matches(e){return m1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function m1(n){return n.op==="and"}function g1(n){return qk(n)&&m1(n)}function qk(n){for(const e of n.filters)if(e instanceof ui)return!1;return!0}function T_(n){if(n instanceof Bt)return n.field.canonicalString()+n.op.toString()+Ol(n.value);if(g1(n))return n.filters.map(e=>T_(e)).join(",");{const e=n.filters.map(t=>T_(t)).join(",");return`${n.op}(${e})`}}function _1(n,e){return n instanceof Bt?function(r,a){return a instanceof Bt&&r.op===a.op&&r.field.isEqual(a.field)&&li(r.value,a.value)}(n,e):n instanceof ui?function(r,a){return a instanceof ui&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,h)=>o&&_1(u,a.filters[h]),!0):!1}(n,e):void Re(19439)}function y1(n){return n instanceof Bt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ol(t.value)}`}(n):n instanceof ui?function(t){return t.op.toString()+" {"+t.getFilters().map(y1).join(" ,")+"}"}(n):"Filter"}class Hk extends Bt{constructor(e,t,r){super(e,t,r),this.key=Te.fromName(r.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class Gk extends Bt{constructor(e,t){super(e,"in",t),this.keys=v1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $k extends Bt{constructor(e,t){super(e,"not-in",t),this.keys=v1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function v1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Te.fromName(r.referenceValue))}class Kk extends Bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ay(t)&&kc(t.arrayValue,this.value)}}class Yk extends Bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&kc(this.value.arrayValue,t)}}class Xk extends Bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!kc(this.value.arrayValue,t)}}class Qk extends Bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ay(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>kc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Pe=null}}function Yb(n,e=null,t=[],r=[],a=null,o=null,u=null){return new Wk(n,e,t,r,a,o,u)}function Ry(n){const e=Oe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>T_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Kd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ol(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ol(r)).join(",")),e.Pe=t}return e.Pe}function Iy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Fk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Kb(n.startAt,e.startAt)&&Kb(n.endAt,e.endAt)}function E_(n){return Te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t=null,r=[],a=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Zk(n,e,t,r,a,o,u,h){return new Xd(n,e,t,r,a,o,u,h)}function Cy(n){return new Xd(n)}function Xb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Jk(n){return n.collectionGroup!==null}function vc(n){const e=Oe(n);if(e.Te===null){e.Te=[];const t=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new qt(sn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new yd(o,r))}),t.has(sn.keyField().canonicalString())||e.Te.push(new yd(sn.keyField(),r))}return e.Te}function ni(n){const e=Oe(n);return e.Ie||(e.Ie=eV(e,vc(n))),e.Ie}function eV(n,e){if(n.limitType==="F")return Yb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new yd(a.field,o)});const t=n.endAt?new _d(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new _d(n.startAt.position,n.startAt.inclusive):null;return Yb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function b_(n,e,t){return new Xd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qd(n,e){return Iy(ni(n),ni(e))&&n.limitType===e.limitType}function T1(n){return`${Ry(ni(n))}|lt:${n.limitType}`}function pl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>y1(a)).join(", ")}]`),Kd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Ol(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Ol(a)).join(",")),`Target(${r})`}(ni(n))}; limitType=${n.limitType})`}function Wd(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of vc(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(u,h,d){const m=$b(u,h,d);return u.inclusive?m<=0:m<0}(r.startAt,vc(r),a)||r.endAt&&!function(u,h,d){const m=$b(u,h,d);return u.inclusive?m>=0:m>0}(r.endAt,vc(r),a))}(n,e)}function tV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function E1(n){return(e,t)=>{let r=!1;for(const a of vc(n)){const o=nV(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function nV(n,e,t){const r=n.field.isKeyField()?Te.comparator(e.key,t.key):function(o,u,h){const d=u.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Cl(d,m):Re(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return s1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=new pt(Te.comparator);function Xi(){return rV}const b1=new pt(Te.comparator);function cc(...n){let e=b1;for(const t of n)e=e.insert(t.key,t);return e}function w1(n){let e=b1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xa(){return Tc()}function S1(){return Tc()}function Tc(){return new go(n=>n.toString(),(n,e)=>n.isEqual(e))}const iV=new pt(Te.comparator),sV=new qt(Te.comparator);function Le(...n){let e=sV;for(const t of n)e=e.add(t);return e}const aV=new qt(xe);function oV(){return aV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pd(e)?"-0":e}}function A1(n){return{integerValue:""+n}}function lV(n,e){return Mk(e)?A1(e):Oy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this._=void 0}}function uV(n,e,t){return n instanceof vd?function(a,o){const u={fields:{[l1]:{stringValue:o1},[c1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Sy(o)&&(o=Yd(o)),o&&(u.fields[u1]=o),{mapValue:u}}(t,e):n instanceof Vc?I1(n,e):n instanceof Lc?C1(n,e):function(a,o){const u=R1(a,o),h=Qb(u)+Qb(a.Ee);return v_(u)&&v_(a.Ee)?A1(h):Oy(a.serializer,h)}(n,e)}function cV(n,e,t){return n instanceof Vc?I1(n,e):n instanceof Lc?C1(n,e):t}function R1(n,e){return n instanceof Td?function(r){return v_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class vd extends Zd{}class Vc extends Zd{constructor(e){super(),this.elements=e}}function I1(n,e){const t=O1(e);for(const r of n.elements)t.some(a=>li(a,r))||t.push(r);return{arrayValue:{values:t}}}class Lc extends Zd{constructor(e){super(),this.elements=e}}function C1(n,e){let t=O1(e);for(const r of n.elements)t=t.filter(a=>!li(a,r));return{arrayValue:{values:t}}}class Td extends Zd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Qb(n){return At(n.integerValue||n.doubleValue)}function O1(n){return Ay(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function hV(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof Vc&&a instanceof Vc||r instanceof Lc&&a instanceof Lc?Rl(r.elements,a.elements,li):r instanceof Td&&a instanceof Td?li(r.Ee,a.Ee):r instanceof vd&&a instanceof vd}(n.transform,e.transform)}class fV{constructor(e,t){this.version=e,this.transformResults=t}}class ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jd{}function P1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new x1(n.key,ri.none()):new eh(n.key,n.data,ri.none());{const t=n.data,r=pr.empty();let a=new qt(sn.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new _o(n.key,r,new Or(a.toArray()),ri.none())}}function dV(n,e,t){n instanceof eh?function(a,o,u){const h=a.value.clone(),d=Zb(a.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof _o?function(a,o,u){if(!Qf(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Zb(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(D1(a)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ec(n,e,t,r){return n instanceof eh?function(o,u,h,d){if(!Qf(o.precondition,u))return h;const m=o.value.clone(),_=Jb(o.fieldTransforms,d,u);return m.setAll(_),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof _o?function(o,u,h,d){if(!Qf(o.precondition,u))return h;const m=Jb(o.fieldTransforms,d,u),_=u.data;return _.setAll(D1(o)),_.setAll(m),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,u,h){return Qf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function pV(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=R1(r.transform,a||null);o!=null&&(t===null&&(t=pr.empty()),t.set(r.field,o))}return t||null}function Wb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Rl(r,a,(o,u)=>hV(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class eh extends Jd{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class _o extends Jd{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function D1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Zb(n,e,t){const r=new Map;$e(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,cV(u,h,t[a]))}return r}function Jb(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,uV(o,u,e))}return r}class x1 extends Jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mV extends Jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&dV(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ec(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ec(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=S1();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(a.key)?null:h;const d=P1(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,(t,r)=>Wb(t,r))&&Rl(this.baseMutations,e.baseMutations,(t,r)=>Wb(t,r))}}class Py{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){$e(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let a=function(){return iV}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new Py(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Fe;function vV(n){switch(n){case ce.OK:return Re(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function N1(n){if(n===void 0)return Yi("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Dt.OK:return ce.OK;case Dt.CANCELLED:return ce.CANCELLED;case Dt.UNKNOWN:return ce.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ce.INTERNAL;case Dt.UNAVAILABLE:return ce.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ce.NOT_FOUND;case Dt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Dt.ABORTED:return ce.ABORTED;case Dt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Dt.DATA_LOSS:return ce.DATA_LOSS;default:return Re(39323,{code:n})}}(Fe=Dt||(Dt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new zs([4294967295,4294967295],0);function ew(n){const e=t1().encode(n),t=new KA;return t.update(e),new Uint8Array(t.digest())}function tw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zs([t,r],0),new zs([a,o],0)]}class Dy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new hc(`Invalid padding: ${t}`);if(r<0)throw new hc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new hc(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=zs.fromNumber(this.fe)}pe(e,t,r){let a=e.add(t.multiply(zs.fromNumber(r)));return a.compare(TV)===1&&(a=new zs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=ew(e),[r,a]=tw(t);for(let o=0;o<this.hashCount;o++){const u=this.pe(r,a,o);if(!this.ye(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Dy(o,a,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.fe===0)return;const t=ew(e),[r,a]=tw(t);for(let o=0;o<this.hashCount;o++){const u=this.pe(r,a,o);this.we(u)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,th.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ep(Ce.min(),a,new pt(xe),Xi(),Le())}}class th{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new th(r,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=a}}class M1{constructor(e,t){this.targetId=e,this.De=t}}class k1{constructor(e,t,r=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class nw{constructor(){this.ve=0,this.Ce=rw(),this.Fe=on.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Le(),t=Le(),r=Le();return this.Ce.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Re(38017,{changeType:o})}}),new th(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=rw()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class EV{constructor(e){this.We=e,this.Ge=new Map,this.ze=Xi(),this.je=Vf(),this.Je=Vf(),this.He=new pt(xe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,a)=>{this.nt(a)&&t(a)})}it(e){const t=e.targetId,r=e.De.count,a=this.st(t);if(a){const o=a.target;if(E_(o))if(r===0){const u=new Te(o.path);this.Xe(t,u,dn.newNoDocument(u,Ce.min()))}else $e(r===1,20013,{expectedCount:r});else{const u=this.ot(t);if(u!==r){const h=this._t(e),d=h?this.ut(h,e,u):1;if(d!==0){this.rt(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,m)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,h;try{u=Ys(r).toUint8Array()}catch(d){if(d instanceof a1)return Gs("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Dy(u,a,o)}catch(d){return Gs(d instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.fe===0?null:h}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const u=this.We.lt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.Xe(t,o,null),a++)}),a}Pt(e){const t=new Map;this.Ge.forEach((o,u)=>{const h=this.st(u);if(h){if(o.current&&E_(h.target)){const d=new Te(h.target.path);this.Tt(d).has(u)||this.It(u,d)||this.Xe(u,d,dn.newNoDocument(d,e))}o.Ne&&(t.set(u,o.Le()),o.ke())}});let r=Le();this.Je.forEach((o,u)=>{let h=!0;u.forEachWhile(d=>{const m=this.st(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.ze.forEach((o,u)=>u.setReadTime(e));const a=new ep(e,t,this.He,this.ze,r);return this.ze=Xi(),this.je=Vf(),this.Je=Vf(),this.He=new pt(xe),a}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const a=this.tt(e);this.It(e,t)?a.qe(t,1):a.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new nw,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new qt(xe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new qt(xe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new nw),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Vf(){return new pt(Te.comparator)}function rw(){return new pt(Te.comparator)}const bV={asc:"ASCENDING",desc:"DESCENDING"},wV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SV={and:"AND",or:"OR"};class AV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function w_(n,e){return n.useProto3Json||Kd(e)?e:{value:e}}function Ed(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function RV(n,e){return Ed(n,e.toTimestamp())}function ii(n){return $e(!!n,49232),Ce.fromTimestamp(function(t){const r=Ks(t);return new st(r.seconds,r.nanos)}(n))}function xy(n,e){return S_(n,e).canonicalString()}function S_(n,e){const t=function(a){return new at(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function L1(n){const e=at.fromString(n);return $e(F1(e),10190,{key:e.toString()}),e}function A_(n,e){return xy(n.databaseId,e.path)}function Pg(n,e){const t=L1(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Te(z1(t))}function U1(n,e){return xy(n.databaseId,e)}function IV(n){const e=L1(n);return e.length===4?at.emptyPath():z1(e)}function R_(n){return new at(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function z1(n){return $e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function iw(n,e,t){return{name:A_(n,e),fields:t.value.mapValue.fields}}function CV(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Re(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(m,_){return m.useProto3Json?($e(_===void 0||typeof _=="string",58123),on.fromBase64String(_||"")):($e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),on.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const _=m.code===void 0?ce.UNKNOWN:N1(m.code);return new ye(_,m.message||"")}(u);t=new k1(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Pg(n,r.document.name),o=ii(r.document.updateTime),u=r.document.createTime?ii(r.document.createTime):Ce.min(),h=new pr({mapValue:{fields:r.document.fields}}),d=dn.newFoundDocument(a,o,u,h),m=r.targetIds||[],_=r.removedTargetIds||[];t=new Wf(m,_,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Pg(n,r.document),o=r.readTime?ii(r.readTime):Ce.min(),u=dn.newNoDocument(a,o),h=r.removedTargetIds||[];t=new Wf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Pg(n,r.document),o=r.removedTargetIds||[];t=new Wf([],o,a,null)}else{if(!("filter"in e))return Re(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new yV(a,o),h=r.targetId;t=new M1(h,u)}}return t}function OV(n,e){let t;if(e instanceof eh)t={update:iw(n,e.key,e.value)};else if(e instanceof x1)t={delete:A_(n,e.key)};else if(e instanceof _o)t={update:iw(n,e.key,e.data),updateMask:UV(e.fieldMask)};else{if(!(e instanceof mV))return Re(16599,{Rt:e.type});t={verify:A_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof vd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Vc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Lc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Td)return{fieldPath:u.field.canonicalString(),increment:h.Ee};throw Re(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:RV(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Re(27497)}(n,e.precondition)),t}function PV(n,e){return n&&n.length>0?($e(e!==void 0,14353),n.map(t=>function(a,o){let u=a.updateTime?ii(a.updateTime):ii(o);return u.isEqual(Ce.min())&&(u=ii(o)),new fV(u,a.transformResults||[])}(t,e))):[]}function DV(n,e){return{documents:[U1(n,e.path)]}}function xV(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=U1(n,a);const o=function(m){if(m.length!==0)return B1(ui.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(_=>function(T){return{field:ml(T.field),direction:kV(T.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=w_(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{Vt:t,parent:a}}function NV(n){let e=IV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){$e(r===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let o=[];t.where&&(o=function(v){const T=j1(v);return T instanceof ui&&g1(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(T=>function(C){return new yd(gl(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(v){let T;return T=typeof v=="object"?v.value:v,Kd(T)?null:T}(t.limit));let d=null;t.startAt&&(d=function(v){const T=!!v.before,w=v.values||[];return new _d(w,T)}(t.startAt));let m=null;return t.endAt&&(m=function(v){const T=!v.before,w=v.values||[];return new _d(w,T)}(t.endAt)),Zk(e,a,u,o,h,"F",d,m)}function MV(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function j1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=gl(t.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=gl(t.unaryFilter.field);return Bt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=gl(t.unaryFilter.field);return Bt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=gl(t.unaryFilter.field);return Bt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(n):n.fieldFilter!==void 0?function(t){return Bt.create(gl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ui.create(t.compositeFilter.filters.map(r=>j1(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(t.compositeFilter.op))}(n):Re(30097,{filter:n})}function kV(n){return bV[n]}function VV(n){return wV[n]}function LV(n){return SV[n]}function ml(n){return{fieldPath:n.canonicalString()}}function gl(n){return sn.fromServerFormat(n.fieldPath)}function B1(n){return n instanceof Bt?function(t){if(t.op==="=="){if(Gb(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NAN"}};if(Hb(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Gb(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NOT_NAN"}};if(Hb(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(t.field),op:VV(t.op),value:t.value}}}(n):n instanceof ui?function(t){const r=t.getFilters().map(a=>B1(a));return r.length===1?r[0]:{compositeFilter:{op:LV(t.op),filters:r}}}(n):Re(54877,{filter:n})}function UV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function F1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,r,a,o=Ce.min(),u=Ce.min(),h=on.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.gt=e}}function jV(n){const e=NV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?b_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.Dn=new FV}addToCollectionParentIndex(e,t){return this.Dn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve($s.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve($s.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class FV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new qt(at.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new qt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q1=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(q1,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Pl(0)}static ur(){return new Pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="LruGarbageCollector",qV=1048576;function ow([n,e],[t,r]){const a=xe(n,t);return a===0?xe(e,r):a}class HV{constructor(e){this.Tr=e,this.buffer=new qt(ow),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ow(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class GV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ge(aw,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Hl(t)?ge(aw,"Ignoring IndexedDB error during garbage collection: ",t):await ql(t)}await this.Rr(3e5)})}}class $V{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ae.resolve($d.ue);const r=new HV(t);return this.Vr.forEachTarget(e,a=>r.Er(a.sequenceNumber)).next(()=>this.Vr.gr(e,a=>r.Er(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(sw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sw):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,a,o,u,h,d,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(r=v,h=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(m=Date.now(),dl()<=Ve.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v})))}}function KV(n,e){return new $V(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.changes=new go(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&Ec(r.mutation,a,Or.empty(),st.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Le()){const a=Xa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let u=cc();return o.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Xa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Le()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,a){let o=Xi();const u=Tc(),h=function(){return Tc()}();return t.forEach((d,m)=>{const _=r.get(m.key);a.has(m.key)&&(_===void 0||_.mutation instanceof _o)?o=o.insert(m.key,m):_!==void 0?(u.set(m.key,_.mutation.getFieldMask()),Ec(_.mutation,m,_.mutation.getFieldMask(),st.now())):u.set(m.key,Or.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((m,_)=>u.set(m,_)),t.forEach((m,_)=>{var v;return h.set(m,new XV(_,(v=u.get(m))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Tc();let a=new pt((u,h)=>u-h),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const m=t.get(d);if(m===null)return;let _=r.get(d)||Or.empty();_=h.applyToLocalView(m,_),r.set(d,_);const v=(a.get(h.batchId)||Le()).add(d);a=a.insert(h.batchId,v)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,_=d.value,v=S1();_.forEach(T=>{if(!o.has(T)){const w=P1(t.get(T),r.get(T));w!==null&&v.set(T,w),o=o.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,v))}return ae.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Jk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):ae.resolve(Xa());let h=xc,d=o;return u.next(m=>ae.forEach(m,(_,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{d=d.insert(_,T)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,d,m,Le())).next(_=>({batchId:h,changes:w1(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(r=>{let a=cc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=cc();return this.indexManager.getCollectionParents(e,o).next(h=>ae.forEach(h,d=>{const m=function(v,T){return new Xd(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next(_=>{_.forEach((v,T)=>{u=u.insert(v,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(u=>{o.forEach((d,m)=>{const _=m.getKey();u.get(_)===null&&(u=u.insert(_,dn.newInvalidDocument(_)))});let h=cc();return u.forEach((d,m)=>{const _=o.get(d);_!==void 0&&Ec(_.mutation,m,Or.empty(),st.now()),Wd(t,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(a){return{id:a.id,version:a.version,createTime:ii(a.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(a){return{name:a.name,query:jV(a.bundledQuery),readTime:ii(a.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.overlays=new pt(Te.comparator),this.kr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xa();return ae.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.wt(e,t,o)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.kr.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const a=Xa(),o=t.length+1,u=new Te(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new pt((m,_)=>m-_);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let _=o.get(m.largestBatchId);_===null&&(_=Xa(),o=o.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const h=Xa(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,_)=>h.set(m,_)),!(h.size()>=a)););return ae.resolve(h)}wt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.kr.get(a.largestBatchId).delete(r.key);this.kr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new _V(t,r));let o=this.kr.get(t);o===void 0&&(o=Le(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.qr=new qt(Qt.Qr),this.$r=new qt(Qt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Qt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Qt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new Te(new at([])),r=new Qt(t,e),a=new Qt(t,e+1),o=[];return this.$r.forEachInRange([r,a],u=>{this.Wr(u),o.push(u.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Te(new at([])),r=new Qt(t,e),a=new Qt(t,e+1);let o=Le();return this.$r.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Qt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Te.comparator(e.key,t.key)||xe(e.Hr,t.Hr)}static Ur(e,t){return xe(e.Hr,t.Hr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new qt(Qt.Qr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new gV(o,t,r,a);this.mutationQueue.push(u);for(const h of a)this.Yr=this.Yr.add(new Qt(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,t){return ae.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),o=a<0?0:a;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?wy:this.er-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qt(t,0),a=new Qt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,a],u=>{const h=this.Zr(u.Hr);o.push(h)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qt(xe);return t.forEach(a=>{const o=new Qt(a,0),u=new Qt(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,u],h=>{r=r.add(h.Hr)})}),ae.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Te.isDocumentKey(o)||(o=o.child(""));const u=new Qt(new Te(o),0);let h=new qt(xe);return this.Yr.forEachWhile(d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)},u),ae.resolve(this.ei(h))}ei(e){const t=[];return e.forEach(r=>{const a=this.Zr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){$e(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ae.forEach(t.mutations,a=>{const o=new Qt(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new Qt(t,0),a=this.Yr.firstAfterOrEqual(r);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.ni=e,this.docs=function(){return new pt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let r=Xi();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():dn.newInvalidDocument(a))}),ae.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Xi();const u=t.path,h=new Te(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:_}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||Pk(Ok(_),r)<=0||(a.has(_.key)||Wd(t,_))&&(o=o.insert(_.key,_.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Re(9500)}ri(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new nL(this)}getSize(e){return ae.resolve(this.size)}}class nL extends YV{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Or.addEntry(e,a)):this.Or.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.persistence=e,this.ii=new go(t=>Ry(t),Iy),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.si=0,this.oi=new Ny,this.targetCount=0,this._i=Pl.ar()}forEachTarget(e,t){return this.ii.forEach((r,a)=>t(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),ae.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Pl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.hr(t),ae.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ii.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ii.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),ae.waitFor(o).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),ae.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,t){this.ai={},this.overlays={},this.ui=new $d(0),this.ci=!1,this.ci=!0,this.li=new JV,this.referenceDelegate=e(this),this.hi=new rL(this),this.indexManager=new BV,this.remoteDocumentCache=function(a){return new tL(a)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new zV(t),this.Ti=new WV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new eL(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){ge("MemoryPersistence","Starting transaction:",e);const a=new iL(this.ui.next());return this.referenceDelegate.Ii(),r(a).next(o=>this.referenceDelegate.di(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Ei(e,t){return ae.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class iL extends xk{constructor(e){super(),this.currentSequenceNumber=e}}class My{constructor(e){this.persistence=e,this.Ai=new Ny,this.Ri=null}static Vi(e){return new My(e)}get mi(){if(this.Ri)return this.Ri;throw Re(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(a=>this.mi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.mi,r=>{const a=Te.fromPath(r);return this.fi(e,a).next(o=>{o||t.removeEntry(a,Ce.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ae.or([()=>ae.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class bd{constructor(e,t){this.persistence=e,this.gi=new go(r=>kk(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=KV(this,t)}static Vi(e,t){return new bd(e,t)}Ii(){}di(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return ae.forEach(this.gi,(r,a)=>this.Sr(e,r,a).next(o=>o?ae.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ri(e,u=>this.Sr(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Ce.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ae.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yf(e.data.value)),t}Sr(e,t,r){return ae.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.gi.get(t);return ae.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=a}static Es(e,t){let r=Le(),a=Le();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new ky(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return mD()?8:Nk(gn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.ps(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ys(e,t,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new sL;return this.ws(e,t,u).next(h=>{if(o.result=h,this.Rs)return this.Ss(e,t,u,h.size)})}).next(()=>o.result)}Ss(e,t,r,a){return r.documentReadCount<this.Vs?(dl()<=Ve.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",pl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(dl()<=Ve.DEBUG&&ge("QueryEngine","Query:",pl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.fs*a?(dl()<=Ve.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",pl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(t))):ae.resolve())}ps(e,t){if(Xb(t))return ae.resolve(null);let r=ni(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=b_(t,null,"F"),r=ni(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Le(...o);return this.gs.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const m=this.bs(t,h);return this.Ds(t,m,u,d.readTime)?this.ps(e,b_(t,null,"F")):this.vs(e,m,t,d)}))})))}ys(e,t,r,a){return Xb(t)||a.isEqual(Ce.min())?ae.resolve(null):this.gs.getDocuments(e,r).next(o=>{const u=this.bs(t,o);return this.Ds(t,u,r,a)?ae.resolve(null):(dl()<=Ve.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),pl(t)),this.vs(e,u,t,Ck(a,xc)).next(h=>h))})}bs(e,t){let r=new qt(E1(e));return t.forEach((a,o)=>{Wd(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ws(e,t,r){return dl()<=Ve.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",pl(t)),this.gs.getDocumentsMatchingQuery(e,t,$s.min(),r)}vs(e,t,r,a){return this.gs.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="LocalStore",oL=3e8;class lL{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.Fs=new pt(xe),this.Ms=new go(o=>Ry(o),Iy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QV(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function uL(n,e,t,r){return new lL(n,e,t,r)}async function G1(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let d=Le();for(const m of a){u.push(m.batchId);for(const _ of m.mutations)d=d.add(_.key)}for(const m of o){h.push(m.batchId);for(const _ of m.mutations)d=d.add(_.key)}return t.localDocuments.getDocuments(r,d).next(m=>({Bs:m,removedBatchIds:u,addedBatchIds:h}))})})}function cL(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(h,d,m,_){const v=m.batch,T=v.keys();let w=ae.resolve();return T.forEach(C=>{w=w.next(()=>_.getEntry(d,C)).next(S=>{const x=m.docVersions.get(C);$e(x!==null,48541),S.version.compareTo(x)<0&&(v.applyToRemoteDocument(S,m),S.isValidDocument()&&(S.setReadTime(m.commitVersion),_.addEntry(S)))})}),w.next(()=>h.mutationQueue.removeMutationBatch(d,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=Le();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function $1(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function hL(n,e){const t=Oe(n),r=e.snapshotVersion;let a=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});a=t.Fs;const h=[];e.targetChanges.forEach((_,v)=>{const T=a.get(v);if(!T)return;h.push(t.hi.removeMatchingKeys(o,_.removedDocuments,v).next(()=>t.hi.addMatchingKeys(o,_.addedDocuments,v)));let w=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(on.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(_.resumeToken,r)),a=a.insert(v,w),function(S,x,O){return S.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=oL?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(T,w,_)&&h.push(t.hi.updateTargetData(o,w))});let d=Xi(),m=Le();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,_))}),h.push(fL(o,u,e.documentUpdates).next(_=>{d=_.Ls,m=_.ks})),!r.isEqual(Ce.min())){const _=t.hi.getLastRemoteSnapshotVersion(o).next(v=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(_)}return ae.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,m)).next(()=>d)}).then(o=>(t.Fs=a,o))}function fL(n,e,t){let r=Le(),a=Le();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Xi();return t.forEach((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):ge(Vy,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{Ls:u,ks:a}})}function dL(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=wy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pL(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.hi.getTargetData(r,e).next(o=>o?(a=o,ae.resolve(a)):t.hi.allocateTargetId(r).next(u=>(a=new xs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Fs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function I_(n,e,t){const r=Oe(n),a=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Hl(u))throw u;ge(Vy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(a.target)}function lw(n,e,t){const r=Oe(n);let a=Ce.min(),o=Le();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,m,_){const v=Oe(d),T=v.Ms.get(_);return T!==void 0?ae.resolve(v.Fs.get(T)):v.hi.getTargetData(m,_)}(r,u,ni(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,h.targetId).next(d=>{o=d})}).next(()=>r.Cs.getDocumentsMatchingQuery(u,e,t?a:Ce.min(),t?o:Le())).next(h=>(mL(r,tV(e),h),{documents:h,qs:o})))}function mL(n,e,t){let r=n.xs.get(e)||Ce.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}class uw{constructor(){this.activeTargetIds=oV()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gL{constructor(){this.Fo=new uw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new uw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="ConnectivityMonitor";class hw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ge(cw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ge(cw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf=null;function C_(){return Lf===null?Lf=function(){return 268435456+Math.round(2147483648*Math.random())}():Lf++,"0x"+Lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="RestConnection",yL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vL{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.Ko=this.databaseId.database===md?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,o){const u=C_(),h=this.Go(e,t.toUriEncodedString());ge(Dg,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,a,o);const{host:m}=new URL(h),_=ea(m);return this.jo(e,h,d,r,_).then(v=>(ge(Dg,`Received RPC '${e}' ${u}: `,v),v),v=>{throw Gs(Dg,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v})}Jo(e,t,r,a,o,u){return this.Wo(e,t,r,a,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}Go(e,t){const r=yL[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class EL extends vL{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,a,o){const u=C_();return new Promise((h,d)=>{const m=new YA;m.setWithCredentials(!0),m.listenOnce(XA.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Kf.NO_ERROR:const v=m.getResponseJson();ge(hn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Kf.TIMEOUT:ge(hn,`RPC '${e}' ${u} timed out`),d(new ye(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Kf.HTTP_ERROR:const T=m.getStatus();if(ge(hn,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w?.error;if(C&&C.status&&C.message){const S=function(O){const k=O.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(k)>=0?k:ce.UNKNOWN}(C.status);d(new ye(S,C.message))}else d(new ye(ce.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ye(ce.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{c_:e,streamId:u,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{ge(hn,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(a);ge(hn,`RPC '${e}' ${u} sending request:`,a),m.send(t,"POST",_,r,15)})}P_(e,t,r){const a=C_(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ZA(),h=WA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const _=o.join("");ge(hn,`Creating RPC '${e}' stream ${a}: ${_}`,d);const v=u.createWebChannel(_,d);this.T_(v);let T=!1,w=!1;const C=new TL({Ho:x=>{w?ge(hn,`Not sending because RPC '${e}' stream ${a} is closed:`,x):(T||(ge(hn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),T=!0),ge(hn,`RPC '${e}' stream ${a} sending:`,x),v.send(x))},Yo:()=>v.close()}),S=(x,O,k)=>{x.listen(O,M=>{try{k(M)}catch(z){setTimeout(()=>{throw z},0)}})};return S(v,uc.EventType.OPEN,()=>{w||(ge(hn,`RPC '${e}' stream ${a} transport opened.`),C.s_())}),S(v,uc.EventType.CLOSE,()=>{w||(w=!0,ge(hn,`RPC '${e}' stream ${a} transport closed`),C.__(),this.I_(v))}),S(v,uc.EventType.ERROR,x=>{w||(w=!0,Gs(hn,`RPC '${e}' stream ${a} transport errored. Name:`,x.name,"Message:",x.message),C.__(new ye(ce.UNAVAILABLE,"The operation could not be completed")))}),S(v,uc.EventType.MESSAGE,x=>{var O;if(!w){const k=x.data[0];$e(!!k,16349);const M=k,z=M?.error||((O=M[0])===null||O===void 0?void 0:O.error);if(z){ge(hn,`RPC '${e}' stream ${a} received error:`,z);const F=z.status;let G=function(R){const V=Dt[R];if(V!==void 0)return N1(V)}(F),D=z.message;G===void 0&&(G=ce.INTERNAL,D="Unknown error status: "+F+" with message "+z.message),w=!0,C.__(new ye(G,D)),v.close()}else ge(hn,`RPC '${e}' stream ${a} received:`,k),C.a_(k)}}),S(h,QA.STAT_EVENT,x=>{x.stat===g_.PROXY?ge(hn,`RPC '${e}' stream ${a} detected buffering proxy`):x.stat===g_.NOPROXY&&ge(hn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function xg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(n){return new AV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=a,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),a=Math.max(0,t-r);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="PersistentStream";class Y1{constructor(e,t,r,a,o,u,h,d){this.Fi=e,this.w_=r,this.S_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new K1(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Yi(t.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.b_===t&&this.W_(r,a)},r=>{e(()=>{const a=new ye(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(a)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{r(()=>this.G_(a))}),this.stream.onMessage(a=>{r(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ge(fw,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ge(fw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bL extends Y1{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=CV(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ce.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?ii(u.readTime):Ce.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=R_(this.serializer),t.addTarget=function(o,u){let h;const d=u.target;if(h=E_(d)?{documents:DV(o,d)}:{query:xV(o,d).Vt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=V1(o,u.resumeToken);const m=w_(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ce.min())>0){h.readTime=Ed(o,u.snapshotVersion.toTimestamp());const m=w_(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=MV(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=R_(this.serializer),t.removeTarget=e,this.k_(t)}}class wL extends Y1{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=PV(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=R_(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>OV(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{}class AL extends SL{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new ye(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Wo(e,S_(t,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(ce.UNKNOWN,o.toString())})}Jo(e,t,r,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Jo(e,S_(t,r),a,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ce.UNKNOWN,u.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class RL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Yi(t),this._a=!1):ge("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="RemoteStore";class IL{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(u=>{r.enqueueAndForget(async()=>{yo(this)&&(ge(lo,"Restarting streams for network reachability change."),await async function(d){const m=Oe(d);m.Ia.add(4),await nh(m),m.Aa.set("Unknown"),m.Ia.delete(4),await np(m)}(this))})}),this.Aa=new RL(r,a)}}async function np(n){if(yo(n))for(const e of n.da)await e(!0)}async function nh(n){for(const e of n.da)await e(!1)}function X1(n,e){const t=Oe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),jy(t)?zy(t):Gl(t).x_()&&Uy(t,e))}function Ly(n,e){const t=Oe(n),r=Gl(t);t.Ta.delete(e),r.x_()&&Q1(t,e),t.Ta.size===0&&(r.x_()?r.B_():yo(t)&&t.Aa.set("Unknown"))}function Uy(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Gl(n).H_(e)}function Q1(n,e){n.Ra.$e(e),Gl(n).Y_(e)}function zy(n){n.Ra=new EV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Gl(n).start(),n.Aa.aa()}function jy(n){return yo(n)&&!Gl(n).M_()&&n.Ta.size>0}function yo(n){return Oe(n).Ia.size===0}function W1(n){n.Ra=void 0}async function CL(n){n.Aa.set("Online")}async function OL(n){n.Ta.forEach((e,t)=>{Uy(n,e)})}async function PL(n,e){W1(n),jy(n)?(n.Aa.la(e),zy(n)):n.Aa.set("Unknown")}async function DL(n,e,t){if(n.Aa.set("Online"),e instanceof k1&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ta.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ta.delete(h),a.Ra.removeTarget(h))}(n,e)}catch(r){ge(lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wd(n,r)}else if(e instanceof Wf?n.Ra.Ye(e):e instanceof M1?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ce.min()))try{const r=await $1(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.Ra.Pt(u);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const _=o.Ta.get(m);_&&o.Ta.set(m,_.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,m)=>{const _=o.Ta.get(d);if(!_)return;o.Ta.set(d,_.withResumeToken(on.EMPTY_BYTE_STRING,_.snapshotVersion)),Q1(o,d);const v=new xs(_.target,d,m,_.sequenceNumber);Uy(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){ge(lo,"Failed to raise snapshot:",r),await wd(n,r)}}async function wd(n,e,t){if(!Hl(e))throw e;n.Ia.add(1),await nh(n),n.Aa.set("Offline"),t||(t=()=>$1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge(lo,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await np(n)})}function Z1(n,e){return e().catch(t=>wd(n,t,e))}async function rp(n){const e=Oe(n),t=Qs(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:wy;for(;xL(e);)try{const a=await dL(e.localStore,r);if(a===null){e.Pa.length===0&&t.B_();break}r=a.batchId,NL(e,a)}catch(a){await wd(e,a)}J1(e)&&eR(e)}function xL(n){return yo(n)&&n.Pa.length<10}function NL(n,e){n.Pa.push(e);const t=Qs(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function J1(n){return yo(n)&&!Qs(n).M_()&&n.Pa.length>0}function eR(n){Qs(n).start()}async function ML(n){Qs(n).na()}async function kL(n){const e=Qs(n);for(const t of n.Pa)e.X_(t.mutations)}async function VL(n,e,t){const r=n.Pa.shift(),a=Py.from(r,e,t);await Z1(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await rp(n)}async function LL(n,e){e&&Qs(n).Z_&&await async function(r,a){if(function(u){return vV(u)&&u!==ce.ABORTED}(a.code)){const o=r.Pa.shift();Qs(r).N_(),await Z1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await rp(r)}}(n,e),J1(n)&&eR(n)}async function dw(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),ge(lo,"RemoteStore received new credentials");const r=yo(t);t.Ia.add(3),await nh(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await np(t)}async function UL(n,e){const t=Oe(n);e?(t.Ia.delete(2),await np(t)):e||(t.Ia.add(2),await nh(t),t.Aa.set("Unknown"))}function Gl(n){return n.Va||(n.Va=function(t,r,a){const o=Oe(t);return o.ia(),new bL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{Zo:CL.bind(null,n),e_:OL.bind(null,n),n_:PL.bind(null,n),J_:DL.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),jy(n)?zy(n):n.Aa.set("Unknown")):(await n.Va.stop(),W1(n))})),n.Va}function Qs(n){return n.ma||(n.ma=function(t,r,a){const o=Oe(t);return o.ia(),new wL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:ML.bind(null,n),n_:LL.bind(null,n),ea:kL.bind(null,n),ta:VL.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await rp(n)):(await n.ma.stop(),n.Pa.length>0&&(ge(lo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,h=new By(e,t,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fy(n,e){if(Yi("AsyncQueue",`${e}: ${n}`),Hl(n))return new ye(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static emptySet(e){return new bl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Te.comparator(t.key,r.key):(t,r)=>Te.comparator(t.key,r.key),this.keyedMap=cc(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new bl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.fa=new pt(Te.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Re(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class Dl{constructor(e,t,r,a,o,u,h,d,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Dl(e,t,bl.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class jL{constructor(){this.queries=mw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const a=Oe(t),o=a.queries;a.queries=mw(),o.forEach((u,h)=>{for(const d of h.wa)d.onError(r)})})(this,new ye(ce.ABORTED,"Firestore shutting down"))}}function mw(){return new go(n=>T1(n),Qd)}async function BL(n,e){const t=Oe(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Sa()&&e.ba()&&(r=2):(o=new zL,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(a,!0);break;case 1:o.ya=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=Fy(u,`Initialization of query '${pl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&qy(t)}async function FL(n,e){const t=Oe(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.wa.indexOf(e);u>=0&&(o.wa.splice(u,1),o.wa.length===0?a=e.ba()?0:1:!o.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function qL(n,e){const t=Oe(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const h of u.wa)h.Ca(a)&&(r=!0);u.ya=a}}r&&qy(t)}function HL(n,e,t){const r=Oe(n),a=r.queries.get(e);if(a)for(const o of a.wa)o.onError(t);r.queries.delete(e)}function qy(n){n.Da.forEach(e=>{e.next()})}var O_,gw;(gw=O_||(O_={})).Fa="default",gw.Cache="cache";class GL{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Dl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==O_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.key=e}}class nR{constructor(e){this.key=e}}class $L{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Le(),this.mutatedKeys=Le(),this.Xa=E1(e),this.eu=new bl(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new pw,a=t?t.eu:this.eu;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,v)=>{const T=a.get(_),w=Wd(this.query,v)?v:null,C=!!T&&this.mutatedKeys.has(T.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let x=!1;T&&w?T.data.isEqual(w.data)?C!==S&&(r.track({type:3,doc:w}),x=!0):this.iu(T,w)||(r.track({type:2,doc:w}),x=!0,(d&&this.Xa(w,d)>0||m&&this.Xa(w,m)<0)&&(h=!0)):!T&&w?(r.track({type:0,doc:w}),x=!0):T&&!w&&(r.track({type:1,doc:T}),x=!0,(d||m)&&(h=!0)),x&&(w?(u=u.add(w),o=S?o.add(_):o.delete(_)):(u=u.delete(_),o=o.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),o=o.delete(_.key),r.track({type:1,doc:_})}return{eu:u,ru:r,Ds:h,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort((_,v)=>function(w,C){const S=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{At:x})}};return S(w)-S(C)}(_.type,v.type)||this.Xa(_.doc,v.doc)),this.su(r),a=a!=null&&a;const h=t&&!a?this.ou():[],d=this.Za.size===0&&this.current&&!a?1:0,m=d!==this.Ya;return this.Ya=d,u.length!==0||m?{snapshot:new Dl(this.query,e.eu,o,u,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:h}:{_u:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new pw,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Le(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new nR(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new tR(r))}),t}uu(e){this.Ha=e.qs,this.Za=Le();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Dl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Hy="SyncEngine";class KL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class YL{constructor(e){this.key=e,this.lu=!1}}class XL{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new go(h=>T1(h),Qd),this.Tu=new Map,this.Iu=new Set,this.du=new pt(Te.comparator),this.Eu=new Map,this.Au=new Ny,this.Ru={},this.Vu=new Map,this.mu=Pl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function QL(n,e,t=!0){const r=lR(n);let a;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.cu()):a=await rR(r,e,t,!0),a}async function WL(n,e){const t=lR(n);await rR(t,e,!0,!1)}async function rR(n,e,t,r){const a=await pL(n.localStore,ni(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await ZL(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&X1(n.remoteStore,a),h}async function ZL(n,e,t,r,a){n.gu=(v,T,w)=>async function(S,x,O,k){let M=x.view.nu(O);M.Ds&&(M=await lw(S.localStore,x.query,!1).then(({documents:D})=>x.view.nu(D,M)));const z=k&&k.targetChanges.get(x.targetId),F=k&&k.targetMismatches.get(x.targetId)!=null,G=x.view.applyChanges(M,S.isPrimaryClient,z,F);return yw(S,x.targetId,G._u),G.snapshot}(n,v,T,w);const o=await lw(n.localStore,e,!0),u=new $L(e,o.qs),h=u.nu(o.documents),d=th.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),m=u.applyChanges(h,n.isPrimaryClient,d);yw(n,t,m._u);const _=new KL(e,t,u);return n.Pu.set(e,_),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),m.snapshot}async function JL(n,e,t){const r=Oe(n),a=r.Pu.get(e),o=r.Tu.get(a.targetId);if(o.length>1)return r.Tu.set(a.targetId,o.filter(u=>!Qd(u,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await I_(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Ly(r.remoteStore,a.targetId),P_(r,a.targetId)}).catch(ql)):(P_(r,a.targetId),await I_(r.localStore,a.targetId,!0))}async function e4(n,e){const t=Oe(n),r=t.Pu.get(e),a=t.Tu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ly(t.remoteStore,r.targetId))}async function t4(n,e,t){const r=l4(n);try{const a=await function(u,h){const d=Oe(u),m=st.now(),_=h.reduce((w,C)=>w.add(C.key),Le());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let C=Xi(),S=Le();return d.Os.getEntries(w,_).next(x=>{C=x,C.forEach((O,k)=>{k.isValidDocument()||(S=S.add(O))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,C)).next(x=>{v=x;const O=[];for(const k of h){const M=pV(k,v.get(k.key).overlayedDocument);M!=null&&O.push(new _o(k.key,M,d1(M.value.mapValue),ri.exists(!0)))}return d.mutationQueue.addMutationBatch(w,m,O,h)}).next(x=>{T=x;const O=x.applyToLocalDocumentSet(v,S);return d.documentOverlayCache.saveOverlays(w,x.batchId,O)})}).then(()=>({batchId:T.batchId,changes:w1(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,h,d){let m=u.Ru[u.currentUser.toKey()];m||(m=new pt(xe)),m=m.insert(h,d),u.Ru[u.currentUser.toKey()]=m}(r,a.batchId,t),await rh(r,a.changes),await rp(r.remoteStore)}catch(a){const o=Fy(a,"Failed to persist write");t.reject(o)}}async function iR(n,e){const t=Oe(n);try{const r=await hL(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t.Eu.get(o);u&&($e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.lu=!0:a.modifiedDocuments.size>0?$e(u.lu,14607):a.removedDocuments.size>0&&($e(u.lu,42227),u.lu=!1))}),await rh(t,r,e)}catch(r){await ql(r)}}function _w(n,e,t){const r=Oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Pu.forEach((o,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const d=Oe(u);d.onlineState=h;let m=!1;d.queries.forEach((_,v)=>{for(const T of v.wa)T.va(h)&&(m=!0)}),m&&qy(d)}(r.eventManager,e),a.length&&r.hu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function n4(n,e,t){const r=Oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Eu.get(e),o=a&&a.key;if(o){let u=new pt(Te.comparator);u=u.insert(o,dn.newNoDocument(o,Ce.min()));const h=Le().add(o),d=new ep(Ce.min(),new Map,new pt(xe),u,h);await iR(r,d),r.du=r.du.remove(o),r.Eu.delete(e),Gy(r)}else await I_(r.localStore,e,!1).then(()=>P_(r,e,t)).catch(ql)}async function r4(n,e){const t=Oe(n),r=e.batch.batchId;try{const a=await cL(t.localStore,e);aR(t,r,null),sR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await rh(t,a)}catch(a){await ql(a)}}async function i4(n,e,t){const r=Oe(n);try{const a=await function(u,h){const d=Oe(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return d.mutationQueue.lookupMutationBatch(m,h).next(v=>($e(v!==null,37113),_=v.keys(),d.mutationQueue.removeMutationBatch(m,v))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,_,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>d.localDocuments.getDocuments(m,_))})}(r.localStore,e);aR(r,e,t),sR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await rh(r,a)}catch(a){await ql(a)}}function sR(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function aR(n,e,t){const r=Oe(n);let a=r.Ru[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.Ru[r.currentUser.toKey()]=a}}function P_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||oR(n,r)})}function oR(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Ly(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Gy(n))}function yw(n,e,t){for(const r of t)r instanceof tR?(n.Au.addReference(r.key,e),s4(n,r)):r instanceof nR?(ge(Hy,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||oR(n,r.key)):Re(19791,{yu:r})}function s4(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(ge(Hy,"New document in limbo: "+t),n.Iu.add(r),Gy(n))}function Gy(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Te(at.fromString(e)),r=n.mu.next();n.Eu.set(r,new YL(t)),n.du=n.du.insert(t,r),X1(n.remoteStore,new xs(ni(Cy(t.path)),r,"TargetPurposeLimboResolution",$d.ue))}}async function rh(n,e,t){const r=Oe(n),a=[],o=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach((h,d)=>{u.push(r.gu(d,e,t).then(m=>{var _;if((m||t)&&r.isPrimaryClient){const v=m?!m.fromCache:(_=t?.targetChanges.get(d.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(m){a.push(m);const v=ky.Es(d.targetId,m);o.push(v)}}))}),await Promise.all(u),r.hu.J_(a),await async function(d,m){const _=Oe(d);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ae.forEach(m,T=>ae.forEach(T.Is,w=>_.persistence.referenceDelegate.addReference(v,T.targetId,w)).next(()=>ae.forEach(T.ds,w=>_.persistence.referenceDelegate.removeReference(v,T.targetId,w)))))}catch(v){if(!Hl(v))throw v;ge(Vy,"Failed to update sequence numbers: "+v)}for(const v of m){const T=v.targetId;if(!v.fromCache){const w=_.Fs.get(T),C=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(C);_.Fs=_.Fs.insert(T,S)}}}(r.localStore,o))}async function a4(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){ge(Hy,"User change. New user:",e.toKey());const r=await G1(t.localStore,e);t.currentUser=e,function(o,u){o.Vu.forEach(h=>{h.forEach(d=>{d.reject(new ye(ce.CANCELLED,u))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rh(t,r.Bs)}}function o4(n,e){const t=Oe(n),r=t.Eu.get(e);if(r&&r.lu)return Le().add(r.key);{let a=Le();const o=t.Tu.get(e);if(!o)return a;for(const u of o){const h=t.Pu.get(u);a=a.unionWith(h.view.tu)}return a}}function lR(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=iR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n4.bind(null,e),e.hu.J_=qL.bind(null,e.eventManager),e.hu.pu=HL.bind(null,e.eventManager),e}function l4(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i4.bind(null,e),e}class Sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return uL(this.persistence,new aL,e.initialUser,this.serializer)}Du(e){return new H1(My.Vi,this.serializer)}bu(e){return new gL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sd.provider={build:()=>new Sd};class u4 extends Sd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){$e(this.persistence.referenceDelegate instanceof bd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new GV(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new H1(r=>bd.Vi(r,t),this.serializer)}}class D_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_w(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=a4.bind(null,this.syncEngine),await UL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jL}()}createDatastore(e){const t=tp(e.databaseInfo.databaseId),r=function(o){return new EL(o)}(e.databaseInfo);return function(o,u,h,d){return new AL(o,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,u,h){return new IL(r,a,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>_w(this.syncEngine,t,0),function(){return hw.C()?new hw:new _L}())}createSyncEngine(e,t){return function(a,o,u,h,d,m,_){const v=new XL(a,o,u,h,d,m);return _&&(v.fu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Oe(a);ge(lo,"RemoteStore shutting down."),o.Ia.add(5),await nh(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}D_.provider={build:()=>new D_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class h4{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=fn.UNAUTHENTICATED,this.clientId=Ey.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{ge(Ws,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ge(Ws,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Fy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ng(n,e){n.asyncQueue.verifyOperationInProgress(),ge(Ws,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await G1(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>{Gs("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{ge("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{Gs("Terminating Firestore due to IndexedDb database deletion failed",a)})}),n._offlineComponents=e}async function vw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await f4(n);ge(Ws,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>dw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>dw(e.remoteStore,a)),n._onlineComponents=e}async function f4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(Ws,"Using user provided OfflineComponentProvider");try{await Ng(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Gs("Error using user provided cache. Falling back to memory cache: "+t),await Ng(n,new Sd)}}else ge(Ws,"Using default OfflineComponentProvider"),await Ng(n,new u4(void 0));return n._offlineComponents}async function uR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(Ws,"Using user provided OnlineComponentProvider"),await vw(n,n._uninitializedComponentsProvider._online)):(ge(Ws,"Using default OnlineComponentProvider"),await vw(n,new D_))),n._onlineComponents}function d4(n){return uR(n).then(e=>e.syncEngine)}async function p4(n){const e=await uR(n),t=e.eventManager;return t.onListen=QL.bind(null,e.syncEngine),t.onUnlisten=JL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=e4.bind(null,e.syncEngine),t}function m4(n,e,t={}){const r=new js;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,m){const _=new c4({next:T=>{_.Ou(),u.enqueueAndForget(()=>FL(o,v));const w=T.docs.has(h);!w&&T.fromCache?m.reject(new ye(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&T.fromCache&&d&&d.source==="server"?m.reject(new ye(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),v=new GL(Cy(h.path),_,{includeMetadataChanges:!0,ka:!0});return BL(o,v)}(await p4(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="firestore.googleapis.com",Ew=!0;class bw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hR,this.ssl=Ew}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ew;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qV)throw new ye(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ik("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ip{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yk;switch(r.type){case"firstParty":return new bk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Tw.get(t);r&&(ge("ComponentProvider","Removing Datastore"),Tw.delete(t),r.terminate())}(this),Promise.resolve()}}function g4(n,e,t,r={}){var a;n=Il(n,ip);const o=ea(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o&&(ty(`https://${d}`),ny("Firestore",!0)),u.host!==hR&&u.host!==d&&Gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:d,ssl:o,emulatorOptions:r});if(!Hs(m,h)&&(n._setSettings(m),r.mockUserToken)){let _,v;if(typeof r.mockUserToken=="string")_=r.mockUserToken,v=fn.MOCK_USER;else{_=VS(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new ye(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new fn(T)}n._authCredentials=new vk(new e1(_,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $y(this.firestore,e,this._query)}}class Ft{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Jc(t,Ft._jsonSchema))return new Ft(e,r||null,new Te(at.fromString(t.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Mt("string",Ft._jsonSchemaVersion),referencePath:Mt("string")};class Bs extends $y{constructor(e,t,r){super(e,t,Cy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Te(e))}withConverter(e){return new Bs(this.firestore,e,this._path)}}function _4(n,e,...t){if(n=kt(n),n1("collection","path",e),n instanceof ip){const r=at.fromString(e,...t);return Vb(r),new Bs(n,null,r)}{if(!(n instanceof Ft||n instanceof Bs))throw new ye(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(at.fromString(e,...t));return Vb(r),new Bs(n.firestore,null,r)}}function x_(n,e,...t){if(n=kt(n),arguments.length===1&&(e=Ey.newId()),n1("doc","path",e),n instanceof ip){const r=at.fromString(e,...t);return kb(r),new Ft(n,null,new Te(r))}{if(!(n instanceof Ft||n instanceof Bs))throw new ye(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(at.fromString(e,...t));return kb(r),new Ft(n.firestore,n instanceof Bs?n.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="AsyncQueue";class Sw{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new K1(this,"async_queue_retry"),this.oc=()=>{const r=xg();r&&ge(ww,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=xg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=xg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new js;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Hl(e))throw e;ge(ww,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Yi("INTERNAL UNHANDLED ERROR: ",Aw(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const a=By.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(a),a}ac(){this.tc&&Re(47125,{hc:Aw(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Aw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class sp extends ip{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new Sw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sw(e),this._firestoreClient=void 0,await e}}}function y4(n,e){const t=typeof n=="object"?n:jd(),r=typeof n=="string"?n:md,a=ta(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=NS("firestore");o&&g4(a,...o)}return a}function fR(n){if(n._terminated)throw new ye(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||v4(n),n._firestoreClient}function v4(n){var e,t,r;const a=n._freezeSettings(),o=function(h,d,m,_){return new Uk(h,d,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,cR(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new h4(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h?._online.build();return{_offline:h?._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mr(on.fromBase64String(e))}catch(t){throw new ye(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new mr(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jc(e,mr._jsonSchema))return mr.fromBase64String(e.bytes)}}mr._jsonSchemaVersion="firestore/bytes/1.0",mr._jsonSchema={type:Mt("string",mr._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(e){if(Jc(e,si._jsonSchema))return new si(e.latitude,e.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:Mt("string",si._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jc(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ai(e.vectorValues);throw new ye(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Mt("string",ai._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=/^__.*__$/;class E4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new _o(e,this.data,this.fieldMask,t,this.fieldTransforms):new eh(e,this.data,t,this.fieldTransforms)}}function pR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ec:n})}}class Yy{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Yy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:r,mc:!1});return a.fc(e),a}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:r,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ad(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(pR(this.Ec)&&T4.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class b4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||tp(e)}Dc(e,t,r,a=!1){return new Yy({Ec:e,methodName:t,bc:r,path:sn.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mR(n){const e=n._freezeSettings(),t=tp(n._databaseId);return new b4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gR(n,e,t,r,a,o={}){const u=n.Dc(o.merge||o.mergeFields?2:0,e,t,a);TR("Data must be an object, but it was:",u,r);const h=yR(r,u);let d,m;if(o.merge)d=new Or(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const _=[];for(const v of o.mergeFields){const T=w4(e,v,t);if(!u.contains(T))throw new ye(ce.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);A4(_,T)||_.push(T)}d=new Or(_),m=u.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,m=u.fieldTransforms;return new E4(new pr(h),d,m)}function _R(n,e){if(vR(n=kt(n)))return TR("Unsupported field value:",e,n),yR(n,e);if(n instanceof dR)return function(r,a){if(!pR(a.Ec))throw a.wc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const h of r){let d=_R(h,a.yc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lV(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=st.fromDate(r);return{timestampValue:Ed(a.serializer,o)}}if(r instanceof st){const o=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ed(a.serializer,o)}}if(r instanceof si)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mr)return{bytesValue:V1(a.serializer,r._byteString)};if(r instanceof Ft){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ai)return function(u,h){return{mapValue:{fields:{[h1]:{stringValue:f1},[gd]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.wc("VectorValues must only contain numeric values.");return Oy(h.serializer,m)})}}}}}}(r,a);throw a.wc(`Unsupported field value: ${by(r)}`)}(n,e)}function yR(n,e){const t={};return s1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(n,(r,a)=>{const o=_R(a,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function vR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof st||n instanceof si||n instanceof mr||n instanceof Ft||n instanceof dR||n instanceof ai)}function TR(n,e,t){if(!vR(t)||!r1(t)){const r=by(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function w4(n,e,t){if((e=kt(e))instanceof Ky)return e._internalPath;if(typeof e=="string")return ER(n,e);throw Ad("Field path arguments must be of type string or ",n,!1,void 0,t)}const S4=new RegExp("[~\\*/\\[\\]]");function ER(n,e,t){if(e.search(S4)>=0)throw Ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ky(...e.split("."))._internalPath}catch{throw Ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ad(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new ye(ce.INVALID_ARGUMENT,h+n+d)}function A4(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class R4 extends bR{data(){return super.data()}}function wR(n,e){return typeof e=="string"?ER(n,e):e instanceof Ky?e._internalPath:e._delegate._internalPath}class I4{convertValue(e,t="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return mo(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[gd].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>At(u.doubleValue));return new ai(o)}convertGeoPoint(e){return new si(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Yd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Nc(e));default:return null}}convertTimestamp(e){const t=Ks(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=at.fromString(e);$e(F1(r),9688,{name:e});const a=new Mc(r.get(1),r.get(3)),o=new Te(r.popFirst(5));return a.isEqual(t)||Yi(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class fc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends bR{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Wa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:Mt("string",Wa._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Zf extends Wa{data(e={}){return super.data(e)}}class bc{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new fc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Zf(this._firestore,this._userDataWriter,r.key,r,new fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const d=new Zf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new fc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Zf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new fc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,_=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),_=u.indexOf(h.doc.key)),{type:C4(h.type),doc:d,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ey.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(n){n=Il(n,Ft);const e=Il(n.firestore,sp);return m4(fR(e),n._key).then(t=>N4(e,n,t))}bc._jsonSchemaVersion="firestore/querySnapshot/1.0",bc._jsonSchema={type:Mt("string",bc._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class P4 extends I4{constructor(e){super(),this.firestore=e}convertBytes(e){return new mr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}}function D4(n,e,t){n=Il(n,Ft);const r=Il(n.firestore,sp),a=SR(n.converter,e);return AR(r,[gR(mR(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ri.none())])}function x4(n,e){const t=Il(n.firestore,sp),r=x_(n),a=SR(n.converter,e);return AR(t,[gR(mR(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,ri.exists(!1))]).then(()=>r)}function AR(n,e){return function(r,a){const o=new js;return r.asyncQueue.enqueueAndForget(async()=>t4(await d4(r),a,o)),o.promise}(fR(n),e)}function N4(n,e,t){const r=t.docs.get(e._key),a=new P4(n);return new Wa(n,a,e._key,r,new fc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Fl=a})(po),xr(new vr("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new sp(new Tk(r.getProvider("auth-internal")),new wk(u,r.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ye(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mc(m.options.projectId,_)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),On(Pb,Db,e),On(Pb,Db,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firebasestorage.googleapis.com",IR="storageBucket",M4=2*60*1e3,k4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends Er{constructor(e,t,r=0){super(Mg(e),`Firebase Storage: ${t} (${Mg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function Mg(n){return"storage/"+n}function Xy(){const n="An unknown error occurred, please check the error payload for server response.";return new Tt(vt.UNKNOWN,n)}function V4(n){return new Tt(vt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function L4(n){return new Tt(vt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function U4(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(vt.UNAUTHENTICATED,n)}function z4(){return new Tt(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function j4(n){return new Tt(vt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function B4(){return new Tt(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function F4(){return new Tt(vt.CANCELED,"User canceled the upload/download.")}function q4(n){return new Tt(vt.INVALID_URL,"Invalid URL '"+n+"'.")}function H4(n){return new Tt(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function G4(){return new Tt(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+IR+"' property when initializing the app?")}function $4(){return new Tt(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function K4(){return new Tt(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Y4(n){return new Tt(vt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function N_(n){return new Tt(vt.INVALID_ARGUMENT,n)}function CR(){return new Tt(vt.APP_DELETED,"The Firebase app was deleted.")}function X4(n){return new Tt(vt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wc(n,e){return new Tt(vt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ic(n){throw new Tt(vt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Kn.makeFromUrl(e,t)}catch{return new Kn(e,"")}if(r.path==="")return r;throw H4(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),d={bucket:1,path:3};function m(z){z.path_=decodeURIComponent(z.path)}const _="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",w=new RegExp(`^https?://${v}/${_}/b/${a}/o${T}`,"i"),C={bucket:1,path:3},S=t===RR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",O=new RegExp(`^https?://${S}/${a}/${x}`,"i"),M=[{regex:h,indices:d,postModify:o},{regex:w,indices:C,postModify:m},{regex:O,indices:{bucket:1,path:2},postModify:m}];for(let z=0;z<M.length;z++){const F=M[z],G=F.regex.exec(e);if(G){const D=G[F.indices.bucket];let A=G[F.indices.path];A||(A=""),r=new Kn(D,A),F.postModify(r);break}}if(r==null)throw q4(e);return r}}class Q4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n,e,t){let r=1,a=null,o=null,u=!1,h=0;function d(){return h===2}let m=!1;function _(...x){m||(m=!0,e.apply(null,x))}function v(x){a=setTimeout(()=>{a=null,n(w,d())},x)}function T(){o&&clearTimeout(o)}function w(x,...O){if(m){T();return}if(x){T(),_.call(null,x,...O);return}if(d()||u){T(),_.call(null,x,...O);return}r<64&&(r*=2);let M;h===1?(h=2,M=0):M=(r+Math.random())*1e3,v(M)}let C=!1;function S(x){C||(C=!0,T(),!m&&(a!==null?(x||(h=2),clearTimeout(a),v(0)):x||(h=1)))}return v(0),o=setTimeout(()=>{u=!0,S(!0)},t),S}function Z4(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(n){return n!==void 0}function eU(n){return typeof n=="object"&&!Array.isArray(n)}function Qy(n){return typeof n=="string"||n instanceof String}function Rw(n){return Wy()&&n instanceof Blob}function Wy(){return typeof Blob<"u"}function Iw(n,e,t,r){if(r<e)throw N_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw N_(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function OR(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var Za;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Za||(Za={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,t,r,a,o,u,h,d,m,_,v,T=!0,w=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=v,this.retry=T,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,S)=>{this.resolve_=C,this.reject_=S,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Uf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===Za.NO_ERROR,d=o.getStatus();if(!h||tU(d,this.additionalRetryCodes_)&&this.retry){const _=o.getErrorCode()===Za.ABORT;r(!1,new Uf(!1,null,_));return}const m=this.successCodes_.indexOf(d)!==-1;r(!0,new Uf(m,o))})},t=(r,a)=>{const o=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());J4(d)?o(d):o()}catch(d){u(d)}else if(h!==null){const d=Xy();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(a.canceled){const d=this.appDelete_?CR():F4();u(d)}else{const d=B4();u(d)}};this.canceled_?t(!1,new Uf(!1,null,!0)):this.backoffId_=W4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Z4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uf{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function rU(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function iU(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function sU(n,e){e&&(n["X-Firebase-GMPID"]=e)}function aU(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function oU(n,e,t,r,a,o,u=!0,h=!1){const d=OR(n.urlParams),m=n.url+d,_=Object.assign({},n.headers);return sU(_,e),rU(_,t),iU(_,o),aU(_,r),new nU(m,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function uU(...n){const e=lU();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Wy())return new Blob(n);throw new Tt(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function cU(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(n){if(typeof atob>"u")throw Y4("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kg{constructor(e,t){this.data=e,this.contentType=t||null}}function fU(n,e){switch(n){case Jr.RAW:return new kg(PR(e));case Jr.BASE64:case Jr.BASE64URL:return new kg(DR(n,e));case Jr.DATA_URL:return new kg(pU(e),mU(e))}throw Xy()}function PR(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=n.charCodeAt(++t);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function dU(n){let e;try{e=decodeURIComponent(n)}catch{throw wc(Jr.DATA_URL,"Malformed data URL.")}return PR(e)}function DR(n,e){switch(n){case Jr.BASE64:{const a=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(a||o)throw wc(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Jr.BASE64URL:{const a=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(a||o)throw wc(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=hU(e)}catch(a){throw a.message.includes("polyfill")?a:wc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class xR{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw wc(Jr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=gU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function pU(n){const e=new xR(n);return e.base64?DR(Jr.BASE64,e.rest):dU(e.rest)}function mU(n){return new xR(n).contentType}function gU(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t){let r=0,a="";Rw(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(Rw(this.data_)){const r=this.data_,a=cU(r,e,t);return a===null?null:new Ds(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ds(r,!0)}}static getBlob(...e){if(Wy()){const t=e.map(r=>r instanceof Ds?r.data_:r);return new Ds(uU.apply(null,t))}else{const t=e.map(u=>Qy(u)?fU(Jr.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const a=new Uint8Array(r);let o=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)a[o++]=u[h]}),new Ds(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(n){let e;try{e=JSON.parse(n)}catch{return null}return eU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function yU(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function MR(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(n,e){return e}class En{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||vU}}let zf=null;function TU(n){return!Qy(n)||n.length<2?n:MR(n)}function kR(){if(zf)return zf;const n=[];n.push(new En("bucket")),n.push(new En("generation")),n.push(new En("metageneration")),n.push(new En("name","fullPath",!0));function e(o,u){return TU(u)}const t=new En("name");t.xform=e,n.push(t);function r(o,u){return u!==void 0?Number(u):u}const a=new En("size");return a.xform=r,n.push(a),n.push(new En("timeCreated")),n.push(new En("updated")),n.push(new En("md5Hash",null,!0)),n.push(new En("cacheControl",null,!0)),n.push(new En("contentDisposition",null,!0)),n.push(new En("contentEncoding",null,!0)),n.push(new En("contentLanguage",null,!0)),n.push(new En("contentType",null,!0)),n.push(new En("metadata","customMetadata",!0)),zf=n,zf}function EU(n,e){function t(){const r=n.bucket,a=n.fullPath,o=new Kn(r,a);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function bU(n,e,t){const r={};r.type="file";const a=t.length;for(let o=0;o<a;o++){const u=t[o];r[u.local]=u.xform(r,e[u.server])}return EU(r,n),r}function VR(n,e,t){const r=NR(e);return r===null?null:bU(n,r,t)}function wU(n,e,t,r){const a=NR(e);if(a===null||!Qy(a.downloadTokens))return null;const o=a.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(m=>{const _=n.bucket,v=n.fullPath,T="/b/"+u(_)+"/o/"+u(v),w=Zy(T,t,r),C=OR({alt:"media",token:m});return w+C})[0]}function SU(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const o=e[a];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class LR{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(n){if(!n)throw Xy()}function AU(n,e){function t(r,a){const o=VR(n,a,e);return UR(o!==null),o}return t}function RU(n,e){function t(r,a){const o=VR(n,a,e);return UR(o!==null),wU(o,a,n.host,n._protocol)}return t}function zR(n){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=z4():a=U4():t.getStatus()===402?a=L4(n.bucket):t.getStatus()===403?a=j4(n.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function IU(n){const e=zR(n);function t(r,a){let o=e(r,a);return r.getStatus()===404&&(o=V4(n.path)),o.serverResponse=a.serverResponse,o}return t}function CU(n,e,t){const r=e.fullServerUrl(),a=Zy(r,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,h=new LR(a,o,RU(n,t),u);return h.errorHandler=IU(e),h}function OU(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function PU(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=OU(null,e)),r}function DU(n,e,t,r,a){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let M="";for(let z=0;z<2;z++)M=M+Math.random().toString().slice(2);return M}const d=h();u["Content-Type"]="multipart/related; boundary="+d;const m=PU(e,r,a),_=SU(m,t),v="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+d+`\r
Content-Type: `+m.contentType+`\r
\r
`,T=`\r
--`+d+"--",w=Ds.getBlob(v,r,T);if(w===null)throw $4();const C={name:m.fullPath},S=Zy(o,n.host,n._protocol),x="POST",O=n.maxUploadRetryTime,k=new LR(S,x,AU(n,t),O);return k.urlParams=C,k.headers=u,k.body=w.uploadData(),k.errorHandler=zR(e),k}class xU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Za.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Za.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Za.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a,o){if(this.sent_)throw ic("cannot .send() more than once");if(ea(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ic("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ic("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ic("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ic("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class NU extends xU{initXhr(){this.xhr_.responseType="text"}}function jR(){return new NU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t){this._service=e,t instanceof Kn?this._location=t:this._location=Kn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new uo(e,t)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MR(this._location.path)}get storage(){return this._service}get parent(){const e=_U(this._location.path);if(e===null)return null;const t=new Kn(this._location.bucket,e);return new uo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw X4(e)}}function MU(n,e,t){n._throwIfRoot("uploadBytes");const r=DU(n.storage,n._location,kR(),new Ds(e,!0),t);return n.storage.makeRequestWithTokens(r,jR).then(a=>({metadata:a,ref:n}))}function kU(n){n._throwIfRoot("getDownloadURL");const e=CU(n.storage,n._location,kR());return n.storage.makeRequestWithTokens(e,jR).then(t=>{if(t===null)throw K4();return t})}function VU(n,e){const t=yU(n._location.path,e),r=new Kn(n._location.bucket,t);return new uo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(n){return/^[A-Za-z]+:\/\//.test(n)}function UU(n,e){return new uo(n,e)}function BR(n,e){if(n instanceof Jy){const t=n;if(t._bucket==null)throw G4();const r=new uo(t,t._bucket);return e!=null?BR(r,e):r}else return e!==void 0?VU(n,e):n}function zU(n,e){if(e&&LU(e)){if(n instanceof Jy)return UU(n,e);throw N_("To use ref(service, url), the first argument must be a Storage instance.")}else return BR(n,e)}function Cw(n,e){const t=e?.[IR];return t==null?null:Kn.makeFromBucketSpec(t,n)}function jU(n,e,t,r={}){n.host=`${e}:${t}`;const a=ea(e);a&&(ty(`https://${n.host}/b`),ny("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:VS(o,n.app.options.projectId))}class Jy{constructor(e,t,r,a,o,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=RR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=M4,this._maxUploadRetryTime=k4,this._requests=new Set,a!=null?this._bucket=Kn.makeFromBucketSpec(a,this._host):this._bucket=Cw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=Cw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Iw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Iw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uo(this,e)}_makeRequest(e,t,r,a,o=!0){if(this._deleted)return new Q4(CR());{const u=oU(e,this._appId,r,a,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const Ow="@firebase/storage",Pw="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="storage";function BU(n,e,t){return n=kt(n),MU(n,e,t)}function FU(n){return n=kt(n),kU(n)}function qU(n,e){return n=kt(n),zU(n,e)}function HU(n=jd(),e){n=kt(n);const r=ta(n,FR).getImmediate({identifier:e}),a=NS("storage");return a&&GU(r,...a),r}function GU(n,e,t,r={}){jU(n,e,t,r)}function $U(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Jy(t,r,a,e,po)}function KU(){xr(new vr(FR,$U,"PUBLIC").setMultipleInstances(!0)),On(Ow,Pw,""),On(Ow,Pw,"esm2017")}KU();const YU={apiKey:"AIzaSyB3kNew3K9iCh0Z-NZ5W-5i6H-3Qcbj7YI",authDomain:"edumeedapp.firebaseapp.com",projectId:"edumeedapp",storageBucket:"edumeedapp.firebasestorage.app",messagingSenderId:"715351646933",appId:"1:715351646933:web:1de20df0a0f31641bd385c",measurementId:"G-L8JQ615VPL"},ap=qS(YU),M_=y4(ap),Sc=XN(ap),XU=HU(ap);pk(ap);const ih=W.createContext(),QU=({children:n})=>{const[e,t]=W.useState(null),[r,a]=W.useState(!0);return W.useEffect(()=>{const o=Lx(Sc,u=>{t(u),a(!1)});return()=>o()},[]),$.jsx(ih.Provider,{value:{currentUser:e},children:!r&&n})},WU=()=>{const[n,e]=W.useState(!1),t=()=>e(!n),{currentUser:r}=W.useContext(ih),a=ho(),o=W.useRef(null);W.useEffect(()=>{const h=d=>{o.current&&!o.current.contains(d.target)&&e(!1)};return n?document.addEventListener("mousedown",h):document.removeEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[n]);const u=()=>{r?a("/profile"):a("/login",{state:{from:"/"}})};return $.jsx("div",{children:$.jsxs("nav",{className:"navbar",children:[$.jsxs("div",{className:"navigation",children:[$.jsx("img",{className:`burger ${n?"open":""}`,onClick:t,src:"/EdUmeed-mvp/image/hamburgermenu.svg",alt:"menu"}),$.jsx("div",{className:"bgForBody",children:$.jsxs("ol",{ref:o,className:`burger ${n?"show":""}`,children:[$.jsx("img",{src:"/EdUmeed-mvp/image/close.svg",alt:"close",onClick:t}),$.jsx("div",{className:"line"}),$.jsx("li",{children:$.jsx(Xr,{to:"/",onClick:()=>e(!1),children:$.jsxs("div",{children:[$.jsx("img",{src:"/EdUmeed-mvp/image/home.svg",alt:"home page"}),$.jsx("p",{children:"Home"})]})})}),$.jsx("li",{children:$.jsx(Xr,{to:"/courses",onClick:()=>e(!1),children:$.jsxs("div",{children:[$.jsx("img",{src:"/EdUmeed-mvp/image/notes.svg",alt:"notes page"}),$.jsx("p",{children:"Notes"})]})})}),$.jsx("li",{children:$.jsx(Xr,{to:"/smt",onClick:()=>e(!1),children:$.jsxs("div",{children:[$.jsx("img",{src:"/EdUmeed-mvp/image/news.svg",alt:""}),$.jsx("p",{children:"News"})]})})}),$.jsx("li",{children:$.jsx(Xr,{to:"/smt",onClick:()=>e(!1),children:$.jsxs("div",{children:[$.jsx("img",{src:"/EdUmeed-mvp/image/book.svg",alt:""}),$.jsx("p",{children:"Books"})]})})})]})}),$.jsx("h2",{children:"EdUmeed"}),$.jsxs("ul",{children:[$.jsx("li",{children:$.jsx(Xr,{to:"/",children:"Home"})}),$.jsx("li",{children:$.jsx(Xr,{to:"/notes",children:"Notes"})}),$.jsx("li",{children:$.jsx(Xr,{to:"/news",children:"News"})}),$.jsx("li",{children:$.jsx(Xr,{to:"/books",children:"Books"})})]})]}),$.jsxs("div",{className:"infoZone",children:[$.jsx("input",{className:"inputSearch",type:"text",placeholder:"Search"}),$.jsx("img",{className:"notifactionIcon",src:"/EdUmeed-mvp/image/notifaction.svg",alt:"notifaction"}),$.jsx("img",{className:"profileIcon",src:"/EdUmeed-mvp/image/profileIcon.svg",alt:"profile",onClick:u})]})]})})},ZU=({image:n,name:e})=>$.jsxs("div",{className:"videoItem-parent",children:[$.jsx("img",{className:"videoItem-image",src:n,alt:e}),$.jsx("p",{className:"videoItem-name",children:e})]}),JU="modulepreload",e6=function(n){return"/EdUmeed-mvp/"+n},Dw={},Rn=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let d=function(m){return Promise.all(m.map(_=>Promise.resolve(_).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=d(t.map(m=>{if(m=e6(m),m in Dw)return;Dw[m]=!0;const _=m.endsWith(".css"),v=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const T=document.createElement("link");if(T.rel=_?"stylesheet":JU,_||(T.as="script"),T.crossOrigin="",T.href=m,h&&T.setAttribute("nonce",h),document.head.appendChild(T),_)return new Promise((w,C)=>{T.addEventListener("load",w),T.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};var Vg,xw;function t6(){if(xw)return Vg;xw=1,Vg=function(a,o,u){var h=document.head||document.getElementsByTagName("head")[0],d=document.createElement("script");typeof o=="function"&&(u=o,o={}),o=o||{},u=u||function(){},d.type=o.type||"text/javascript",d.charset=o.charset||"utf8",d.async="async"in o?!!o.async:!0,d.src=a,o.attrs&&n(d,o.attrs),o.text&&(d.text=""+o.text);var m="onload"in d?e:t;m(d,u),d.onload||e(d,u),h.appendChild(d)};function n(r,a){for(var o in a)r.setAttribute(o,a[o])}function e(r,a){r.onload=function(){this.onerror=this.onload=null,a(null,r)},r.onerror=function(){this.onerror=this.onload=null,a(new Error("Failed to load "+this.src),r)}}function t(r,a){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,a(null,r))}}return Vg}var Lg,Nw;function qR(){if(Nw)return Lg;Nw=1;var n=function(k){return e(k)&&!t(k)};function e(O){return!!O&&typeof O=="object"}function t(O){var k=Object.prototype.toString.call(O);return k==="[object RegExp]"||k==="[object Date]"||o(O)}var r=typeof Symbol=="function"&&Symbol.for,a=r?Symbol.for("react.element"):60103;function o(O){return O.$$typeof===a}function u(O){return Array.isArray(O)?[]:{}}function h(O,k){return k.clone!==!1&&k.isMergeableObject(O)?S(u(O),O,k):O}function d(O,k,M){return O.concat(k).map(function(z){return h(z,M)})}function m(O,k){if(!k.customMerge)return S;var M=k.customMerge(O);return typeof M=="function"?M:S}function _(O){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(O).filter(function(k){return Object.propertyIsEnumerable.call(O,k)}):[]}function v(O){return Object.keys(O).concat(_(O))}function T(O,k){try{return k in O}catch{return!1}}function w(O,k){return T(O,k)&&!(Object.hasOwnProperty.call(O,k)&&Object.propertyIsEnumerable.call(O,k))}function C(O,k,M){var z={};return M.isMergeableObject(O)&&v(O).forEach(function(F){z[F]=h(O[F],M)}),v(k).forEach(function(F){w(O,F)||(T(O,F)&&M.isMergeableObject(k[F])?z[F]=m(F,M)(O[F],k[F],M):z[F]=h(k[F],M))}),z}function S(O,k,M){M=M||{},M.arrayMerge=M.arrayMerge||d,M.isMergeableObject=M.isMergeableObject||n,M.cloneUnlessOtherwiseSpecified=h;var z=Array.isArray(k),F=Array.isArray(O),G=z===F;return G?z?M.arrayMerge(O,k,M):C(O,k,M):h(k,M)}S.all=function(k,M){if(!Array.isArray(k))throw new Error("first argument should be an array");return k.reduce(function(z,F){return S(z,F,M)},{})};var x=S;return Lg=x,Lg}var Ug,Mw;function op(){if(Mw)return Ug;Mw=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,u=(he,L)=>{for(var ee in L)e(he,ee,{get:L[ee],enumerable:!0})},h=(he,L,ee,oe)=>{if(L&&typeof L=="object"||typeof L=="function")for(let le of r(L))!o.call(he,le)&&le!==ee&&e(he,le,{get:()=>L[le],enumerable:!(oe=t(L,le))||oe.enumerable});return he},d=(he,L,ee)=>(ee=he!=null?n(a(he)):{},h(!he||!he.__esModule?e(ee,"default",{value:he,enumerable:!0}):ee,he)),m=he=>h(e({},"__esModule",{value:!0}),he),_={};u(_,{callPlayer:()=>ne,getConfig:()=>j,getSDK:()=>U,isBlobUrl:()=>X,isMediaStream:()=>fe,lazy:()=>C,omit:()=>N,parseEndTime:()=>G,parseStartTime:()=>F,queryString:()=>A,randomString:()=>D,supportsWebKitPresentationMode:()=>ue}),Ug=m(_);var v=d(Ul()),T=d(t6()),w=d(qR());const C=he=>v.default.lazy(async()=>{const L=await he();return typeof L.default=="function"?L:L.default}),S=/[?&#](?:start|t)=([0-9hms]+)/,x=/[?&#]end=([0-9hms]+)/,O=/(\d+)(h|m|s)/g,k=/^\d+$/;function M(he,L){if(he instanceof Array)return;const ee=he.match(L);if(ee){const oe=ee[1];if(oe.match(O))return z(oe);if(k.test(oe))return parseInt(oe)}}function z(he){let L=0,ee=O.exec(he);for(;ee!==null;){const[,oe,le]=ee;le==="h"&&(L+=parseInt(oe,10)*60*60),le==="m"&&(L+=parseInt(oe,10)*60),le==="s"&&(L+=parseInt(oe,10)),ee=O.exec(he)}return L}function F(he){return M(he,S)}function G(he){return M(he,x)}function D(){return Math.random().toString(36).substr(2,5)}function A(he){return Object.keys(he).map(L=>`${L}=${he[L]}`).join("&")}function R(he){return window[he]?window[he]:window.exports&&window.exports[he]?window.exports[he]:window.module&&window.module.exports&&window.module.exports[he]?window.module.exports[he]:null}const V={},U=function(L,ee,oe=null,le=()=>!0,me=T.default){const be=R(ee);return be&&le(be)?Promise.resolve(be):new Promise((Se,Et)=>{if(V[L]){V[L].push({resolve:Se,reject:Et});return}V[L]=[{resolve:Se,reject:Et}];const Ke=Ht=>{V[L].forEach(Jn=>Jn.resolve(Ht))};if(oe){const Ht=window[oe];window[oe]=function(){Ht&&Ht(),Ke(R(ee))}}me(L,Ht=>{Ht?(V[L].forEach(Jn=>Jn.reject(Ht)),V[L]=null):oe||Ke(R(ee))})})};function j(he,L){return(0,w.default)(L.config,he.config)}function N(he,...L){const ee=[].concat(...L),oe={},le=Object.keys(he);for(const me of le)ee.indexOf(me)===-1&&(oe[me]=he[me]);return oe}function ne(he,...L){if(!this.player||!this.player[he]){let ee=`ReactPlayer: ${this.constructor.displayName} player could not call %c${he}%c – `;return this.player?this.player[he]||(ee+="The method was not available"):ee+="The player was not available",console.warn(ee,"font-weight: bold",""),null}return this.player[he](...L)}function fe(he){return typeof window<"u"&&typeof window.MediaStream<"u"&&he instanceof window.MediaStream}function X(he){return/^blob:/.test(he)}function ue(he=document.createElement("video")){const L=/iPhone|iPod/.test(navigator.userAgent)===!1;return he.webkitSupportsPresentationMode&&typeof he.webkitSetPresentationMode=="function"&&L}function pe(he){return he}return Ug}var zg,kw;function n6(){if(kw)return zg;kw=1;var n=Object.defineProperty,e=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a=(ne,fe)=>{for(var X in fe)n(ne,X,{get:fe[X],enumerable:!0})},o=(ne,fe,X,ue)=>{if(fe&&typeof fe=="object"||typeof fe=="function")for(let pe of t(fe))!r.call(ne,pe)&&pe!==X&&n(ne,pe,{get:()=>fe[pe],enumerable:!(ue=e(fe,pe))||ue.enumerable});return ne},u=ne=>o(n({},"__esModule",{value:!0}),ne),h={};a(h,{AUDIO_EXTENSIONS:()=>D,DASH_EXTENSIONS:()=>V,FLV_EXTENSIONS:()=>U,HLS_EXTENSIONS:()=>R,MATCH_URL_DAILYMOTION:()=>M,MATCH_URL_FACEBOOK:()=>w,MATCH_URL_FACEBOOK_WATCH:()=>C,MATCH_URL_KALTURA:()=>G,MATCH_URL_MIXCLOUD:()=>z,MATCH_URL_MUX:()=>T,MATCH_URL_SOUNDCLOUD:()=>_,MATCH_URL_STREAMABLE:()=>S,MATCH_URL_TWITCH_CHANNEL:()=>k,MATCH_URL_TWITCH_VIDEO:()=>O,MATCH_URL_VIDYARD:()=>F,MATCH_URL_VIMEO:()=>v,MATCH_URL_WISTIA:()=>x,MATCH_URL_YOUTUBE:()=>m,VIDEO_EXTENSIONS:()=>A,canPlay:()=>N}),zg=u(h);var d=op();const m=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,_=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,v=/vimeo\.com\/(?!progressive_redirect).+/,T=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,w=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,C=/^https?:\/\/fb\.watch\/.+$/,S=/streamable\.com\/([a-z0-9]+)$/,x=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,O=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,k=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,M=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,z=/mixcloud\.com\/([^/]+\/[^/]+)/,F=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,G=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,D=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,A=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,R=/\.(m3u8)($|\?)/i,V=/\.(mpd)($|\?)/i,U=/\.(flv)($|\?)/i,j=ne=>{if(ne instanceof Array){for(const fe of ne)if(typeof fe=="string"&&j(fe)||j(fe.src))return!0;return!1}return(0,d.isMediaStream)(ne)||(0,d.isBlobUrl)(ne)?!0:D.test(ne)||A.test(ne)||R.test(ne)||V.test(ne)||U.test(ne)},N={youtube:ne=>ne instanceof Array?ne.every(fe=>m.test(fe)):m.test(ne),soundcloud:ne=>_.test(ne)&&!D.test(ne),vimeo:ne=>v.test(ne)&&!A.test(ne)&&!R.test(ne),mux:ne=>T.test(ne),facebook:ne=>w.test(ne)||C.test(ne),streamable:ne=>S.test(ne),wistia:ne=>x.test(ne),twitch:ne=>O.test(ne)||k.test(ne),dailymotion:ne=>M.test(ne),mixcloud:ne=>z.test(ne),vidyard:ne=>F.test(ne),kaltura:ne=>G.test(ne),file:j};return zg}var jg,Vw;function r6(){if(Vw)return jg;Vw=1;var n=Object.defineProperty,e=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a=(v,T)=>{for(var w in T)n(v,w,{get:T[w],enumerable:!0})},o=(v,T,w,C)=>{if(T&&typeof T=="object"||typeof T=="function")for(let S of t(T))!r.call(v,S)&&S!==w&&n(v,S,{get:()=>T[S],enumerable:!(C=e(T,S))||C.enumerable});return v},u=v=>o(n({},"__esModule",{value:!0}),v),h={};a(h,{default:()=>_}),jg=u(h);var d=op(),m=n6(),_=[{key:"youtube",name:"YouTube",canPlay:m.canPlay.youtube,lazyPlayer:(0,d.lazy)(()=>Rn(()=>import("./YouTube-t5A7x-1k.js").then(v=>v.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:m.canPlay.soundcloud,lazyPlayer:(0,d.lazy)(()=>Rn(()=>import("./SoundCloud-C942-mFn.js").then(v=>v.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:m.canPlay.vimeo,lazyPlayer:(0,d.lazy)(()=>Rn(()=>import("./Vimeo-VVBpHcpB.js").then(v=>v.V),[]))},{key:"mux",name:"Mux",canPlay:m.canPlay.mux,lazyPlayer:(0,d.lazy)(()=>Rn(()=>import("./Mux-IR7iphze.js").then(v=>v.M),[]))},{key:"facebook",name:"Facebook",canPlay:m.canPlay.facebook,lazyPlayer:(0,d.lazy)(()=>Rn(()=>import("./Facebook-DzUy3t76.js").then(v=>v.F),[]))},{key:"streamable",name:"Streamable",canPlay:m.canPlay.streamable,lazyPlayer:(0,d.lazy)(()=>Rn(()=>import("./Streamable-CPTUPqiF.js").then(v=>v.S),[]))},{key:"wistia",name:"Wistia",canPlay:m.canPlay.wistia,lazyPlayer:(0,d.lazy)(()=>Rn(()=>import("./Wistia-CAwLOsye.js").then(v=>v.W),[]))},{key:"twitch",name:"Twitch",canPlay:m.canPlay.twitch,lazyPlayer:(0,d.lazy)(()=>Rn(()=>import("./Twitch-C6j6HTD5.js").then(v=>v.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:m.canPlay.dailymotion,lazyPlayer:(0,d.lazy)(()=>Rn(()=>import("./DailyMotion-BuyLm8sT.js").then(v=>v.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:m.canPlay.mixcloud,lazyPlayer:(0,d.lazy)(()=>Rn(()=>import("./Mixcloud-C9C4LXgN.js").then(v=>v.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:m.canPlay.vidyard,lazyPlayer:(0,d.lazy)(()=>Rn(()=>import("./Vidyard-BBGr2PZ_.js").then(v=>v.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:m.canPlay.kaltura,lazyPlayer:(0,d.lazy)(()=>Rn(()=>import("./Kaltura-CTfSVvVH.js").then(v=>v.K),[]))},{key:"file",name:"FilePlayer",canPlay:m.canPlay.file,canEnablePIP:v=>m.canPlay.file(v)&&(document.pictureInPictureEnabled||(0,d.supportsWebKitPresentationMode)())&&!m.AUDIO_EXTENSIONS.test(v),lazyPlayer:(0,d.lazy)(()=>Rn(()=>import("./FilePlayer-D5nkPlNZ.js").then(v=>v.F),[]))}];return jg}var Lw=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function i6(n,e){return!!(n===e||Lw(n)&&Lw(e))}function s6(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!i6(n[t],e[t]))return!1;return!0}function a6(n,e){e===void 0&&(e=s6);var t,r=[],a,o=!1;function u(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];return o&&t===this&&e(h,r)||(a=n.apply(this,h),o=!0,t=this,r=h),a}return u}const o6=Object.freeze(Object.defineProperty({__proto__:null,default:a6},Symbol.toStringTag,{value:"Module"})),l6=yO(o6);var Bg,Uw;function HR(){if(Uw)return Bg;Uw=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(o,u){if(o===u)return!0;if(o&&u&&typeof o=="object"&&typeof u=="object"){if(o.constructor!==u.constructor)return!1;var h,d,m;if(Array.isArray(o)){if(h=o.length,h!=u.length)return!1;for(d=h;d--!==0;)if(!a(o[d],u[d]))return!1;return!0}var _;if(e&&o instanceof Map&&u instanceof Map){if(o.size!==u.size)return!1;for(_=o.entries();!(d=_.next()).done;)if(!u.has(d.value[0]))return!1;for(_=o.entries();!(d=_.next()).done;)if(!a(d.value[1],u.get(d.value[0])))return!1;return!0}if(t&&o instanceof Set&&u instanceof Set){if(o.size!==u.size)return!1;for(_=o.entries();!(d=_.next()).done;)if(!u.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(u)){if(h=o.length,h!=u.length)return!1;for(d=h;d--!==0;)if(o[d]!==u[d])return!1;return!0}if(o.constructor===RegExp)return o.source===u.source&&o.flags===u.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof u.valueOf=="function")return o.valueOf()===u.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof u.toString=="function")return o.toString()===u.toString();if(m=Object.keys(o),h=m.length,h!==Object.keys(u).length)return!1;for(d=h;d--!==0;)if(!Object.prototype.hasOwnProperty.call(u,m[d]))return!1;if(n&&o instanceof Element)return!1;for(d=h;d--!==0;)if(!((m[d]==="_owner"||m[d]==="__v"||m[d]==="__o")&&o.$$typeof)&&!a(o[m[d]],u[m[d]]))return!1;return!0}return o!==o&&u!==u}return Bg=function(u,h){try{return a(u,h)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},Bg}var Fg={exports:{}},qg,zw;function u6(){if(zw)return qg;zw=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qg=n,qg}var Hg,jw;function c6(){if(jw)return Hg;jw=1;var n=u6();function e(){}function t(){}return t.resetWarningCache=e,Hg=function(){function r(u,h,d,m,_,v){if(v!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Hg}var Bw;function h6(){return Bw||(Bw=1,Fg.exports=c6()()),Fg.exports}var Gg,Fw;function GR(){if(Fw)return Gg;Fw=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,u=(A,R)=>{for(var V in R)e(A,V,{get:R[V],enumerable:!0})},h=(A,R,V,U)=>{if(R&&typeof R=="object"||typeof R=="function")for(let j of r(R))!o.call(A,j)&&j!==V&&e(A,j,{get:()=>R[j],enumerable:!(U=t(R,j))||U.enumerable});return A},d=(A,R,V)=>(V=A!=null?n(a(A)):{},h(!A||!A.__esModule?e(V,"default",{value:A,enumerable:!0}):V,A)),m=A=>h(e({},"__esModule",{value:!0}),A),_={};u(_,{defaultProps:()=>D,propTypes:()=>F}),Gg=m(_);var v=d(h6());const{string:T,bool:w,number:C,array:S,oneOfType:x,shape:O,object:k,func:M,node:z}=v.default,F={url:x([T,S,k]),playing:w,loop:w,controls:w,volume:C,muted:w,playbackRate:C,width:x([T,C]),height:x([T,C]),style:k,progressInterval:C,playsinline:w,pip:w,stopOnUnmount:w,light:x([w,T,k]),playIcon:z,previewTabIndex:C,previewAriaLabel:T,fallback:z,oEmbedUrl:T,wrapper:x([T,M,O({render:M.isRequired})]),config:O({soundcloud:O({options:k}),youtube:O({playerVars:k,embedOptions:k,onUnstarted:M}),facebook:O({appId:T,version:T,playerId:T,attributes:k}),dailymotion:O({params:k}),vimeo:O({playerOptions:k,title:T}),mux:O({attributes:k,version:T}),file:O({attributes:k,tracks:S,forceVideo:w,forceAudio:w,forceHLS:w,forceSafariHLS:w,forceDisableHls:w,forceDASH:w,forceFLV:w,hlsOptions:k,hlsVersion:T,dashVersion:T,flvVersion:T}),wistia:O({options:k,playerId:T,customControls:S}),mixcloud:O({options:k}),twitch:O({options:k,playerId:T}),vidyard:O({options:k})}),onReady:M,onStart:M,onPlay:M,onPause:M,onBuffer:M,onBufferEnd:M,onEnded:M,onError:M,onDuration:M,onSeek:M,onPlaybackRateChange:M,onPlaybackQualityChange:M,onProgress:M,onClickPreview:M,onEnablePIP:M,onDisablePIP:M},G=()=>{},D={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:G},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:G,onStart:G,onPlay:G,onPause:G,onBuffer:G,onBufferEnd:G,onEnded:G,onError:G,onDuration:G,onSeek:G,onPlaybackRateChange:G,onPlaybackQualityChange:G,onProgress:G,onClickPreview:G,onEnablePIP:G,onDisablePIP:G};return Gg}var $g,qw;function f6(){if(qw)return $g;qw=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,u=(M,z,F)=>z in M?e(M,z,{enumerable:!0,configurable:!0,writable:!0,value:F}):M[z]=F,h=(M,z)=>{for(var F in z)e(M,F,{get:z[F],enumerable:!0})},d=(M,z,F,G)=>{if(z&&typeof z=="object"||typeof z=="function")for(let D of r(z))!o.call(M,D)&&D!==F&&e(M,D,{get:()=>z[D],enumerable:!(G=t(z,D))||G.enumerable});return M},m=(M,z,F)=>(F=M!=null?n(a(M)):{},d(!M||!M.__esModule?e(F,"default",{value:M,enumerable:!0}):F,M)),_=M=>d(e({},"__esModule",{value:!0}),M),v=(M,z,F)=>(u(M,typeof z!="symbol"?z+"":z,F),F),T={};h(T,{default:()=>k}),$g=_(T);var w=m(Ul()),C=m(HR()),S=GR(),x=op();const O=5e3;class k extends w.Component{constructor(){super(...arguments),v(this,"mounted",!1),v(this,"isReady",!1),v(this,"isPlaying",!1),v(this,"isLoading",!0),v(this,"loadOnReady",null),v(this,"startOnPlay",!0),v(this,"seekOnPlay",null),v(this,"onDurationCalled",!1),v(this,"handlePlayerMount",z=>{if(this.player){this.progress();return}this.player=z,this.player.load(this.props.url),this.progress()}),v(this,"getInternalPlayer",z=>this.player?this.player[z]:null),v(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const z=this.getCurrentTime()||0,F=this.getSecondsLoaded(),G=this.getDuration();if(G){const D={playedSeconds:z,played:z/G};F!==null&&(D.loadedSeconds=F,D.loaded=F/G),(D.playedSeconds!==this.prevPlayed||D.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(D),this.prevPlayed=D.playedSeconds,this.prevLoaded=D.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),v(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:z,playing:F,volume:G,muted:D}=this.props;z(),!D&&G!==null&&this.player.setVolume(G),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):F&&this.player.play(),this.handleDurationCheck()}),v(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:z,onPlay:F,playbackRate:G}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&G!==1&&this.player.setPlaybackRate(G),z(),this.startOnPlay=!1),F(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),v(this,"handlePause",z=>{this.isPlaying=!1,this.isLoading||this.props.onPause(z)}),v(this,"handleEnded",()=>{const{activePlayer:z,loop:F,onEnded:G}=this.props;z.loopOnEnded&&F&&this.seekTo(0),F||(this.isPlaying=!1,G())}),v(this,"handleError",(...z)=>{this.isLoading=!1,this.props.onError(...z)}),v(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const z=this.getDuration();z?this.onDurationCalled||(this.props.onDuration(z),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),v(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(z){if(!this.player)return;const{url:F,playing:G,volume:D,muted:A,playbackRate:R,pip:V,loop:U,activePlayer:j,disableDeferredLoading:N}=this.props;if(!(0,C.default)(z.url,F)){if(this.isLoading&&!j.forceLoad&&!N&&!(0,x.isMediaStream)(F)){console.warn(`ReactPlayer: the attempt to load ${F} is being deferred until the player has loaded`),this.loadOnReady=F;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(F,this.isReady)}!z.playing&&G&&!this.isPlaying&&this.player.play(),z.playing&&!G&&this.isPlaying&&this.player.pause(),!z.pip&&V&&this.player.enablePIP&&this.player.enablePIP(),z.pip&&!V&&this.player.disablePIP&&this.player.disablePIP(),z.volume!==D&&D!==null&&this.player.setVolume(D),z.muted!==A&&(A?this.player.mute():(this.player.unmute(),D!==null&&setTimeout(()=>this.player.setVolume(D)))),z.playbackRate!==R&&this.player.setPlaybackRate&&this.player.setPlaybackRate(R),z.loop!==U&&this.player.setLoop&&this.player.setLoop(U)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(z,F,G){if(!this.isReady){z!==0&&(this.seekOnPlay=z,setTimeout(()=>{this.seekOnPlay=null},O));return}if(F?F==="fraction":z>0&&z<1){const A=this.player.getDuration();if(!A){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(A*z,G);return}this.player.seekTo(z,G)}render(){const z=this.props.activePlayer;return z?w.default.createElement(z,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}return v(k,"displayName","Player"),v(k,"propTypes",S.propTypes),v(k,"defaultProps",S.defaultProps),$g}var Kg,Hw;function d6(){if(Hw)return Kg;Hw=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,u=(U,j,N)=>j in U?e(U,j,{enumerable:!0,configurable:!0,writable:!0,value:N}):U[j]=N,h=(U,j)=>{for(var N in j)e(U,N,{get:j[N],enumerable:!0})},d=(U,j,N,ne)=>{if(j&&typeof j=="object"||typeof j=="function")for(let fe of r(j))!o.call(U,fe)&&fe!==N&&e(U,fe,{get:()=>j[fe],enumerable:!(ne=t(j,fe))||ne.enumerable});return U},m=(U,j,N)=>(N=U!=null?n(a(U)):{},d(!U||!U.__esModule?e(N,"default",{value:U,enumerable:!0}):N,U)),_=U=>d(e({},"__esModule",{value:!0}),U),v=(U,j,N)=>(u(U,typeof j!="symbol"?j+"":j,N),N),T={};h(T,{createReactPlayer:()=>V}),Kg=_(T);var w=m(Ul()),C=m(qR()),S=m(l6),x=m(HR()),O=GR(),k=op(),M=m(f6());const z=(0,k.lazy)(()=>Rn(()=>import("./Preview-ItGT-eU3.js").then(U=>U.P),[])),F=typeof window<"u"&&window.document&&typeof document<"u",G=typeof hg<"u"&&hg.window&&hg.window.document,D=Object.keys(O.propTypes),A=F||G?w.Suspense:()=>null,R=[],V=(U,j)=>{var N;return N=class extends w.Component{constructor(){super(...arguments),v(this,"state",{showPreview:!!this.props.light}),v(this,"references",{wrapper:ne=>{this.wrapper=ne},player:ne=>{this.player=ne}}),v(this,"handleClickPreview",ne=>{this.setState({showPreview:!1}),this.props.onClickPreview(ne)}),v(this,"showPreview",()=>{this.setState({showPreview:!0})}),v(this,"getDuration",()=>this.player?this.player.getDuration():null),v(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),v(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),v(this,"getInternalPlayer",(ne="player")=>this.player?this.player.getInternalPlayer(ne):null),v(this,"seekTo",(ne,fe,X)=>{if(!this.player)return null;this.player.seekTo(ne,fe,X)}),v(this,"handleReady",()=>{this.props.onReady(this)}),v(this,"getActivePlayer",(0,S.default)(ne=>{for(const fe of[...R,...U])if(fe.canPlay(ne))return fe;return j||null})),v(this,"getConfig",(0,S.default)((ne,fe)=>{const{config:X}=this.props;return C.default.all([O.defaultProps.config,O.defaultProps.config[fe]||{},X,X[fe]||{}])})),v(this,"getAttributes",(0,S.default)(ne=>(0,k.omit)(this.props,D))),v(this,"renderActivePlayer",ne=>{if(!ne)return null;const fe=this.getActivePlayer(ne);if(!fe)return null;const X=this.getConfig(ne,fe.key);return w.default.createElement(M.default,{...this.props,key:fe.key,ref:this.references.player,config:X,activePlayer:fe.lazyPlayer||fe,onReady:this.handleReady})})}shouldComponentUpdate(ne,fe){return!(0,x.default)(this.props,ne)||!(0,x.default)(this.state,fe)}componentDidUpdate(ne){const{light:fe}=this.props;!ne.light&&fe&&this.setState({showPreview:!0}),ne.light&&!fe&&this.setState({showPreview:!1})}renderPreview(ne){if(!ne)return null;const{light:fe,playIcon:X,previewTabIndex:ue,oEmbedUrl:pe,previewAriaLabel:he}=this.props;return w.default.createElement(z,{url:ne,light:fe,playIcon:X,previewTabIndex:ue,previewAriaLabel:he,oEmbedUrl:pe,onClick:this.handleClickPreview})}render(){const{url:ne,style:fe,width:X,height:ue,fallback:pe,wrapper:he}=this.props,{showPreview:L}=this.state,ee=this.getAttributes(ne),oe=typeof he=="string"?this.references.wrapper:void 0;return w.default.createElement(he,{ref:oe,style:{...fe,width:X,height:ue},...ee},w.default.createElement(A,{fallback:pe},L?this.renderPreview(ne):this.renderActivePlayer(ne)))}},v(N,"displayName","ReactPlayer"),v(N,"propTypes",O.propTypes),v(N,"defaultProps",O.defaultProps),v(N,"addCustomPlayer",ne=>{R.push(ne)}),v(N,"removeCustomPlayers",()=>{R.length=0}),v(N,"canPlay",ne=>{for(const fe of[...R,...U])if(fe.canPlay(ne))return!0;return!1}),v(N,"canEnablePIP",ne=>{for(const fe of[...R,...U])if(fe.canEnablePIP&&fe.canEnablePIP(ne))return!0;return!1}),N};return Kg}var Yg,Gw;function p6(){if(Gw)return Yg;Gw=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,u=(S,x)=>{for(var O in x)e(S,O,{get:x[O],enumerable:!0})},h=(S,x,O,k)=>{if(x&&typeof x=="object"||typeof x=="function")for(let M of r(x))!o.call(S,M)&&M!==O&&e(S,M,{get:()=>x[M],enumerable:!(k=t(x,M))||k.enumerable});return S},d=(S,x,O)=>(O=S!=null?n(a(S)):{},h(!S||!S.__esModule?e(O,"default",{value:S,enumerable:!0}):O,S)),m=S=>h(e({},"__esModule",{value:!0}),S),_={};u(_,{default:()=>C}),Yg=m(_);var v=d(r6()),T=d6();const w=v.default[v.default.length-1];var C=(0,T.createReactPlayer)(v.default,w);return Yg}var m6=p6();const g6=fS(m6);var $R={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$w=Vs.createContext&&Vs.createContext($R),_6=["attr","size","title"];function y6(n,e){if(n==null)return{};var t=v6(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function v6(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Rd(){return Rd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Rd.apply(this,arguments)}function Kw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Id(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kw(Object(t),!0).forEach(function(r){T6(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function T6(n,e,t){return e=E6(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function E6(n){var e=b6(n,"string");return typeof e=="symbol"?e:e+""}function b6(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function KR(n){return n&&n.map((e,t)=>Vs.createElement(e.tag,Id({key:t},e.attr),KR(e.child)))}function YR(n){return e=>Vs.createElement(w6,Rd({attr:Id({},n.attr)},e),KR(n.child))}function w6(n){var e=t=>{var{attr:r,size:a,title:o}=n,u=y6(n,_6),h=a||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Vs.createElement("svg",Rd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:Id(Id({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Vs.createElement("title",null,o),n.children)};return $w!==void 0?Vs.createElement($w.Consumer,null,t=>e(t)):e($R)}function S6(n){return YR({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(n)}function A6(n){return YR({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(n)}const R6=({clickedItem:n})=>{const e=W.useRef(null),[t,r]=W.useState(!1),a=()=>{t?(e.current?.getInternalPlayer()?.pauseVideo?.(),r(!1)):(e.current?.getInternalPlayer()?.playVideo?.(),r(!0))};return $.jsxs("div",{className:"videoPlayer",children:[$.jsxs("div",{className:"videoPlayerItem",children:[$.jsx(g6,{ref:e,url:n.video,width:"100%",height:"100%",playing:t,controls:!1}),$.jsx("button",{className:"customPlayButton",onClick:a,children:t?$.jsx(S6,{}):$.jsx(A6,{})})]}),$.jsx("p",{children:n.name}),$.jsx("div",{className:"line"})]})},I6=({list:n,all:e})=>{const t=ho(),r=()=>{t("/courses",{state:{clickedItem:n,all:e}}),window.scrollTo({top:0,behavior:"smooth"})};return $.jsxs("div",{className:"videoListParent",onClick:r,children:[$.jsx("img",{className:"videoListItem",src:n.image,alt:n.name}),$.jsx("p",{children:n.name})]})},C6=()=>{const n=Dr(),e=ho(),t=n.state?.clickedItem,r=n.state?.all||[];if(W.useEffect(()=>{t||e("/")},[t,e]),!t)return null;const a=r.filter(o=>o.id!==t.id);return $.jsxs("div",{className:"videoPage",children:[$.jsx(R6,{clickedItem:t}),$.jsx("div",{className:"videoListInPage",children:a.map(o=>$.jsx(I6,{list:o,all:r}))})]})},O6=({item:n})=>{const e=ho(),{currentUser:t}=W.useContext(ih),r=a=>{t?e("/courses",{state:{clickedItem:a,all:n}}):e("/login",{state:{from:"/course"}})};return $.jsxs("div",{className:"videoBlock",children:[$.jsx("h2",{className:"title",children:"Explore Courses"}),$.jsx("div",{className:"videoBlockchild",children:n.map(a=>$.jsx("div",{onClick:()=>r(a),children:$.jsx(ZU,{image:a.image,name:a.name})},a.id))})]})};function Ui(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function XR(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Qn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},xl={duration:.5,overwrite:!1,delay:0},ev,an,ut,gr=1e8,rt=1/gr,k_=Math.PI*2,P6=k_/4,D6=0,QR=Math.sqrt,x6=Math.cos,N6=Math.sin,Wt=function(e){return typeof e=="string"},yt=function(e){return typeof e=="function"},Qi=function(e){return typeof e=="number"},tv=function(e){return typeof e>"u"},ci=function(e){return typeof e=="object"},Dn=function(e){return e!==!1},nv=function(){return typeof window<"u"},jf=function(e){return yt(e)||Wt(e)},WR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},mn=Array.isArray,V_=/(?:-?\.?\d|\.)+/gi,ZR=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_l=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Xg=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,JR=/[+-]=-?[.\d]+/,eI=/[^,'"\[\]\s]+/gi,M6=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ht,Wr,L_,rv,Wn={},Cd={},tI,nI=function(e){return(Cd=Nl(e,Wn))&&kn},iv=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Uc=function(e,t){return!t&&console.warn(e)},rI=function(e,t){return e&&(Wn[e]=t)&&Cd&&(Cd[e]=t)||Wn},zc=function(){return 0},k6={suppressEvents:!0,isStart:!0,kill:!1},Jf={suppressEvents:!0,kill:!1},V6={suppressEvents:!0},sv={},Fs=[],U_={},iI,Gn={},Qg={},Yw=30,ed=[],av="",ov=function(e){var t=e[0],r,a;if(ci(t)||yt(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(a=ed.length;a--&&!ed[a].targetTest(t););r=ed[a]}for(a=e.length;a--;)e[a]&&(e[a]._gsap||(e[a]._gsap=new CI(e[a],r)))||e.splice(a,1);return e},Ja=function(e){return e._gsap||ov(_r(e))[0]._gsap},sI=function(e,t,r){return(r=e[t])&&yt(r)?e[t]():tv(r)&&e.getAttribute&&e.getAttribute(t)||r},xn=function(e,t){return(e=e.split(",")).forEach(t)||e},Rt=function(e){return Math.round(e*1e5)/1e5||0},Nt=function(e){return Math.round(e*1e7)/1e7||0},wl=function(e,t){var r=t.charAt(0),a=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+a:r==="-"?e-a:r==="*"?e*a:e/a},L6=function(e,t){for(var r=t.length,a=0;e.indexOf(t[a])<0&&++a<r;);return a<r},Od=function(){var e=Fs.length,t=Fs.slice(0),r,a;for(U_={},Fs.length=0,r=0;r<e;r++)a=t[r],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},lv=function(e){return!!(e._initted||e._startAt||e.add)},aI=function(e,t,r,a){Fs.length&&!an&&Od(),e.render(t,r,!!(an&&t<0&&lv(e))),Fs.length&&!an&&Od()},oI=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(eI).length<2?t:Wt(e)?e.trim():e},lI=function(e){return e},Zn=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},U6=function(e){return function(t,r){for(var a in r)a in t||a==="duration"&&e||a==="ease"||(t[a]=r[a])}},Nl=function(e,t){for(var r in t)e[r]=t[r];return e},Xw=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ci(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},Pd=function(e,t){var r={},a;for(a in e)a in t||(r[a]=e[a]);return r},Ac=function(e){var t=e.parent||ht,r=e.keyframes?U6(mn(e.keyframes)):Zn;if(Dn(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},z6=function(e,t){for(var r=e.length,a=r===t.length;a&&r--&&e[r]===t[r];);return r<0},uI=function(e,t,r,a,o){var u=e[a],h;if(o)for(h=t[o];u&&u[o]>h;)u=u._prev;return u?(t._next=u._next,u._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[a]=t,t._prev=u,t.parent=t._dp=e,t},lp=function(e,t,r,a){r===void 0&&(r="_first"),a===void 0&&(a="_last");var o=t._prev,u=t._next;o?o._next=u:e[r]===t&&(e[r]=u),u?u._prev=o:e[a]===t&&(e[a]=o),t._next=t._prev=t.parent=null},Zs=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},eo=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},j6=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},z_=function(e,t,r,a){return e._startAt&&(an?e._startAt.revert(Jf):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,a))},B6=function n(e){return!e||e._ts&&n(e.parent)},Qw=function(e){return e._repeat?Ml(e._tTime,e=e.duration()+e._rDelay)*e:0},Ml=function(e,t){var r=Math.floor(e=Nt(e/t));return e&&r===e?r-1:r},Dd=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},up=function(e){return e._end=Nt(e._start+(e._tDur/Math.abs(e._ts||e._rts||rt)||0))},cp=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Nt(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),up(e),r._dirty||eo(r,e)),e},cI=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=Dd(e.rawTime(),t),(!t._dur||sh(0,t.totalDuration(),r)-t._tTime>rt)&&t.render(r,!0)),eo(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-rt}},Zr=function(e,t,r,a){return t.parent&&Zs(t),t._start=Nt((Qi(r)?r:r||e!==ht?dr(e,r,t):e._time)+t._delay),t._end=Nt(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),uI(e,t,"_first","_last",e._sort?"_start":0),j_(t)||(e._recent=t),a||cI(e,t),e._ts<0&&cp(e,e._tTime),e},hI=function(e,t){return(Wn.ScrollTrigger||iv("scrollTrigger",t))&&Wn.ScrollTrigger.create(t,e)},fI=function(e,t,r,a,o){if(cv(e,t,o),!e._initted)return 1;if(!r&&e._pt&&!an&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&iI!==$n.frame)return Fs.push(e),e._lazy=[o,a],1},F6=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},j_=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},q6=function(e,t,r,a){var o=e.ratio,u=t<0||!t&&(!e._start&&F6(e)&&!(!e._initted&&j_(e))||(e._ts<0||e._dp._ts<0)&&!j_(e))?0:1,h=e._rDelay,d=0,m,_,v;if(h&&e._repeat&&(d=sh(0,e._tDur,t),_=Ml(d,h),e._yoyo&&_&1&&(u=1-u),_!==Ml(e._tTime,h)&&(o=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==o||an||a||e._zTime===rt||!t&&e._zTime){if(!e._initted&&fI(e,t,a,r,d))return;for(v=e._zTime,e._zTime=t||(r?rt:0),r||(r=t&&!v),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=d,m=e._pt;m;)m.r(u,m.d),m=m._next;t<0&&z_(e,t,r,!0),e._onUpdate&&!r&&Yn(e,"onUpdate"),d&&e._repeat&&!r&&e.parent&&Yn(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&Zs(e,1),!r&&!an&&(Yn(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},H6=function(e,t,r){var a;if(r>t)for(a=e._first;a&&a._start<=r;){if(a.data==="isPause"&&a._start>t)return a;a=a._next}else for(a=e._last;a&&a._start>=r;){if(a.data==="isPause"&&a._start<t)return a;a=a._prev}},kl=function(e,t,r,a){var o=e._repeat,u=Nt(t)||0,h=e._tTime/e._tDur;return h&&!a&&(e._time*=u/e._dur),e._dur=u,e._tDur=o?o<0?1e10:Nt(u*(o+1)+e._rDelay*o):u,h>0&&!a&&cp(e,e._tTime=e._tDur*h),e.parent&&up(e),r||eo(e.parent,e),e},Ww=function(e){return e instanceof bn?eo(e):kl(e,e._dur)},G6={_start:0,endTime:zc,totalDuration:zc},dr=function n(e,t,r){var a=e.labels,o=e._recent||G6,u=e.duration()>=gr?o.endTime(!1):e._dur,h,d,m;return Wt(t)&&(isNaN(t)||t in a)?(d=t.charAt(0),m=t.substr(-1)==="%",h=t.indexOf("="),d==="<"||d===">"?(h>=0&&(t=t.replace(/=/,"")),(d==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(t.substr(1))||0)*(m?(h<0?o:r).totalDuration()/100:1)):h<0?(t in a||(a[t]=u),a[t]):(d=parseFloat(t.charAt(h-1)+t.substr(h+1)),m&&r&&(d=d/100*(mn(r)?r[0]:r).totalDuration()),h>1?n(e,t.substr(0,h-1),r)+d:u+d)):t==null?u:+t},Rc=function(e,t,r){var a=Qi(t[1]),o=(a?2:1)+(e<2?0:1),u=t[o],h,d;if(a&&(u.duration=t[1]),u.parent=r,e){for(h=u,d=r;d&&!("immediateRender"in h);)h=d.vars.defaults||{},d=Dn(d.vars.inherit)&&d.parent;u.immediateRender=Dn(h.immediateRender),e<2?u.runBackwards=1:u.startAt=t[o-1]}return new xt(t[0],u,t[o+1])},sa=function(e,t){return e||e===0?t(e):t},sh=function(e,t,r){return r<e?e:r>t?t:r},pn=function(e,t){return!Wt(e)||!(t=M6.exec(e))?"":t[1]},$6=function(e,t,r){return sa(r,function(a){return sh(e,t,a)})},B_=[].slice,dI=function(e,t){return e&&ci(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ci(e[0]))&&!e.nodeType&&e!==Wr},K6=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(a){var o;return Wt(a)&&!t||dI(a,1)?(o=r).push.apply(o,_r(a)):r.push(a)})||r},_r=function(e,t,r){return ut&&!t&&ut.selector?ut.selector(e):Wt(e)&&!r&&(L_||!Vl())?B_.call((t||rv).querySelectorAll(e),0):mn(e)?K6(e,r):dI(e)?B_.call(e,0):e?[e]:[]},F_=function(e){return e=_r(e)[0]||Uc("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return _r(t,r.querySelectorAll?r:r===e?Uc("Invalid scope")||rv.createElement("div"):e)}},pI=function(e){return e.sort(function(){return .5-Math.random()})},mI=function(e){if(yt(e))return e;var t=ci(e)?e:{each:e},r=to(t.ease),a=t.from||0,o=parseFloat(t.base)||0,u={},h=a>0&&a<1,d=isNaN(a)||h,m=t.axis,_=a,v=a;return Wt(a)?_=v={center:.5,edges:.5,end:1}[a]||0:!h&&d&&(_=a[0],v=a[1]),function(T,w,C){var S=(C||t).length,x=u[S],O,k,M,z,F,G,D,A,R;if(!x){if(R=t.grid==="auto"?0:(t.grid||[1,gr])[1],!R){for(D=-gr;D<(D=C[R++].getBoundingClientRect().left)&&R<S;);R<S&&R--}for(x=u[S]=[],O=d?Math.min(R,S)*_-.5:a%R,k=R===gr?0:d?S*v/R-.5:a/R|0,D=0,A=gr,G=0;G<S;G++)M=G%R-O,z=k-(G/R|0),x[G]=F=m?Math.abs(m==="y"?z:M):QR(M*M+z*z),F>D&&(D=F),F<A&&(A=F);a==="random"&&pI(x),x.max=D-A,x.min=A,x.v=S=(parseFloat(t.amount)||parseFloat(t.each)*(R>S?S-1:m?m==="y"?S/R:R:Math.max(R,S/R))||0)*(a==="edges"?-1:1),x.b=S<0?o-S:o,x.u=pn(t.amount||t.each)||0,r=r&&S<0?AI(r):r}return S=(x[T]-x.min)/x.max||0,Nt(x.b+(r?r(S):S)*x.v)+x.u}},q_=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var a=Nt(Math.round(parseFloat(r)/e)*e*t);return(a-a%1)/t+(Qi(r)?0:pn(r))}},gI=function(e,t){var r=mn(e),a,o;return!r&&ci(e)&&(a=r=e.radius||gr,e.values?(e=_r(e.values),(o=!Qi(e[0]))&&(a*=a)):e=q_(e.increment)),sa(t,r?yt(e)?function(u){return o=e(u),Math.abs(o-u)<=a?o:u}:function(u){for(var h=parseFloat(o?u.x:u),d=parseFloat(o?u.y:0),m=gr,_=0,v=e.length,T,w;v--;)o?(T=e[v].x-h,w=e[v].y-d,T=T*T+w*w):T=Math.abs(e[v]-h),T<m&&(m=T,_=v);return _=!a||m<=a?e[_]:u,o||_===u||Qi(u)?_:_+pn(u)}:q_(e))},_I=function(e,t,r,a){return sa(mn(e)?!t:r===!0?!!(r=0):!a,function(){return mn(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(a=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*a)/a})},Y6=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(a){return t.reduce(function(o,u){return u(o)},a)}},X6=function(e,t){return function(r){return e(parseFloat(r))+(t||pn(r))}},Q6=function(e,t,r){return vI(e,t,0,1,r)},yI=function(e,t,r){return sa(r,function(a){return e[~~t(a)]})},W6=function n(e,t,r){var a=t-e;return mn(e)?yI(e,n(0,e.length),t):sa(r,function(o){return(a+(o-e)%a)%a+e})},Z6=function n(e,t,r){var a=t-e,o=a*2;return mn(e)?yI(e,n(0,e.length-1),t):sa(r,function(u){return u=(o+(u-e)%o)%o||0,e+(u>a?o-u:u)})},jc=function(e){for(var t=0,r="",a,o,u,h;~(a=e.indexOf("random(",t));)u=e.indexOf(")",a),h=e.charAt(a+7)==="[",o=e.substr(a+7,u-a-7).match(h?eI:V_),r+=e.substr(t,a-t)+_I(h?o:+o[0],h?0:+o[1],+o[2]||1e-5),t=u+1;return r+e.substr(t,e.length-t)},vI=function(e,t,r,a,o){var u=t-e,h=a-r;return sa(o,function(d){return r+((d-e)/u*h||0)})},J6=function n(e,t,r,a){var o=isNaN(e+t)?0:function(w){return(1-w)*e+w*t};if(!o){var u=Wt(e),h={},d,m,_,v,T;if(r===!0&&(a=1)&&(r=null),u)e={p:e},t={p:t};else if(mn(e)&&!mn(t)){for(_=[],v=e.length,T=v-2,m=1;m<v;m++)_.push(n(e[m-1],e[m]));v--,o=function(C){C*=v;var S=Math.min(T,~~C);return _[S](C-S)},r=t}else a||(e=Nl(mn(e)?[]:{},e));if(!_){for(d in t)uv.call(h,e,d,"get",t[d]);o=function(C){return dv(C,h)||(u?e.p:e)}}}return sa(r,o)},Zw=function(e,t,r){var a=e.labels,o=gr,u,h,d;for(u in a)h=a[u]-t,h<0==!!r&&h&&o>(h=Math.abs(h))&&(d=u,o=h);return d},Yn=function(e,t,r){var a=e.vars,o=a[t],u=ut,h=e._ctx,d,m,_;if(o)return d=a[t+"Params"],m=a.callbackScope||e,r&&Fs.length&&Od(),h&&(ut=h),_=d?o.apply(m,d):o.call(m),ut=u,_},dc=function(e){return Zs(e),e.scrollTrigger&&e.scrollTrigger.kill(!!an),e.progress()<1&&Yn(e,"onInterrupt"),e},yl,TI=[],EI=function(e){if(e)if(e=!e.name&&e.default||e,nv()||e.headless){var t=e.name,r=yt(e),a=t&&!r&&e.init?function(){this._props=[]}:e,o={init:zc,render:dv,add:uv,kill:m3,modifier:p3,rawVars:0},u={targetTest:0,get:0,getSetter:fv,aliases:{},register:0};if(Vl(),e!==a){if(Gn[t])return;Zn(a,Zn(Pd(e,o),u)),Nl(a.prototype,Nl(o,Pd(e,u))),Gn[a.prop=t]=a,e.targetTest&&(ed.push(a),sv[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}rI(t,a),e.register&&e.register(kn,a,Nn)}else TI.push(e)},nt=255,pc={aqua:[0,nt,nt],lime:[0,nt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,nt],navy:[0,0,128],white:[nt,nt,nt],olive:[128,128,0],yellow:[nt,nt,0],orange:[nt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[nt,0,0],pink:[nt,192,203],cyan:[0,nt,nt],transparent:[nt,nt,nt,0]},Wg=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*nt+.5|0},bI=function(e,t,r){var a=e?Qi(e)?[e>>16,e>>8&nt,e&nt]:0:pc.black,o,u,h,d,m,_,v,T,w,C;if(!a){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),pc[e])a=pc[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),u=e.charAt(2),h=e.charAt(3),e="#"+o+o+u+u+h+h+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return a=parseInt(e.substr(1,6),16),[a>>16,a>>8&nt,a&nt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),a=[e>>16,e>>8&nt,e&nt]}else if(e.substr(0,3)==="hsl"){if(a=C=e.match(V_),!t)d=+a[0]%360/360,m=+a[1]/100,_=+a[2]/100,u=_<=.5?_*(m+1):_+m-_*m,o=_*2-u,a.length>3&&(a[3]*=1),a[0]=Wg(d+1/3,o,u),a[1]=Wg(d,o,u),a[2]=Wg(d-1/3,o,u);else if(~e.indexOf("="))return a=e.match(ZR),r&&a.length<4&&(a[3]=1),a}else a=e.match(V_)||pc.transparent;a=a.map(Number)}return t&&!C&&(o=a[0]/nt,u=a[1]/nt,h=a[2]/nt,v=Math.max(o,u,h),T=Math.min(o,u,h),_=(v+T)/2,v===T?d=m=0:(w=v-T,m=_>.5?w/(2-v-T):w/(v+T),d=v===o?(u-h)/w+(u<h?6:0):v===u?(h-o)/w+2:(o-u)/w+4,d*=60),a[0]=~~(d+.5),a[1]=~~(m*100+.5),a[2]=~~(_*100+.5)),r&&a.length<4&&(a[3]=1),a},wI=function(e){var t=[],r=[],a=-1;return e.split(qs).forEach(function(o){var u=o.match(_l)||[];t.push.apply(t,u),r.push(a+=u.length+1)}),t.c=r,t},Jw=function(e,t,r){var a="",o=(e+a).match(qs),u=t?"hsla(":"rgba(",h=0,d,m,_,v;if(!o)return e;if(o=o.map(function(T){return(T=bI(T,t,1))&&u+(t?T[0]+","+T[1]+"%,"+T[2]+"%,"+T[3]:T.join(","))+")"}),r&&(_=wI(e),d=r.c,d.join(a)!==_.c.join(a)))for(m=e.replace(qs,"1").split(_l),v=m.length-1;h<v;h++)a+=m[h]+(~d.indexOf(h)?o.shift()||u+"0,0,0,0)":(_.length?_:o.length?o:r).shift());if(!m)for(m=e.split(qs),v=m.length-1;h<v;h++)a+=m[h]+o[h];return a+m[v]},qs=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in pc)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),e3=/hsl[a]?\(/,SI=function(e){var t=e.join(" "),r;if(qs.lastIndex=0,qs.test(t))return r=e3.test(t),e[1]=Jw(e[1],r),e[0]=Jw(e[0],r,wI(e[1])),!0},Bc,$n=function(){var n=Date.now,e=500,t=33,r=n(),a=r,o=1e3/240,u=o,h=[],d,m,_,v,T,w,C=function S(x){var O=n()-a,k=x===!0,M,z,F,G;if((O>e||O<0)&&(r+=O-t),a+=O,F=a-r,M=F-u,(M>0||k)&&(G=++v.frame,T=F-v.time*1e3,v.time=F=F/1e3,u+=M+(M>=o?4:o-M),z=1),k||(d=m(S)),z)for(w=0;w<h.length;w++)h[w](F,T,G,x)};return v={time:0,frame:0,tick:function(){C(!0)},deltaRatio:function(x){return T/(1e3/(x||60))},wake:function(){tI&&(!L_&&nv()&&(Wr=L_=window,rv=Wr.document||{},Wn.gsap=kn,(Wr.gsapVersions||(Wr.gsapVersions=[])).push(kn.version),nI(Cd||Wr.GreenSockGlobals||!Wr.gsap&&Wr||{}),TI.forEach(EI)),_=typeof requestAnimationFrame<"u"&&requestAnimationFrame,d&&v.sleep(),m=_||function(x){return setTimeout(x,u-v.time*1e3+1|0)},Bc=1,C(2))},sleep:function(){(_?cancelAnimationFrame:clearTimeout)(d),Bc=0,m=zc},lagSmoothing:function(x,O){e=x||1/0,t=Math.min(O||33,e)},fps:function(x){o=1e3/(x||240),u=v.time*1e3+o},add:function(x,O,k){var M=O?function(z,F,G,D){x(z,F,G,D),v.remove(M)}:x;return v.remove(x),h[k?"unshift":"push"](M),Vl(),M},remove:function(x,O){~(O=h.indexOf(x))&&h.splice(O,1)&&w>=O&&w--},_listeners:h},v}(),Vl=function(){return!Bc&&$n.wake()},Ue={},t3=/^[\d.\-M][\d.\-,\s]/,n3=/["']/g,r3=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),a=r[0],o=1,u=r.length,h,d,m;o<u;o++)d=r[o],h=o!==u-1?d.lastIndexOf(","):d.length,m=d.substr(0,h),t[a]=isNaN(m)?m.replace(n3,"").trim():+m,a=d.substr(h+1).trim();return t},i3=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),a=e.indexOf("(",t);return e.substring(t,~a&&a<r?e.indexOf(")",r+1):r)},s3=function(e){var t=(e+"").split("("),r=Ue[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[r3(t[1])]:i3(e).split(",").map(oI)):Ue._CE&&t3.test(e)?Ue._CE("",e):r},AI=function(e){return function(t){return 1-e(1-t)}},RI=function n(e,t){for(var r=e._first,a;r;)r instanceof bn?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(a=r._ease,r._ease=r._yEase,r._yEase=a,r._yoyo=t)),r=r._next},to=function(e,t){return e&&(yt(e)?e:Ue[e]||s3(e))||t},vo=function(e,t,r,a){r===void 0&&(r=function(d){return 1-t(1-d)}),a===void 0&&(a=function(d){return d<.5?t(d*2)/2:1-t((1-d)*2)/2});var o={easeIn:t,easeOut:r,easeInOut:a},u;return xn(e,function(h){Ue[h]=Wn[h]=o,Ue[u=h.toLowerCase()]=r;for(var d in o)Ue[u+(d==="easeIn"?".in":d==="easeOut"?".out":".inOut")]=Ue[h+"."+d]=o[d]}),o},II=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Zg=function n(e,t,r){var a=t>=1?t:1,o=(r||(e?.3:.45))/(t<1?t:1),u=o/k_*(Math.asin(1/a)||0),h=function(_){return _===1?1:a*Math.pow(2,-10*_)*N6((_-u)*o)+1},d=e==="out"?h:e==="in"?function(m){return 1-h(1-m)}:II(h);return o=k_/o,d.config=function(m,_){return n(e,m,_)},d},Jg=function n(e,t){t===void 0&&(t=1.70158);var r=function(u){return u?--u*u*((t+1)*u+t)+1:0},a=e==="out"?r:e==="in"?function(o){return 1-r(1-o)}:II(r);return a.config=function(o){return n(e,o)},a};xn("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;vo(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Ue.Linear.easeNone=Ue.none=Ue.Linear.easeIn;vo("Elastic",Zg("in"),Zg("out"),Zg());(function(n,e){var t=1/e,r=2*t,a=2.5*t,o=function(h){return h<t?n*h*h:h<r?n*Math.pow(h-1.5/e,2)+.75:h<a?n*(h-=2.25/e)*h+.9375:n*Math.pow(h-2.625/e,2)+.984375};vo("Bounce",function(u){return 1-o(1-u)},o)})(7.5625,2.75);vo("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});vo("Circ",function(n){return-(QR(1-n*n)-1)});vo("Sine",function(n){return n===1?1:-x6(n*P6)+1});vo("Back",Jg("in"),Jg("out"),Jg());Ue.SteppedEase=Ue.steps=Wn.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,a=e+(t?0:1),o=t?1:0,u=1-rt;return function(h){return((a*sh(0,u,h)|0)+o)*r}}};xl.ease=Ue["quad.out"];xn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return av+=n+","+n+"Params,"});var CI=function(e,t){this.id=D6++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:sI,this.set=t?t.getSetter:fv},Fc=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,kl(this,+t.duration,1,1),this.data=t.data,ut&&(this._ctx=ut,ut.data.push(this)),Bc||$n.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,kl(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,a){if(Vl(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(cp(this,r),!o._dp||o.parent||cI(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Zr(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===rt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),aI(this,r,a)),this},e.time=function(r,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+Qw(this))%(this._dur+this._rDelay)||(r?this._dur:0),a):this._time},e.totalProgress=function(r,a){return arguments.length?this.totalTime(this.totalDuration()*r,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+Qw(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,a){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*o,a):this._repeat?Ml(this._tTime,o)+1:1},e.timeScale=function(r,a){if(!arguments.length)return this._rts===-rt?0:this._rts;if(this._rts===r)return this;var o=this.parent&&this._ts?Dd(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-rt?0:this._rts,this.totalTime(sh(-Math.abs(this._delay),this.totalDuration(),o),a!==!1),up(this),j6(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Vl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==rt&&(this._tTime-=rt)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&Zr(a,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Dn(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var a=this.parent||this._dp;return a?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Dd(a.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=V6);var a=an;return an=r,lv(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),an=a,this},e.globalTime=function(r){for(var a=this,o=arguments.length?r:a.rawTime();a;)o=a._start+o/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(r):o},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Ww(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var a=this._time;return this._rDelay=r,Ww(this),a?this.time(a):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,a){return this.totalTime(dr(this,r),Dn(a))},e.restart=function(r,a){return this.play().totalTime(r?-this._delay:0,Dn(a)),this._dur||(this._zTime=-rt),this},e.play=function(r,a){return r!=null&&this.seek(r,a),this.reversed(!1).paused(!1)},e.reverse=function(r,a){return r!=null&&this.seek(r||this.totalDuration(),a),this.reversed(!0).paused(!1)},e.pause=function(r,a){return r!=null&&this.seek(r,a),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-rt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-rt,this},e.isActive=function(){var r=this.parent||this._dp,a=this._start,o;return!!(!r||this._ts&&this._initted&&r.isActive()&&(o=r.rawTime(!0))>=a&&o<this.endTime(!0)-rt)},e.eventCallback=function(r,a,o){var u=this.vars;return arguments.length>1?(a?(u[r]=a,o&&(u[r+"Params"]=o),r==="onUpdate"&&(this._onUpdate=a)):delete u[r],this):u[r]},e.then=function(r){var a=this;return new Promise(function(o){var u=yt(r)?r:lI,h=function(){var m=a.then;a.then=null,yt(u)&&(u=u(a))&&(u.then||u===a)&&(a.then=m),o(u),a.then=m};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?h():a._prom=h})},e.kill=function(){dc(this)},n}();Zn(Fc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-rt,_prom:0,_ps:!1,_rts:1});var bn=function(n){XR(e,n);function e(r,a){var o;return r===void 0&&(r={}),o=n.call(this,r)||this,o.labels={},o.smoothChildTiming=!!r.smoothChildTiming,o.autoRemoveChildren=!!r.autoRemoveChildren,o._sort=Dn(r.sortChildren),ht&&Zr(r.parent||ht,Ui(o),a),r.reversed&&o.reverse(),r.paused&&o.paused(!0),r.scrollTrigger&&hI(Ui(o),r.scrollTrigger),o}var t=e.prototype;return t.to=function(a,o,u){return Rc(0,arguments,this),this},t.from=function(a,o,u){return Rc(1,arguments,this),this},t.fromTo=function(a,o,u,h){return Rc(2,arguments,this),this},t.set=function(a,o,u){return o.duration=0,o.parent=this,Ac(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new xt(a,o,dr(this,u),1),this},t.call=function(a,o,u){return Zr(this,xt.delayedCall(0,a,o),u)},t.staggerTo=function(a,o,u,h,d,m,_){return u.duration=o,u.stagger=u.stagger||h,u.onComplete=m,u.onCompleteParams=_,u.parent=this,new xt(a,u,dr(this,d)),this},t.staggerFrom=function(a,o,u,h,d,m,_){return u.runBackwards=1,Ac(u).immediateRender=Dn(u.immediateRender),this.staggerTo(a,o,u,h,d,m,_)},t.staggerFromTo=function(a,o,u,h,d,m,_,v){return h.startAt=u,Ac(h).immediateRender=Dn(h.immediateRender),this.staggerTo(a,o,h,d,m,_,v)},t.render=function(a,o,u){var h=this._time,d=this._dirty?this.totalDuration():this._tDur,m=this._dur,_=a<=0?0:Nt(a),v=this._zTime<0!=a<0&&(this._initted||!m),T,w,C,S,x,O,k,M,z,F,G,D;if(this!==ht&&_>d&&a>=0&&(_=d),_!==this._tTime||u||v){if(h!==this._time&&m&&(_+=this._time-h,a+=this._time-h),T=_,z=this._start,M=this._ts,O=!M,v&&(m||(h=this._zTime),(a||!o)&&(this._zTime=a)),this._repeat){if(G=this._yoyo,x=m+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(x*100+a,o,u);if(T=Nt(_%x),_===d?(S=this._repeat,T=m):(F=Nt(_/x),S=~~F,S&&S===F&&(T=m,S--),T>m&&(T=m)),F=Ml(this._tTime,x),!h&&this._tTime&&F!==S&&this._tTime-F*x-this._dur<=0&&(F=S),G&&S&1&&(T=m-T,D=1),S!==F&&!this._lock){var A=G&&F&1,R=A===(G&&S&1);if(S<F&&(A=!A),h=A?0:_%m?m:_,this._lock=1,this.render(h||(D?0:Nt(S*x)),o,!m)._lock=0,this._tTime=_,!o&&this.parent&&Yn(this,"onRepeat"),this.vars.repeatRefresh&&!D&&(this.invalidate()._lock=1),h&&h!==this._time||O!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(m=this._dur,d=this._tDur,R&&(this._lock=2,h=A?m:-1e-4,this.render(h,!0),this.vars.repeatRefresh&&!D&&this.invalidate()),this._lock=0,!this._ts&&!O)return this;RI(this,D)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(k=H6(this,Nt(h),Nt(T)),k&&(_-=T-(T=k._start))),this._tTime=_,this._time=T,this._act=!M,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,h=0),!h&&_&&!o&&!F&&(Yn(this,"onStart"),this._tTime!==_))return this;if(T>=h&&a>=0)for(w=this._first;w;){if(C=w._next,(w._act||T>=w._start)&&w._ts&&k!==w){if(w.parent!==this)return this.render(a,o,u);if(w.render(w._ts>0?(T-w._start)*w._ts:(w._dirty?w.totalDuration():w._tDur)+(T-w._start)*w._ts,o,u),T!==this._time||!this._ts&&!O){k=0,C&&(_+=this._zTime=-rt);break}}w=C}else{w=this._last;for(var V=a<0?a:T;w;){if(C=w._prev,(w._act||V<=w._end)&&w._ts&&k!==w){if(w.parent!==this)return this.render(a,o,u);if(w.render(w._ts>0?(V-w._start)*w._ts:(w._dirty?w.totalDuration():w._tDur)+(V-w._start)*w._ts,o,u||an&&lv(w)),T!==this._time||!this._ts&&!O){k=0,C&&(_+=this._zTime=V?-rt:rt);break}}w=C}}if(k&&!o&&(this.pause(),k.render(T>=h?0:-rt)._zTime=T>=h?1:-1,this._ts))return this._start=z,up(this),this.render(a,o,u);this._onUpdate&&!o&&Yn(this,"onUpdate",!0),(_===d&&this._tTime>=this.totalDuration()||!_&&h)&&(z===this._start||Math.abs(M)!==Math.abs(this._ts))&&(this._lock||((a||!m)&&(_===d&&this._ts>0||!_&&this._ts<0)&&Zs(this,1),!o&&!(a<0&&!h)&&(_||h||!d)&&(Yn(this,_===d&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<d&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(a,o){var u=this;if(Qi(o)||(o=dr(this,o,a)),!(a instanceof Fc)){if(mn(a))return a.forEach(function(h){return u.add(h,o)}),this;if(Wt(a))return this.addLabel(a,o);if(yt(a))a=xt.delayedCall(0,a);else return this}return this!==a?Zr(this,a,o):this},t.getChildren=function(a,o,u,h){a===void 0&&(a=!0),o===void 0&&(o=!0),u===void 0&&(u=!0),h===void 0&&(h=-gr);for(var d=[],m=this._first;m;)m._start>=h&&(m instanceof xt?o&&d.push(m):(u&&d.push(m),a&&d.push.apply(d,m.getChildren(!0,o,u)))),m=m._next;return d},t.getById=function(a){for(var o=this.getChildren(1,1,1),u=o.length;u--;)if(o[u].vars.id===a)return o[u]},t.remove=function(a){return Wt(a)?this.removeLabel(a):yt(a)?this.killTweensOf(a):(a.parent===this&&lp(this,a),a===this._recent&&(this._recent=this._last),eo(this))},t.totalTime=function(a,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Nt($n.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),n.prototype.totalTime.call(this,a,o),this._forcing=0,this):this._tTime},t.addLabel=function(a,o){return this.labels[a]=dr(this,o),this},t.removeLabel=function(a){return delete this.labels[a],this},t.addPause=function(a,o,u){var h=xt.delayedCall(0,o||zc,u);return h.data="isPause",this._hasPause=1,Zr(this,h,dr(this,a))},t.removePause=function(a){var o=this._first;for(a=dr(this,a);o;)o._start===a&&o.data==="isPause"&&Zs(o),o=o._next},t.killTweensOf=function(a,o,u){for(var h=this.getTweensOf(a,u),d=h.length;d--;)Ns!==h[d]&&h[d].kill(a,o);return this},t.getTweensOf=function(a,o){for(var u=[],h=_r(a),d=this._first,m=Qi(o),_;d;)d instanceof xt?L6(d._targets,h)&&(m?(!Ns||d._initted&&d._ts)&&d.globalTime(0)<=o&&d.globalTime(d.totalDuration())>o:!o||d.isActive())&&u.push(d):(_=d.getTweensOf(h,o)).length&&u.push.apply(u,_),d=d._next;return u},t.tweenTo=function(a,o){o=o||{};var u=this,h=dr(u,a),d=o,m=d.startAt,_=d.onStart,v=d.onStartParams,T=d.immediateRender,w,C=xt.to(u,Zn({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:h,overwrite:"auto",duration:o.duration||Math.abs((h-(m&&"time"in m?m.time:u._time))/u.timeScale())||rt,onStart:function(){if(u.pause(),!w){var x=o.duration||Math.abs((h-(m&&"time"in m?m.time:u._time))/u.timeScale());C._dur!==x&&kl(C,x,0,1).render(C._time,!0,!0),w=1}_&&_.apply(C,v||[])}},o));return T?C.render(0):C},t.tweenFromTo=function(a,o,u){return this.tweenTo(o,Zn({startAt:{time:dr(this,a)}},u))},t.recent=function(){return this._recent},t.nextLabel=function(a){return a===void 0&&(a=this._time),Zw(this,dr(this,a))},t.previousLabel=function(a){return a===void 0&&(a=this._time),Zw(this,dr(this,a),1)},t.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+rt)},t.shiftChildren=function(a,o,u){u===void 0&&(u=0);for(var h=this._first,d=this.labels,m;h;)h._start>=u&&(h._start+=a,h._end+=a),h=h._next;if(o)for(m in d)d[m]>=u&&(d[m]+=a);return eo(this)},t.invalidate=function(a){var o=this._first;for(this._lock=0;o;)o.invalidate(a),o=o._next;return n.prototype.invalidate.call(this,a)},t.clear=function(a){a===void 0&&(a=!0);for(var o=this._first,u;o;)u=o._next,this.remove(o),o=u;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),eo(this)},t.totalDuration=function(a){var o=0,u=this,h=u._last,d=gr,m,_,v;if(arguments.length)return u.timeScale((u._repeat<0?u.duration():u.totalDuration())/(u.reversed()?-a:a));if(u._dirty){for(v=u.parent;h;)m=h._prev,h._dirty&&h.totalDuration(),_=h._start,_>d&&u._sort&&h._ts&&!u._lock?(u._lock=1,Zr(u,h,_-h._delay,1)._lock=0):d=_,_<0&&h._ts&&(o-=_,(!v&&!u._dp||v&&v.smoothChildTiming)&&(u._start+=_/u._ts,u._time-=_,u._tTime-=_),u.shiftChildren(-_,!1,-1/0),d=0),h._end>o&&h._ts&&(o=h._end),h=m;kl(u,u===ht&&u._time>o?u._time:o,1,1),u._dirty=0}return u._tDur},e.updateRoot=function(a){if(ht._ts&&(aI(ht,Dd(a,ht)),iI=$n.frame),$n.frame>=Yw){Yw+=Qn.autoSleep||120;var o=ht._first;if((!o||!o._ts)&&Qn.autoSleep&&$n._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||$n.sleep()}}},e}(Fc);Zn(bn.prototype,{_lock:0,_hasPause:0,_forcing:0});var a3=function(e,t,r,a,o,u,h){var d=new Nn(this._pt,e,t,0,1,MI,null,o),m=0,_=0,v,T,w,C,S,x,O,k;for(d.b=r,d.e=a,r+="",a+="",(O=~a.indexOf("random("))&&(a=jc(a)),u&&(k=[r,a],u(k,e,t),r=k[0],a=k[1]),T=r.match(Xg)||[];v=Xg.exec(a);)C=v[0],S=a.substring(m,v.index),w?w=(w+1)%5:S.substr(-5)==="rgba("&&(w=1),C!==T[_++]&&(x=parseFloat(T[_-1])||0,d._pt={_next:d._pt,p:S||_===1?S:",",s:x,c:C.charAt(1)==="="?wl(x,C)-x:parseFloat(C)-x,m:w&&w<4?Math.round:0},m=Xg.lastIndex);return d.c=m<a.length?a.substring(m,a.length):"",d.fp=h,(JR.test(a)||O)&&(d.e=0),this._pt=d,d},uv=function(e,t,r,a,o,u,h,d,m,_){yt(a)&&(a=a(o||0,e,u));var v=e[t],T=r!=="get"?r:yt(v)?m?e[t.indexOf("set")||!yt(e["get"+t.substr(3)])?t:"get"+t.substr(3)](m):e[t]():v,w=yt(v)?m?h3:xI:hv,C;if(Wt(a)&&(~a.indexOf("random(")&&(a=jc(a)),a.charAt(1)==="="&&(C=wl(T,a)+(pn(T)||0),(C||C===0)&&(a=C))),!_||T!==a||H_)return!isNaN(T*a)&&a!==""?(C=new Nn(this._pt,e,t,+T||0,a-(T||0),typeof v=="boolean"?d3:NI,0,w),m&&(C.fp=m),h&&C.modifier(h,this,e),this._pt=C):(!v&&!(t in e)&&iv(t,a),a3.call(this,e,t,T,a,w,d||Qn.stringFilter,m))},o3=function(e,t,r,a,o){if(yt(e)&&(e=Ic(e,o,t,r,a)),!ci(e)||e.style&&e.nodeType||mn(e)||WR(e))return Wt(e)?Ic(e,o,t,r,a):e;var u={},h;for(h in e)u[h]=Ic(e[h],o,t,r,a);return u},OI=function(e,t,r,a,o,u){var h,d,m,_;if(Gn[e]&&(h=new Gn[e]).init(o,h.rawVars?t[e]:o3(t[e],a,o,u,r),r,a,u)!==!1&&(r._pt=d=new Nn(r._pt,o,e,0,1,h.render,h,0,h.priority),r!==yl))for(m=r._ptLookup[r._targets.indexOf(o)],_=h._props.length;_--;)m[h._props[_]]=d;return h},Ns,H_,cv=function n(e,t,r){var a=e.vars,o=a.ease,u=a.startAt,h=a.immediateRender,d=a.lazy,m=a.onUpdate,_=a.runBackwards,v=a.yoyoEase,T=a.keyframes,w=a.autoRevert,C=e._dur,S=e._startAt,x=e._targets,O=e.parent,k=O&&O.data==="nested"?O.vars.targets:x,M=e._overwrite==="auto"&&!ev,z=e.timeline,F,G,D,A,R,V,U,j,N,ne,fe,X,ue;if(z&&(!T||!o)&&(o="none"),e._ease=to(o,xl.ease),e._yEase=v?AI(to(v===!0?o:v,xl.ease)):0,v&&e._yoyo&&!e._repeat&&(v=e._yEase,e._yEase=e._ease,e._ease=v),e._from=!z&&!!a.runBackwards,!z||T&&!a.stagger){if(j=x[0]?Ja(x[0]).harness:0,X=j&&a[j.prop],F=Pd(a,sv),S&&(S._zTime<0&&S.progress(1),t<0&&_&&h&&!w?S.render(-1,!0):S.revert(_&&C?Jf:k6),S._lazy=0),u){if(Zs(e._startAt=xt.set(x,Zn({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:!S&&Dn(d),startAt:null,delay:0,onUpdate:m&&function(){return Yn(e,"onUpdate")},stagger:0},u))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(an||!h&&!w)&&e._startAt.revert(Jf),h&&C&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(_&&C&&!S){if(t&&(h=!1),D=Zn({overwrite:!1,data:"isFromStart",lazy:h&&!S&&Dn(d),immediateRender:h,stagger:0,parent:O},F),X&&(D[j.prop]=X),Zs(e._startAt=xt.set(x,D)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(an?e._startAt.revert(Jf):e._startAt.render(-1,!0)),e._zTime=t,!h)n(e._startAt,rt,rt);else if(!t)return}for(e._pt=e._ptCache=0,d=C&&Dn(d)||d&&!C,G=0;G<x.length;G++){if(R=x[G],U=R._gsap||ov(x)[G]._gsap,e._ptLookup[G]=ne={},U_[U.id]&&Fs.length&&Od(),fe=k===x?G:k.indexOf(R),j&&(N=new j).init(R,X||F,e,fe,k)!==!1&&(e._pt=A=new Nn(e._pt,R,N.name,0,1,N.render,N,0,N.priority),N._props.forEach(function(pe){ne[pe]=A}),N.priority&&(V=1)),!j||X)for(D in F)Gn[D]&&(N=OI(D,F,e,fe,R,k))?N.priority&&(V=1):ne[D]=A=uv.call(e,R,D,"get",F[D],fe,k,0,a.stringFilter);e._op&&e._op[G]&&e.kill(R,e._op[G]),M&&e._pt&&(Ns=e,ht.killTweensOf(R,ne,e.globalTime(t)),ue=!e.parent,Ns=0),e._pt&&d&&(U_[U.id]=1)}V&&kI(e),e._onInit&&e._onInit(e)}e._onUpdate=m,e._initted=(!e._op||e._pt)&&!ue,T&&t<=0&&z.render(gr,!0,!0)},l3=function(e,t,r,a,o,u,h,d){var m=(e._pt&&e._ptCache||(e._ptCache={}))[t],_,v,T,w;if(!m)for(m=e._ptCache[t]=[],T=e._ptLookup,w=e._targets.length;w--;){if(_=T[w][t],_&&_.d&&_.d._pt)for(_=_.d._pt;_&&_.p!==t&&_.fp!==t;)_=_._next;if(!_)return H_=1,e.vars[t]="+=0",cv(e,h),H_=0,d?Uc(t+" not eligible for reset"):1;m.push(_)}for(w=m.length;w--;)v=m[w],_=v._pt||v,_.s=(a||a===0)&&!o?a:_.s+(a||0)+u*_.c,_.c=r-_.s,v.e&&(v.e=Rt(r)+pn(v.e)),v.b&&(v.b=_.s+pn(v.b))},u3=function(e,t){var r=e[0]?Ja(e[0]).harness:0,a=r&&r.aliases,o,u,h,d;if(!a)return t;o=Nl({},t);for(u in a)if(u in o)for(d=a[u].split(","),h=d.length;h--;)o[d[h]]=o[u];return o},c3=function(e,t,r,a){var o=t.ease||a||"power1.inOut",u,h;if(mn(t))h=r[e]||(r[e]=[]),t.forEach(function(d,m){return h.push({t:m/(t.length-1)*100,v:d,e:o})});else for(u in t)h=r[u]||(r[u]=[]),u==="ease"||h.push({t:parseFloat(e),v:t[u],e:o})},Ic=function(e,t,r,a,o){return yt(e)?e.call(t,r,a,o):Wt(e)&&~e.indexOf("random(")?jc(e):e},PI=av+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",DI={};xn(PI+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return DI[n]=1});var xt=function(n){XR(e,n);function e(r,a,o,u){var h;typeof a=="number"&&(o.duration=a,a=o,o=null),h=n.call(this,u?a:Ac(a))||this;var d=h.vars,m=d.duration,_=d.delay,v=d.immediateRender,T=d.stagger,w=d.overwrite,C=d.keyframes,S=d.defaults,x=d.scrollTrigger,O=d.yoyoEase,k=a.parent||ht,M=(mn(r)||WR(r)?Qi(r[0]):"length"in a)?[r]:_r(r),z,F,G,D,A,R,V,U;if(h._targets=M.length?ov(M):Uc("GSAP target "+r+" not found. https://gsap.com",!Qn.nullTargetWarn)||[],h._ptLookup=[],h._overwrite=w,C||T||jf(m)||jf(_)){if(a=h.vars,z=h.timeline=new bn({data:"nested",defaults:S||{},targets:k&&k.data==="nested"?k.vars.targets:M}),z.kill(),z.parent=z._dp=Ui(h),z._start=0,T||jf(m)||jf(_)){if(D=M.length,V=T&&mI(T),ci(T))for(A in T)~PI.indexOf(A)&&(U||(U={}),U[A]=T[A]);for(F=0;F<D;F++)G=Pd(a,DI),G.stagger=0,O&&(G.yoyoEase=O),U&&Nl(G,U),R=M[F],G.duration=+Ic(m,Ui(h),F,R,M),G.delay=(+Ic(_,Ui(h),F,R,M)||0)-h._delay,!T&&D===1&&G.delay&&(h._delay=_=G.delay,h._start+=_,G.delay=0),z.to(R,G,V?V(F,R,M):0),z._ease=Ue.none;z.duration()?m=_=0:h.timeline=0}else if(C){Ac(Zn(z.vars.defaults,{ease:"none"})),z._ease=to(C.ease||a.ease||"none");var j=0,N,ne,fe;if(mn(C))C.forEach(function(X){return z.to(M,X,">")}),z.duration();else{G={};for(A in C)A==="ease"||A==="easeEach"||c3(A,C[A],G,C.easeEach);for(A in G)for(N=G[A].sort(function(X,ue){return X.t-ue.t}),j=0,F=0;F<N.length;F++)ne=N[F],fe={ease:ne.e,duration:(ne.t-(F?N[F-1].t:0))/100*m},fe[A]=ne.v,z.to(M,fe,j),j+=fe.duration;z.duration()<m&&z.to({},{duration:m-z.duration()})}}m||h.duration(m=z.duration())}else h.timeline=0;return w===!0&&!ev&&(Ns=Ui(h),ht.killTweensOf(M),Ns=0),Zr(k,Ui(h),o),a.reversed&&h.reverse(),a.paused&&h.paused(!0),(v||!m&&!C&&h._start===Nt(k._time)&&Dn(v)&&B6(Ui(h))&&k.data!=="nested")&&(h._tTime=-rt,h.render(Math.max(0,-_)||0)),x&&hI(Ui(h),x),h}var t=e.prototype;return t.render=function(a,o,u){var h=this._time,d=this._tDur,m=this._dur,_=a<0,v=a>d-rt&&!_?d:a<rt?0:a,T,w,C,S,x,O,k,M,z;if(!m)q6(this,a,o,u);else if(v!==this._tTime||!a||u||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==_||this._lazy){if(T=v,M=this.timeline,this._repeat){if(S=m+this._rDelay,this._repeat<-1&&_)return this.totalTime(S*100+a,o,u);if(T=Nt(v%S),v===d?(C=this._repeat,T=m):(x=Nt(v/S),C=~~x,C&&C===x?(T=m,C--):T>m&&(T=m)),O=this._yoyo&&C&1,O&&(z=this._yEase,T=m-T),x=Ml(this._tTime,S),T===h&&!u&&this._initted&&C===x)return this._tTime=v,this;C!==x&&(M&&this._yEase&&RI(M,O),this.vars.repeatRefresh&&!O&&!this._lock&&T!==S&&this._initted&&(this._lock=u=1,this.render(Nt(S*C),!0).invalidate()._lock=0))}if(!this._initted){if(fI(this,_?a:T,u,o,v))return this._tTime=0,this;if(h!==this._time&&!(u&&this.vars.repeatRefresh&&C!==x))return this;if(m!==this._dur)return this.render(a,o,u)}if(this._tTime=v,this._time=T,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=k=(z||this._ease)(T/m),this._from&&(this.ratio=k=1-k),!h&&v&&!o&&!x&&(Yn(this,"onStart"),this._tTime!==v))return this;for(w=this._pt;w;)w.r(k,w.d),w=w._next;M&&M.render(a<0?a:M._dur*M._ease(T/this._dur),o,u)||this._startAt&&(this._zTime=a),this._onUpdate&&!o&&(_&&z_(this,a,o,u),Yn(this,"onUpdate")),this._repeat&&C!==x&&this.vars.onRepeat&&!o&&this.parent&&Yn(this,"onRepeat"),(v===this._tDur||!v)&&this._tTime===v&&(_&&!this._onUpdate&&z_(this,a,!0,!0),(a||!m)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Zs(this,1),!o&&!(_&&!h)&&(v||h||O)&&(Yn(this,v===d?"onComplete":"onReverseComplete",!0),this._prom&&!(v<d&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),n.prototype.invalidate.call(this,a)},t.resetTo=function(a,o,u,h,d){Bc||$n.wake(),this._ts||this.play();var m=Math.min(this._dur,(this._dp._time-this._start)*this._ts),_;return this._initted||cv(this,m),_=this._ease(m/this._dur),l3(this,a,o,u,h,_,m,d)?this.resetTo(a,o,u,h,1):(cp(this,0),this.parent||uI(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(a,o){if(o===void 0&&(o="all"),!a&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?dc(this):this.scrollTrigger&&this.scrollTrigger.kill(!!an),this;if(this.timeline){var u=this.timeline.totalDuration();return this.timeline.killTweensOf(a,o,Ns&&Ns.vars.overwrite!==!0)._first||dc(this),this.parent&&u!==this.timeline.totalDuration()&&kl(this,this._dur*this.timeline._tDur/u,0,1),this}var h=this._targets,d=a?_r(a):h,m=this._ptLookup,_=this._pt,v,T,w,C,S,x,O;if((!o||o==="all")&&z6(h,d))return o==="all"&&(this._pt=0),dc(this);for(v=this._op=this._op||[],o!=="all"&&(Wt(o)&&(S={},xn(o,function(k){return S[k]=1}),o=S),o=u3(h,o)),O=h.length;O--;)if(~d.indexOf(h[O])){T=m[O],o==="all"?(v[O]=o,C=T,w={}):(w=v[O]=v[O]||{},C=o);for(S in C)x=T&&T[S],x&&((!("kill"in x.d)||x.d.kill(S)===!0)&&lp(this,x,"_pt"),delete T[S]),w!=="all"&&(w[S]=1)}return this._initted&&!this._pt&&_&&dc(this),this},e.to=function(a,o){return new e(a,o,arguments[2])},e.from=function(a,o){return Rc(1,arguments)},e.delayedCall=function(a,o,u,h){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:o,onReverseComplete:o,onCompleteParams:u,onReverseCompleteParams:u,callbackScope:h})},e.fromTo=function(a,o,u){return Rc(2,arguments)},e.set=function(a,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(a,o)},e.killTweensOf=function(a,o,u){return ht.killTweensOf(a,o,u)},e}(Fc);Zn(xt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});xn("staggerTo,staggerFrom,staggerFromTo",function(n){xt[n]=function(){var e=new bn,t=B_.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var hv=function(e,t,r){return e[t]=r},xI=function(e,t,r){return e[t](r)},h3=function(e,t,r,a){return e[t](a.fp,r)},f3=function(e,t,r){return e.setAttribute(t,r)},fv=function(e,t){return yt(e[t])?xI:tv(e[t])&&e.setAttribute?f3:hv},NI=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},d3=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},MI=function(e,t){var r=t._pt,a="";if(!e&&t.b)a=t.b;else if(e===1&&t.e)a=t.e;else{for(;r;)a=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+a,r=r._next;a+=t.c}t.set(t.t,t.p,a,t)},dv=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},p3=function(e,t,r,a){for(var o=this._pt,u;o;)u=o._next,o.p===a&&o.modifier(e,t,r),o=u},m3=function(e){for(var t=this._pt,r,a;t;)a=t._next,t.p===e&&!t.op||t.op===e?lp(this,t,"_pt"):t.dep||(r=1),t=a;return!r},g3=function(e,t,r,a){a.mSet(e,t,a.m.call(a.tween,r,a.mt),a)},kI=function(e){for(var t=e._pt,r,a,o,u;t;){for(r=t._next,a=o;a&&a.pr>t.pr;)a=a._next;(t._prev=a?a._prev:u)?t._prev._next=t:o=t,(t._next=a)?a._prev=t:u=t,t=r}e._pt=o},Nn=function(){function n(t,r,a,o,u,h,d,m,_){this.t=r,this.s=o,this.c=u,this.p=a,this.r=h||NI,this.d=d||this,this.set=m||hv,this.pr=_||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,a,o){this.mSet=this.mSet||this.set,this.set=g3,this.m=r,this.mt=o,this.tween=a},n}();xn(av+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return sv[n]=1});Wn.TweenMax=Wn.TweenLite=xt;Wn.TimelineLite=Wn.TimelineMax=bn;ht=new bn({sortChildren:!1,defaults:xl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Qn.stringFilter=SI;var no=[],td={},_3=[],eS=0,y3=0,e_=function(e){return(td[e]||_3).map(function(t){return t()})},G_=function(){var e=Date.now(),t=[];e-eS>2&&(e_("matchMediaInit"),no.forEach(function(r){var a=r.queries,o=r.conditions,u,h,d,m;for(h in a)u=Wr.matchMedia(a[h]).matches,u&&(d=1),u!==o[h]&&(o[h]=u,m=1);m&&(r.revert(),d&&t.push(r))}),e_("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(a){return r.add(null,a)})}),eS=e,e_("matchMedia"))},VI=function(){function n(t,r){this.selector=r&&F_(r),this.data=[],this._r=[],this.isReverted=!1,this.id=y3++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,a,o){yt(r)&&(o=a,a=r,r=yt);var u=this,h=function(){var m=ut,_=u.selector,v;return m&&m!==u&&m.data.push(u),o&&(u.selector=F_(o)),ut=u,v=a.apply(u,arguments),yt(v)&&u._r.push(v),ut=m,u.selector=_,u.isReverted=!1,v};return u.last=h,r===yt?h(u,function(d){return u.add(null,d)}):r?u[r]=h:h},e.ignore=function(r){var a=ut;ut=null,r(this),ut=a},e.getTweens=function(){var r=[];return this.data.forEach(function(a){return a instanceof n?r.push.apply(r,a.getTweens()):a instanceof xt&&!(a.parent&&a.parent.data==="nested")&&r.push(a)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,a){var o=this;if(r?function(){for(var h=o.getTweens(),d=o.data.length,m;d--;)m=o.data[d],m.data==="isFlip"&&(m.revert(),m.getChildren(!0,!0,!1).forEach(function(_){return h.splice(h.indexOf(_),1)}));for(h.map(function(_){return{g:_._dur||_._delay||_._sat&&!_._sat.vars.immediateRender?_.globalTime(0):-1/0,t:_}}).sort(function(_,v){return v.g-_.g||-1/0}).forEach(function(_){return _.t.revert(r)}),d=o.data.length;d--;)m=o.data[d],m instanceof bn?m.data!=="nested"&&(m.scrollTrigger&&m.scrollTrigger.revert(),m.kill()):!(m instanceof xt)&&m.revert&&m.revert(r);o._r.forEach(function(_){return _(r,o)}),o.isReverted=!0}():this.data.forEach(function(h){return h.kill&&h.kill()}),this.clear(),a)for(var u=no.length;u--;)no[u].id===this.id&&no.splice(u,1)},e.revert=function(r){this.kill(r||{})},n}(),v3=function(){function n(t){this.contexts=[],this.scope=t,ut&&ut.data.push(this)}var e=n.prototype;return e.add=function(r,a,o){ci(r)||(r={matches:r});var u=new VI(0,o||this.scope),h=u.conditions={},d,m,_;ut&&!u.selector&&(u.selector=ut.selector),this.contexts.push(u),a=u.add("onMatch",a),u.queries=r;for(m in r)m==="all"?_=1:(d=Wr.matchMedia(r[m]),d&&(no.indexOf(u)<0&&no.push(u),(h[m]=d.matches)&&(_=1),d.addListener?d.addListener(G_):d.addEventListener("change",G_)));return _&&a(u,function(v){return u.add(null,v)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(a){return a.kill(r,!0)})},n}(),xd={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(a){return EI(a)})},timeline:function(e){return new bn(e)},getTweensOf:function(e,t){return ht.getTweensOf(e,t)},getProperty:function(e,t,r,a){Wt(e)&&(e=_r(e)[0]);var o=Ja(e||{}).get,u=r?lI:oI;return r==="native"&&(r=""),e&&(t?u((Gn[t]&&Gn[t].get||o)(e,t,r,a)):function(h,d,m){return u((Gn[h]&&Gn[h].get||o)(e,h,d,m))})},quickSetter:function(e,t,r){if(e=_r(e),e.length>1){var a=e.map(function(_){return kn.quickSetter(_,t,r)}),o=a.length;return function(_){for(var v=o;v--;)a[v](_)}}e=e[0]||{};var u=Gn[t],h=Ja(e),d=h.harness&&(h.harness.aliases||{})[t]||t,m=u?function(_){var v=new u;yl._pt=0,v.init(e,r?_+r:_,yl,0,[e]),v.render(1,v),yl._pt&&dv(1,yl)}:h.set(e,d);return u?m:function(_){return m(e,d,r?_+r:_,h,1)}},quickTo:function(e,t,r){var a,o=kn.to(e,Zn((a={},a[t]="+=0.1",a.paused=!0,a.stagger=0,a),r||{})),u=function(d,m,_){return o.resetTo(t,d,m,_)};return u.tween=o,u},isTweening:function(e){return ht.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=to(e.ease,xl.ease)),Xw(xl,e||{})},config:function(e){return Xw(Qn,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,a=e.plugins,o=e.defaults,u=e.extendTimeline;(a||"").split(",").forEach(function(h){return h&&!Gn[h]&&!Wn[h]&&Uc(t+" effect requires "+h+" plugin.")}),Qg[t]=function(h,d,m){return r(_r(h),Zn(d||{},o),m)},u&&(bn.prototype[t]=function(h,d,m){return this.add(Qg[t](h,ci(d)?d:(m=d)&&{},this),m)})},registerEase:function(e,t){Ue[e]=to(t)},parseEase:function(e,t){return arguments.length?to(e,t):Ue},getById:function(e){return ht.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new bn(e),a,o;for(r.smoothChildTiming=Dn(e.smoothChildTiming),ht.remove(r),r._dp=0,r._time=r._tTime=ht._time,a=ht._first;a;)o=a._next,(t||!(!a._dur&&a instanceof xt&&a.vars.onComplete===a._targets[0]))&&Zr(r,a,a._start-a._delay),a=o;return Zr(ht,r,0),r},context:function(e,t){return e?new VI(e,t):ut},matchMedia:function(e){return new v3(e)},matchMediaRefresh:function(){return no.forEach(function(e){var t=e.conditions,r,a;for(a in t)t[a]&&(t[a]=!1,r=1);r&&e.revert()})||G_()},addEventListener:function(e,t){var r=td[e]||(td[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=td[e],a=r&&r.indexOf(t);a>=0&&r.splice(a,1)},utils:{wrap:W6,wrapYoyo:Z6,distribute:mI,random:_I,snap:gI,normalize:Q6,getUnit:pn,clamp:$6,splitColor:bI,toArray:_r,selector:F_,mapRange:vI,pipe:Y6,unitize:X6,interpolate:J6,shuffle:pI},install:nI,effects:Qg,ticker:$n,updateRoot:bn.updateRoot,plugins:Gn,globalTimeline:ht,core:{PropTween:Nn,globals:rI,Tween:xt,Timeline:bn,Animation:Fc,getCache:Ja,_removeLinkedListItem:lp,reverting:function(){return an},context:function(e){return e&&ut&&(ut.data.push(e),e._ctx=ut),ut},suppressOverwrites:function(e){return ev=e}}};xn("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return xd[n]=xt[n]});$n.add(bn.updateRoot);yl=xd.to({},{duration:0});var T3=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},E3=function(e,t){var r=e._targets,a,o,u;for(a in t)for(o=r.length;o--;)u=e._ptLookup[o][a],u&&(u=u.d)&&(u._pt&&(u=T3(u,a)),u&&u.modifier&&u.modifier(t[a],e,r[o],a))},t_=function(e,t){return{name:e,headless:1,rawVars:1,init:function(a,o,u){u._onInit=function(h){var d,m;if(Wt(o)&&(d={},xn(o,function(_){return d[_]=1}),o=d),t){d={};for(m in o)d[m]=t(o[m]);o=d}E3(h,o)}}}},kn=xd.registerPlugin({name:"attr",init:function(e,t,r,a,o){var u,h,d;this.tween=r;for(u in t)d=e.getAttribute(u)||"",h=this.add(e,"setAttribute",(d||0)+"",t[u],a,o,0,0,u),h.op=u,h.b=d,this._props.push(u)},render:function(e,t){for(var r=t._pt;r;)an?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},t_("roundProps",q_),t_("modifiers"),t_("snap",gI))||xd;xt.version=bn.version=kn.version="3.13.0";tI=1;nv()&&Vl();Ue.Power0;Ue.Power1;Ue.Power2;Ue.Power3;Ue.Power4;Ue.Linear;Ue.Quad;Ue.Cubic;Ue.Quart;Ue.Quint;Ue.Strong;Ue.Elastic;Ue.Back;Ue.SteppedEase;Ue.Bounce;Ue.Sine;Ue.Expo;Ue.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var tS,Ms,Sl,pv,Qa,nS,mv,b3=function(){return typeof window<"u"},Wi={},$a=180/Math.PI,Al=Math.PI/180,fl=Math.atan2,rS=1e8,gv=/([A-Z])/g,w3=/(left|right|width|margin|padding|x)/i,S3=/[\s,\(]\S/,ei={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},$_=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},A3=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},R3=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},I3=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},LI=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},UI=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},C3=function(e,t,r){return e.style[t]=r},O3=function(e,t,r){return e.style.setProperty(t,r)},P3=function(e,t,r){return e._gsap[t]=r},D3=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},x3=function(e,t,r,a,o){var u=e._gsap;u.scaleX=u.scaleY=r,u.renderTransform(o,u)},N3=function(e,t,r,a,o){var u=e._gsap;u[t]=r,u.renderTransform(o,u)},ft="transform",Mn=ft+"Origin",M3=function n(e,t){var r=this,a=this.target,o=a.style,u=a._gsap;if(e in Wi&&o){if(this.tfm=this.tfm||{},e!=="transform")e=ei[e]||e,~e.indexOf(",")?e.split(",").forEach(function(h){return r.tfm[h]=zi(a,h)}):this.tfm[e]=u.x?u[e]:zi(a,e),e===Mn&&(this.tfm.zOrigin=u.zOrigin);else return ei.transform.split(",").forEach(function(h){return n.call(r,h,t)});if(this.props.indexOf(ft)>=0)return;u.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(Mn,t,"")),e=ft}(o||t)&&this.props.push(e,t,o[e])},zI=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},k3=function(){var e=this.props,t=this.target,r=t.style,a=t._gsap,o,u;for(o=0;o<e.length;o+=3)e[o+1]?e[o+1]===2?t[e[o]](e[o+2]):t[e[o]]=e[o+2]:e[o+2]?r[e[o]]=e[o+2]:r.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(gv,"-$1").toLowerCase());if(this.tfm){for(u in this.tfm)a[u]=this.tfm[u];a.svg&&(a.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),o=mv(),(!o||!o.isStart)&&!r[ft]&&(zI(r),a.zOrigin&&r[Mn]&&(r[Mn]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},jI=function(e,t){var r={target:e,props:[],revert:k3,save:M3};return e._gsap||kn.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(a){return r.save(a)}),r},BI,K_=function(e,t){var r=Ms.createElementNS?Ms.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ms.createElement(e);return r&&r.style?r:Ms.createElement(e)},yr=function n(e,t,r){var a=getComputedStyle(e);return a[t]||a.getPropertyValue(t.replace(gv,"-$1").toLowerCase())||a.getPropertyValue(t)||!r&&n(e,Ll(t)||t,1)||""},iS="O,Moz,ms,Ms,Webkit".split(","),Ll=function(e,t,r){var a=t||Qa,o=a.style,u=5;if(e in o&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);u--&&!(iS[u]+e in o););return u<0?null:(u===3?"ms":u>=0?iS[u]:"")+e},Y_=function(){b3()&&window.document&&(tS=window,Ms=tS.document,Sl=Ms.documentElement,Qa=K_("div")||{style:{}},K_("div"),ft=Ll(ft),Mn=ft+"Origin",Qa.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",BI=!!Ll("perspective"),mv=kn.core.reverting,pv=1)},sS=function(e){var t=e.ownerSVGElement,r=K_("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=e.cloneNode(!0),o;a.style.display="block",r.appendChild(a),Sl.appendChild(r);try{o=a.getBBox()}catch{}return r.removeChild(a),Sl.removeChild(r),o},aS=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},FI=function(e){var t,r;try{t=e.getBBox()}catch{t=sS(e),r=1}return t&&(t.width||t.height)||r||(t=sS(e)),t&&!t.width&&!t.x&&!t.y?{x:+aS(e,["x","cx","x1"])||0,y:+aS(e,["y","cy","y1"])||0,width:0,height:0}:t},qI=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&FI(e))},co=function(e,t){if(t){var r=e.style,a;t in Wi&&t!==Mn&&(t=ft),r.removeProperty?(a=t.substr(0,2),(a==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(a==="--"?t:t.replace(gv,"-$1").toLowerCase())):r.removeAttribute(t)}},ks=function(e,t,r,a,o,u){var h=new Nn(e._pt,t,r,0,1,u?UI:LI);return e._pt=h,h.b=a,h.e=o,e._props.push(r),h},oS={deg:1,rad:1,turn:1},V3={grid:1,flex:1},Js=function n(e,t,r,a){var o=parseFloat(r)||0,u=(r+"").trim().substr((o+"").length)||"px",h=Qa.style,d=w3.test(t),m=e.tagName.toLowerCase()==="svg",_=(m?"client":"offset")+(d?"Width":"Height"),v=100,T=a==="px",w=a==="%",C,S,x,O;if(a===u||!o||oS[a]||oS[u])return o;if(u!=="px"&&!T&&(o=n(e,t,r,"px")),O=e.getCTM&&qI(e),(w||u==="%")&&(Wi[t]||~t.indexOf("adius")))return C=O?e.getBBox()[d?"width":"height"]:e[_],Rt(w?o/C*v:o/100*C);if(h[d?"width":"height"]=v+(T?u:a),S=a!=="rem"&&~t.indexOf("adius")||a==="em"&&e.appendChild&&!m?e:e.parentNode,O&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===Ms||!S.appendChild)&&(S=Ms.body),x=S._gsap,x&&w&&x.width&&d&&x.time===$n.time&&!x.uncache)return Rt(o/x.width*v);if(w&&(t==="height"||t==="width")){var k=e.style[t];e.style[t]=v+a,C=e[_],k?e.style[t]=k:co(e,t)}else(w||u==="%")&&!V3[yr(S,"display")]&&(h.position=yr(e,"position")),S===e&&(h.position="static"),S.appendChild(Qa),C=Qa[_],S.removeChild(Qa),h.position="absolute";return d&&w&&(x=Ja(S),x.time=$n.time,x.width=S[_]),Rt(T?C*o/v:C&&o?v/C*o:0)},zi=function(e,t,r,a){var o;return pv||Y_(),t in ei&&t!=="transform"&&(t=ei[t],~t.indexOf(",")&&(t=t.split(",")[0])),Wi[t]&&t!=="transform"?(o=Hc(e,a),o=t!=="transformOrigin"?o[t]:o.svg?o.origin:Md(yr(e,Mn))+" "+o.zOrigin+"px"):(o=e.style[t],(!o||o==="auto"||a||~(o+"").indexOf("calc("))&&(o=Nd[t]&&Nd[t](e,t,r)||yr(e,t)||sI(e,t)||(t==="opacity"?1:0))),r&&!~(o+"").trim().indexOf(" ")?Js(e,t,o,r)+r:o},L3=function(e,t,r,a){if(!r||r==="none"){var o=Ll(t,e,1),u=o&&yr(e,o,1);u&&u!==r?(t=o,r=u):t==="borderColor"&&(r=yr(e,"borderTopColor"))}var h=new Nn(this._pt,e.style,t,0,1,MI),d=0,m=0,_,v,T,w,C,S,x,O,k,M,z,F;if(h.b=r,h.e=a,r+="",a+="",a.substring(0,6)==="var(--"&&(a=yr(e,a.substring(4,a.indexOf(")")))),a==="auto"&&(S=e.style[t],e.style[t]=a,a=yr(e,t)||a,S?e.style[t]=S:co(e,t)),_=[r,a],SI(_),r=_[0],a=_[1],T=r.match(_l)||[],F=a.match(_l)||[],F.length){for(;v=_l.exec(a);)x=v[0],k=a.substring(d,v.index),C?C=(C+1)%5:(k.substr(-5)==="rgba("||k.substr(-5)==="hsla(")&&(C=1),x!==(S=T[m++]||"")&&(w=parseFloat(S)||0,z=S.substr((w+"").length),x.charAt(1)==="="&&(x=wl(w,x)+z),O=parseFloat(x),M=x.substr((O+"").length),d=_l.lastIndex-M.length,M||(M=M||Qn.units[t]||z,d===a.length&&(a+=M,h.e+=M)),z!==M&&(w=Js(e,t,S,M)||0),h._pt={_next:h._pt,p:k||m===1?k:",",s:w,c:O-w,m:C&&C<4||t==="zIndex"?Math.round:0});h.c=d<a.length?a.substring(d,a.length):""}else h.r=t==="display"&&a==="none"?UI:LI;return JR.test(a)&&(h.e=0),this._pt=h,h},lS={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},U3=function(e){var t=e.split(" "),r=t[0],a=t[1]||"50%";return(r==="top"||r==="bottom"||a==="left"||a==="right")&&(e=r,r=a,a=e),t[0]=lS[r]||r,t[1]=lS[a]||a,t.join(" ")},z3=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,a=r.style,o=t.u,u=r._gsap,h,d,m;if(o==="all"||o===!0)a.cssText="",d=1;else for(o=o.split(","),m=o.length;--m>-1;)h=o[m],Wi[h]&&(d=1,h=h==="transformOrigin"?Mn:ft),co(r,h);d&&(co(r,ft),u&&(u.svg&&r.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",Hc(r,1),u.uncache=1,zI(a)))}},Nd={clearProps:function(e,t,r,a,o){if(o.data!=="isFromStart"){var u=e._pt=new Nn(e._pt,t,r,0,0,z3);return u.u=a,u.pr=-10,u.tween=o,e._props.push(r),1}}},qc=[1,0,0,1,0,0],HI={},GI=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},uS=function(e){var t=yr(e,ft);return GI(t)?qc:t.substr(7).match(ZR).map(Rt)},_v=function(e,t){var r=e._gsap||Ja(e),a=e.style,o=uS(e),u,h,d,m;return r.svg&&e.getAttribute("transform")?(d=e.transform.baseVal.consolidate().matrix,o=[d.a,d.b,d.c,d.d,d.e,d.f],o.join(",")==="1,0,0,1,0,0"?qc:o):(o===qc&&!e.offsetParent&&e!==Sl&&!r.svg&&(d=a.display,a.display="block",u=e.parentNode,(!u||!e.offsetParent&&!e.getBoundingClientRect().width)&&(m=1,h=e.nextElementSibling,Sl.appendChild(e)),o=uS(e),d?a.display=d:co(e,"display"),m&&(h?u.insertBefore(e,h):u?u.appendChild(e):Sl.removeChild(e))),t&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},X_=function(e,t,r,a,o,u){var h=e._gsap,d=o||_v(e,!0),m=h.xOrigin||0,_=h.yOrigin||0,v=h.xOffset||0,T=h.yOffset||0,w=d[0],C=d[1],S=d[2],x=d[3],O=d[4],k=d[5],M=t.split(" "),z=parseFloat(M[0])||0,F=parseFloat(M[1])||0,G,D,A,R;r?d!==qc&&(D=w*x-C*S)&&(A=z*(x/D)+F*(-S/D)+(S*k-x*O)/D,R=z*(-C/D)+F*(w/D)-(w*k-C*O)/D,z=A,F=R):(G=FI(e),z=G.x+(~M[0].indexOf("%")?z/100*G.width:z),F=G.y+(~(M[1]||M[0]).indexOf("%")?F/100*G.height:F)),a||a!==!1&&h.smooth?(O=z-m,k=F-_,h.xOffset=v+(O*w+k*S)-O,h.yOffset=T+(O*C+k*x)-k):h.xOffset=h.yOffset=0,h.xOrigin=z,h.yOrigin=F,h.smooth=!!a,h.origin=t,h.originIsAbsolute=!!r,e.style[Mn]="0px 0px",u&&(ks(u,h,"xOrigin",m,z),ks(u,h,"yOrigin",_,F),ks(u,h,"xOffset",v,h.xOffset),ks(u,h,"yOffset",T,h.yOffset)),e.setAttribute("data-svg-origin",z+" "+F)},Hc=function(e,t){var r=e._gsap||new CI(e);if("x"in r&&!t&&!r.uncache)return r;var a=e.style,o=r.scaleX<0,u="px",h="deg",d=getComputedStyle(e),m=yr(e,Mn)||"0",_,v,T,w,C,S,x,O,k,M,z,F,G,D,A,R,V,U,j,N,ne,fe,X,ue,pe,he,L,ee,oe,le,me,be;return _=v=T=S=x=O=k=M=z=0,w=C=1,r.svg=!!(e.getCTM&&qI(e)),d.translate&&((d.translate!=="none"||d.scale!=="none"||d.rotate!=="none")&&(a[ft]=(d.translate!=="none"?"translate3d("+(d.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(d.rotate!=="none"?"rotate("+d.rotate+") ":"")+(d.scale!=="none"?"scale("+d.scale.split(" ").join(",")+") ":"")+(d[ft]!=="none"?d[ft]:"")),a.scale=a.rotate=a.translate="none"),D=_v(e,r.svg),r.svg&&(r.uncache?(pe=e.getBBox(),m=r.xOrigin-pe.x+"px "+(r.yOrigin-pe.y)+"px",ue=""):ue=!t&&e.getAttribute("data-svg-origin"),X_(e,ue||m,!!ue||r.originIsAbsolute,r.smooth!==!1,D)),F=r.xOrigin||0,G=r.yOrigin||0,D!==qc&&(U=D[0],j=D[1],N=D[2],ne=D[3],_=fe=D[4],v=X=D[5],D.length===6?(w=Math.sqrt(U*U+j*j),C=Math.sqrt(ne*ne+N*N),S=U||j?fl(j,U)*$a:0,k=N||ne?fl(N,ne)*$a+S:0,k&&(C*=Math.abs(Math.cos(k*Al))),r.svg&&(_-=F-(F*U+G*N),v-=G-(F*j+G*ne))):(be=D[6],le=D[7],L=D[8],ee=D[9],oe=D[10],me=D[11],_=D[12],v=D[13],T=D[14],A=fl(be,oe),x=A*$a,A&&(R=Math.cos(-A),V=Math.sin(-A),ue=fe*R+L*V,pe=X*R+ee*V,he=be*R+oe*V,L=fe*-V+L*R,ee=X*-V+ee*R,oe=be*-V+oe*R,me=le*-V+me*R,fe=ue,X=pe,be=he),A=fl(-N,oe),O=A*$a,A&&(R=Math.cos(-A),V=Math.sin(-A),ue=U*R-L*V,pe=j*R-ee*V,he=N*R-oe*V,me=ne*V+me*R,U=ue,j=pe,N=he),A=fl(j,U),S=A*$a,A&&(R=Math.cos(A),V=Math.sin(A),ue=U*R+j*V,pe=fe*R+X*V,j=j*R-U*V,X=X*R-fe*V,U=ue,fe=pe),x&&Math.abs(x)+Math.abs(S)>359.9&&(x=S=0,O=180-O),w=Rt(Math.sqrt(U*U+j*j+N*N)),C=Rt(Math.sqrt(X*X+be*be)),A=fl(fe,X),k=Math.abs(A)>2e-4?A*$a:0,z=me?1/(me<0?-me:me):0),r.svg&&(ue=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!GI(yr(e,ft)),ue&&e.setAttribute("transform",ue))),Math.abs(k)>90&&Math.abs(k)<270&&(o?(w*=-1,k+=S<=0?180:-180,S+=S<=0?180:-180):(C*=-1,k+=k<=0?180:-180)),t=t||r.uncache,r.x=_-((r.xPercent=_&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-_)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+u,r.y=v-((r.yPercent=v&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-v)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+u,r.z=T+u,r.scaleX=Rt(w),r.scaleY=Rt(C),r.rotation=Rt(S)+h,r.rotationX=Rt(x)+h,r.rotationY=Rt(O)+h,r.skewX=k+h,r.skewY=M+h,r.transformPerspective=z+u,(r.zOrigin=parseFloat(m.split(" ")[2])||!t&&r.zOrigin||0)&&(a[Mn]=Md(m)),r.xOffset=r.yOffset=0,r.force3D=Qn.force3D,r.renderTransform=r.svg?B3:BI?$I:j3,r.uncache=0,r},Md=function(e){return(e=e.split(" "))[0]+" "+e[1]},n_=function(e,t,r){var a=pn(t);return Rt(parseFloat(t)+parseFloat(Js(e,"x",r+"px",a)))+a},j3=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,$I(e,t)},qa="0deg",sc="0px",Ha=") ",$I=function(e,t){var r=t||this,a=r.xPercent,o=r.yPercent,u=r.x,h=r.y,d=r.z,m=r.rotation,_=r.rotationY,v=r.rotationX,T=r.skewX,w=r.skewY,C=r.scaleX,S=r.scaleY,x=r.transformPerspective,O=r.force3D,k=r.target,M=r.zOrigin,z="",F=O==="auto"&&e&&e!==1||O===!0;if(M&&(v!==qa||_!==qa)){var G=parseFloat(_)*Al,D=Math.sin(G),A=Math.cos(G),R;G=parseFloat(v)*Al,R=Math.cos(G),u=n_(k,u,D*R*-M),h=n_(k,h,-Math.sin(G)*-M),d=n_(k,d,A*R*-M+M)}x!==sc&&(z+="perspective("+x+Ha),(a||o)&&(z+="translate("+a+"%, "+o+"%) "),(F||u!==sc||h!==sc||d!==sc)&&(z+=d!==sc||F?"translate3d("+u+", "+h+", "+d+") ":"translate("+u+", "+h+Ha),m!==qa&&(z+="rotate("+m+Ha),_!==qa&&(z+="rotateY("+_+Ha),v!==qa&&(z+="rotateX("+v+Ha),(T!==qa||w!==qa)&&(z+="skew("+T+", "+w+Ha),(C!==1||S!==1)&&(z+="scale("+C+", "+S+Ha),k.style[ft]=z||"translate(0, 0)"},B3=function(e,t){var r=t||this,a=r.xPercent,o=r.yPercent,u=r.x,h=r.y,d=r.rotation,m=r.skewX,_=r.skewY,v=r.scaleX,T=r.scaleY,w=r.target,C=r.xOrigin,S=r.yOrigin,x=r.xOffset,O=r.yOffset,k=r.forceCSS,M=parseFloat(u),z=parseFloat(h),F,G,D,A,R;d=parseFloat(d),m=parseFloat(m),_=parseFloat(_),_&&(_=parseFloat(_),m+=_,d+=_),d||m?(d*=Al,m*=Al,F=Math.cos(d)*v,G=Math.sin(d)*v,D=Math.sin(d-m)*-T,A=Math.cos(d-m)*T,m&&(_*=Al,R=Math.tan(m-_),R=Math.sqrt(1+R*R),D*=R,A*=R,_&&(R=Math.tan(_),R=Math.sqrt(1+R*R),F*=R,G*=R)),F=Rt(F),G=Rt(G),D=Rt(D),A=Rt(A)):(F=v,A=T,G=D=0),(M&&!~(u+"").indexOf("px")||z&&!~(h+"").indexOf("px"))&&(M=Js(w,"x",u,"px"),z=Js(w,"y",h,"px")),(C||S||x||O)&&(M=Rt(M+C-(C*F+S*D)+x),z=Rt(z+S-(C*G+S*A)+O)),(a||o)&&(R=w.getBBox(),M=Rt(M+a/100*R.width),z=Rt(z+o/100*R.height)),R="matrix("+F+","+G+","+D+","+A+","+M+","+z+")",w.setAttribute("transform",R),k&&(w.style[ft]=R)},F3=function(e,t,r,a,o){var u=360,h=Wt(o),d=parseFloat(o)*(h&&~o.indexOf("rad")?$a:1),m=d-a,_=a+m+"deg",v,T;return h&&(v=o.split("_")[1],v==="short"&&(m%=u,m!==m%(u/2)&&(m+=m<0?u:-u)),v==="cw"&&m<0?m=(m+u*rS)%u-~~(m/u)*u:v==="ccw"&&m>0&&(m=(m-u*rS)%u-~~(m/u)*u)),e._pt=T=new Nn(e._pt,t,r,a,m,A3),T.e=_,T.u="deg",e._props.push(r),T},cS=function(e,t){for(var r in t)e[r]=t[r];return e},q3=function(e,t,r){var a=cS({},r._gsap),o="perspective,force3D,transformOrigin,svgOrigin",u=r.style,h,d,m,_,v,T,w,C;a.svg?(m=r.getAttribute("transform"),r.setAttribute("transform",""),u[ft]=t,h=Hc(r,1),co(r,ft),r.setAttribute("transform",m)):(m=getComputedStyle(r)[ft],u[ft]=t,h=Hc(r,1),u[ft]=m);for(d in Wi)m=a[d],_=h[d],m!==_&&o.indexOf(d)<0&&(w=pn(m),C=pn(_),v=w!==C?Js(r,d,m,C):parseFloat(m),T=parseFloat(_),e._pt=new Nn(e._pt,h,d,v,T-v,$_),e._pt.u=C||0,e._props.push(d));cS(h,a)};xn("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",a="Bottom",o="Left",u=(e<3?[t,r,a,o]:[t+o,t+r,a+r,a+o]).map(function(h){return e<2?n+h:"border"+h+n});Nd[e>1?"border"+n:n]=function(h,d,m,_,v){var T,w;if(arguments.length<4)return T=u.map(function(C){return zi(h,C,m)}),w=T.join(" "),w.split(T[0]).length===5?T[0]:w;T=(_+"").split(" "),w={},u.forEach(function(C,S){return w[C]=T[S]=T[S]||T[(S-1)/2|0]}),h.init(d,w,v)}});var KI={name:"css",register:Y_,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,a,o){var u=this._props,h=e.style,d=r.vars.startAt,m,_,v,T,w,C,S,x,O,k,M,z,F,G,D,A;pv||Y_(),this.styles=this.styles||jI(e),A=this.styles.props,this.tween=r;for(S in t)if(S!=="autoRound"&&(_=t[S],!(Gn[S]&&OI(S,t,r,a,e,o)))){if(w=typeof _,C=Nd[S],w==="function"&&(_=_.call(r,a,e,o),w=typeof _),w==="string"&&~_.indexOf("random(")&&(_=jc(_)),C)C(this,e,S,_,r)&&(D=1);else if(S.substr(0,2)==="--")m=(getComputedStyle(e).getPropertyValue(S)+"").trim(),_+="",qs.lastIndex=0,qs.test(m)||(x=pn(m),O=pn(_)),O?x!==O&&(m=Js(e,S,m,O)+O):x&&(_+=x),this.add(h,"setProperty",m,_,a,o,0,0,S),u.push(S),A.push(S,0,h[S]);else if(w!=="undefined"){if(d&&S in d?(m=typeof d[S]=="function"?d[S].call(r,a,e,o):d[S],Wt(m)&&~m.indexOf("random(")&&(m=jc(m)),pn(m+"")||m==="auto"||(m+=Qn.units[S]||pn(zi(e,S))||""),(m+"").charAt(1)==="="&&(m=zi(e,S))):m=zi(e,S),T=parseFloat(m),k=w==="string"&&_.charAt(1)==="="&&_.substr(0,2),k&&(_=_.substr(2)),v=parseFloat(_),S in ei&&(S==="autoAlpha"&&(T===1&&zi(e,"visibility")==="hidden"&&v&&(T=0),A.push("visibility",0,h.visibility),ks(this,h,"visibility",T?"inherit":"hidden",v?"inherit":"hidden",!v)),S!=="scale"&&S!=="transform"&&(S=ei[S],~S.indexOf(",")&&(S=S.split(",")[0]))),M=S in Wi,M){if(this.styles.save(S),w==="string"&&_.substring(0,6)==="var(--"&&(_=yr(e,_.substring(4,_.indexOf(")"))),v=parseFloat(_)),z||(F=e._gsap,F.renderTransform&&!t.parseTransform||Hc(e,t.parseTransform),G=t.smoothOrigin!==!1&&F.smooth,z=this._pt=new Nn(this._pt,h,ft,0,1,F.renderTransform,F,0,-1),z.dep=1),S==="scale")this._pt=new Nn(this._pt,F,"scaleY",F.scaleY,(k?wl(F.scaleY,k+v):v)-F.scaleY||0,$_),this._pt.u=0,u.push("scaleY",S),S+="X";else if(S==="transformOrigin"){A.push(Mn,0,h[Mn]),_=U3(_),F.svg?X_(e,_,0,G,0,this):(O=parseFloat(_.split(" ")[2])||0,O!==F.zOrigin&&ks(this,F,"zOrigin",F.zOrigin,O),ks(this,h,S,Md(m),Md(_)));continue}else if(S==="svgOrigin"){X_(e,_,1,G,0,this);continue}else if(S in HI){F3(this,F,S,T,k?wl(T,k+_):_);continue}else if(S==="smoothOrigin"){ks(this,F,"smooth",F.smooth,_);continue}else if(S==="force3D"){F[S]=_;continue}else if(S==="transform"){q3(this,_,e);continue}}else S in h||(S=Ll(S)||S);if(M||(v||v===0)&&(T||T===0)&&!S3.test(_)&&S in h)x=(m+"").substr((T+"").length),v||(v=0),O=pn(_)||(S in Qn.units?Qn.units[S]:x),x!==O&&(T=Js(e,S,m,O)),this._pt=new Nn(this._pt,M?F:h,S,T,(k?wl(T,k+v):v)-T,!M&&(O==="px"||S==="zIndex")&&t.autoRound!==!1?I3:$_),this._pt.u=O||0,x!==O&&O!=="%"&&(this._pt.b=m,this._pt.r=R3);else if(S in h)L3.call(this,e,S,m,k?k+_:_);else if(S in e)this.add(e,S,m||e[S],k?k+_:_,a,o);else if(S!=="parseTransform"){iv(S,_);continue}M||(S in h?A.push(S,0,h[S]):typeof e[S]=="function"?A.push(S,2,e[S]()):A.push(S,1,m||e[S])),u.push(S)}}D&&kI(this)},render:function(e,t){if(t.tween._time||!mv())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:zi,aliases:ei,getSetter:function(e,t,r){var a=ei[t];return a&&a.indexOf(",")<0&&(t=a),t in Wi&&t!==Mn&&(e._gsap.x||zi(e,"x"))?r&&nS===r?t==="scale"?D3:P3:(nS=r||{})&&(t==="scale"?x3:N3):e.style&&!tv(e.style[t])?C3:~t.indexOf("-")?O3:fv(e,t)},core:{_removeProperty:co,_getMatrix:_v}};kn.utils.checkPrefix=Ll;kn.core.getStyleSaver=jI;(function(n,e,t,r){var a=xn(n+","+e+","+t,function(o){Wi[o]=1});xn(e,function(o){Qn.units[o]="deg",HI[o]=1}),ei[a[13]]=n+","+e,xn(r,function(o){var u=o.split(":");ei[u[1]]=a[u[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");xn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Qn.units[n]="px"});kn.registerPlugin(KI);var kd=kn.registerPlugin(KI)||kn;kd.core.Tween;const nd=W.forwardRef(({customClass:n,...e},t)=>$.jsx("div",{ref:t,...e,className:`card ${n??""} ${e.className??""}`.trim()}));nd.displayName="Card";const r_=(n,e,t,r)=>({x:n*e,y:-n*t,z:-n*e*1.5,zIndex:r-n}),H3=(n,e,t)=>kd.set(n,{x:e.x,y:e.y,z:e.z,xPercent:-50,yPercent:-50,skewY:t,transformOrigin:"center center",zIndex:e.zIndex,force3D:!1}),G3=({width:n=600,height:e=400,cardDistance:t=60,verticalDistance:r=70,delay:a=5e3,pauseOnHover:o=!1,onCardClick:u,skewAmount:h=6,easing:d="elastic",children:m})=>{const _=d==="elastic"?{ease:"elastic.out(0.6,0.9)",durDrop:2,durMove:2,durReturn:2,promoteOverlap:.9,returnDelay:.05}:{ease:"power1.inOut",durDrop:.8,durMove:.8,durReturn:.8,promoteOverlap:.45,returnDelay:.2},v=W.useMemo(()=>W.Children.toArray(m),[m]),T=W.useMemo(()=>v.map(()=>Vs.createRef()),[v.length]),w=W.useRef(Array.from({length:v.length},(k,M)=>M)),C=W.useRef(null),S=W.useRef(),x=W.useRef(null);W.useEffect(()=>{const k=T.length;T.forEach((z,F)=>H3(z.current,r_(F,t,r,k),h));const M=()=>{if(w.current.length<2)return;const[z,...F]=w.current,G=T[z].current,D=kd.timeline();C.current=D,D.to(G,{y:"+=500",duration:_.durDrop,ease:_.ease}),D.addLabel("promote",`-=${_.durDrop*_.promoteOverlap}`),F.forEach((R,V)=>{const U=T[R].current,j=r_(V,t,r,T.length);D.set(U,{zIndex:j.zIndex},"promote"),D.to(U,{x:j.x,y:j.y,z:j.z,duration:_.durMove,ease:_.ease},`promote+=${V*.15}`)});const A=r_(T.length-1,t,r,T.length);D.addLabel("return",`promote+=${_.durMove*_.returnDelay}`),D.call(()=>{kd.set(G,{zIndex:A.zIndex})},void 0,"return"),D.set(G,{x:A.x,z:A.z},"return"),D.to(G,{y:A.y,duration:_.durReturn,ease:_.ease},"return"),D.call(()=>{w.current=[...F,z]})};if(M(),S.current=window.setInterval(M,a),o){const z=x.current,F=()=>{C.current?.pause(),clearInterval(S.current)},G=()=>{C.current?.play(),S.current=window.setInterval(M,a)};return z.addEventListener("mouseenter",F),z.addEventListener("mouseleave",G),()=>{z.removeEventListener("mouseenter",F),z.removeEventListener("mouseleave",G),clearInterval(S.current)}}return()=>clearInterval(S.current)},[t,r,a,o,h,d]);const O=v.map((k,M)=>W.isValidElement(k)?W.cloneElement(k,{key:M,ref:T[M],style:{width:n,height:e,...k.props.style??{}},onClick:z=>{k.props.onClick?.(z),u?.(M)}}):k);return $.jsx("div",{ref:x,className:"card-swap-container",style:{width:n,height:e},children:O})};function $3(){const{currentUser:n}=W.useContext(ih),[e,t]=W.useState(""),[r,a]=W.useState(""),o=async u=>{if(u.preventDefault(),!n){a("Вы должны войти в аккаунт, чтобы отправить отзыв.");return}if(!e.trim()){a("Пожалуйста, напишите что-нибудь :)");return}try{await x4(_4(M_,"feedbacks"),{uid:n.uid,email:n.email,message:e.trim(),createdAt:st.now()}),t(""),a("Спасибо за отзыв!")}catch(h){console.error("Ошибка отправки отзыва:",h),a("Ошибка при отправке. Попробуйте позже.")}};return $.jsxs("div",{style:{padding:"20px",maxWidth:"500px",margin:"auto"},children:[$.jsx("h3",{children:"📝 Оставьте отзыв"}),$.jsxs("form",{onSubmit:o,children:[$.jsx("textarea",{value:e,onChange:u=>t(u.target.value),placeholder:"Напишите, что вы думаете...",rows:5,style:{width:"100%",padding:"10px",marginBottom:"10px"}}),$.jsx("button",{type:"submit",style:{padding:"10px",width:"100%",backgroundColor:"#3498db",color:"white",border:"none"},children:"Отправить"})]}),r&&$.jsx("p",{style:{marginTop:"10px"},children:r})]})}const K3=({item:n})=>$.jsxs("div",{className:"HomePage",children:[$.jsxs("div",{className:"parentCardSwap",children:[$.jsxs("div",{className:"infoCardSwap",children:[$.jsxs("h1",{children:["EdUmeed - Education ",$.jsx("br",{})," is hope"]}),$.jsxs("p",{children:["Lorem ipsum dolor sit amet, consectetur adipisicing elit. ",$.jsx("br",{}),"Consequatur dolorem fuga repudiandae. Distinctio recusandae"]})]}),$.jsx("div",{style:{height:"500px",position:"relative"},children:$.jsxs(G3,{cardDistance:60,verticalDistance:70,delay:5e3,pauseOnHover:!1,children:[$.jsxs(nd,{children:[$.jsx("h3",{children:"Card 1"}),$.jsx("div",{className:"line"}),$.jsx("img",{className:"imgCard",src:"/EdUmeed-mvp/image/cardS1.jpg",alt:"Card 1"}),$.jsx("p",{children:"vev"})]}),$.jsxs(nd,{children:[$.jsx("h3",{children:"Card 2"}),$.jsx("div",{className:"line"}),$.jsx("img",{className:"imgCard",src:"/EdUmeed-mvp/image/cardS2.jpg",alt:"Card 1"})]}),$.jsxs(nd,{children:[$.jsx("h3",{children:"Card 3"}),$.jsx("div",{className:"line"}),$.jsx("img",{className:"imgCard",src:"/EdUmeed-mvp/image/cardS3.jpg",alt:"Card 1"})]})]})})]}),$.jsx(O6,{item:n}),$.jsx($3,{})]});function Y3(){const[n,e]=W.useState(""),[t,r]=W.useState(""),[a,o]=W.useState(!0),[u,h]=W.useState(""),d=ho(),_=Dr().state?.from||"/",v=async w=>{w.preventDefault(),h("");try{a?await Mx(Sc,n,t):await Nx(Sc,n,t),d(_,{replace:!0})}catch(C){h(C.message)}},T=async()=>{const w=new ji;h("");try{const C=await iN(Sc,w);d(_,{replace:!0})}catch(C){h(C.message)}};return $.jsx("div",{className:"login-container",children:$.jsxs("div",{className:"login-box",children:[$.jsx("img",{src:"/EdUmeed-mvp/image/cardS3.jpg",alt:""}),a?$.jsx("h2",{children:"Welcome back"}):$.jsx("h2",{children:"Welcome"}),$.jsx("p",{children:"Please enter your details to sign in"}),$.jsxs("button",{className:"google-btn",onClick:T,children:[$.jsx("img",{src:"/EdUmeed-mvp/image/google.svg",alt:""})," Sign in with Google"]}),$.jsxs("div",{className:"lineP",children:[$.jsx("div",{className:"linePart"}),$.jsx("p",{children:"OR"}),$.jsx("div",{className:"linePart"})]}),$.jsxs("form",{onSubmit:v,children:[$.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:w=>e(w.target.value),autoComplete:"email",required:!0}),$.jsx("input",{type:"password",placeholder:"password",value:t,onChange:w=>r(w.target.value),autoComplete:"current-password",required:!0}),u&&$.jsx("p",{className:"error-message",children:"email or password incorect"}),$.jsx("button",{type:"submit",className:"submit",children:a?"Sign in":"Sign up"})]}),$.jsx("a",{className:"toggle-btn",onClick:()=>{o(!a),h("")},children:a?$.jsxs($.Fragment,{children:["Don't have accaunt yet? ",$.jsx("span",{children:"Sign up"})]}):$.jsxs($.Fragment,{children:["Alredy had accaunt ",$.jsx("span",{children:"Sign in"})]})}),$.jsx("hr",{})]})})}const X3=()=>{const{pathname:n}=Dr(),e=Dr();return W.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e.pathname,e.state]),null},hS="/EdUmeed-mvp/image/profileIcon.svg",Q3=n=>{const[e,t]=W.useState(""),[r,a]=W.useState(""),[o,u]=W.useState(""),[h,d]=W.useState(hS),[m,_]=W.useState(null),[v,T]=W.useState(null),[w,C]=W.useState(!0);return W.useEffect(()=>{(async()=>{if(n)try{const k=await O4(x_(M_,"users",n.uid));if(k.exists()){const M=k.data();t(M.name||n.email?.split("@")[0]),a(M.location||""),u(M.about||""),d(M.photo||hS)}else t(n.email?.split("@")[0])}catch(k){console.error("Ошибка загрузки профиля:",k)}finally{C(!1)}})()},[n]),{name:e,setName:t,location:r,setLocation:a,about:o,setAbout:u,photo:h,photoPreview:v,handlePhotoChange:O=>{const k=O.target.files[0];if(k){_(k);const M=new FileReader;M.onloadend=()=>{T(M.result)},M.readAsDataURL(k)}},saveProfile:async()=>{if(!n)return;let O=h;if(m){const k=qU(XU,`profilePhotos/${n.uid}`);await BU(k,m),O=await FU(k)}await D4(x_(M_,"users",n.uid),{name:e,location:r,about:o,photo:O}),d(O),T(null)},loading:w}};function W3(){const{currentUser:n}=W.useContext(ih),e=ho(),[t,r]=W.useState(!1),{name:a,setName:o,location:u,setLocation:h,about:d,setAbout:m,photo:_,photoPreview:v,handlePhotoChange:T,saveProfile:w,loading:C}=Q3(n),S=async()=>{await Ux(Sc),e("/login")},x=async()=>{await w(),r(!1)};return C||!n?$.jsx("p",{className:"loading",children:"Загрузка..."}):$.jsxs("div",{className:"profile-container",children:[$.jsx("img",{className:"profileIcon",src:v||_,alt:"profile"}),t&&$.jsxs("div",{className:"input-group",children:[$.jsx("label",{children:"Фото профиля:"}),$.jsx("input",{type:"file",accept:"image/*",onChange:T})]}),t?$.jsxs($.Fragment,{children:[$.jsxs("div",{className:"input-group",children:[$.jsx("label",{children:"Имя:"}),$.jsx("input",{type:"text",value:a,onChange:O=>o(O.target.value)})]}),$.jsxs("div",{className:"input-group",children:[$.jsx("label",{children:"Место:"}),$.jsx("input",{type:"text",value:u,onChange:O=>h(O.target.value)})]}),$.jsxs("div",{className:"input-group",children:[$.jsx("label",{children:"О себе:"}),$.jsx("textarea",{rows:"4",value:d,onChange:O=>m(O.target.value)})]}),$.jsx("button",{className:"save-btn",onClick:x,children:"Сохранить"})]}):$.jsxs($.Fragment,{children:[$.jsx("h2",{children:a}),$.jsxs("p",{children:[$.jsx("strong",{children:"Email:"})," ",n.email]}),$.jsxs("p",{children:[$.jsx("strong",{children:"Место:"})," ",u||"Не указано"]}),$.jsxs("p",{children:[$.jsx("strong",{children:"О себе:"})," ",d||"Не указано"]}),$.jsx("button",{className:"edit-btn",onClick:()=>r(!0),children:"✏️ Редактировать"})]}),$.jsx("button",{className:"logout-btn",onClick:S,children:"Выйти"})]})}function Z3(){const[n,e]=W.useState([]);return W.useEffect(()=>{fetch("/EdUmeed-mvp/json/video.json").then(t=>t.json()).then(t=>e(t))},[]),$.jsx($.Fragment,{children:$.jsxs("div",{className:"content",children:[$.jsx(X3,{}),$.jsx(WU,{}),$.jsx("div",{className:"line"}),$.jsxs(fP,{children:[$.jsx(ac,{path:"/",element:$.jsx(K3,{item:n})}),$.jsx(ac,{path:"/courses",element:$.jsx(C6,{})}),$.jsx(ac,{path:"/login",element:$.jsx(Y3,{})}),$.jsx(ac,{path:"/profile",element:$.jsx(W3,{})})]})]})})}ZP.createRoot(document.getElementById("root")).render($.jsx(W.StrictMode,{children:$.jsx(VP,{basename:"/EdUmeed-mvp",children:$.jsx(QU,{children:$.jsx(Z3,{})})})}));export{Rn as _,op as a,n6 as b,fS as g,Ul as r};
